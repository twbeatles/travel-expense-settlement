var kg=Object.defineProperty;var Og=(c,o,d)=>o in c?kg(c,o,{enumerable:!0,configurable:!0,writable:!0,value:d}):c[o]=d;var bf=(c,o,d)=>Og(c,typeof o!="symbol"?o+"":o,d);import{r as zg,a as m,j as l,C as Gf,A as Qf,b as Xf,L as Vf,B as Kf,p as Zf,c as $f,d as Jf,P as vf,e as Ff,f as Rg,g as Bg,i as _g,h as Ug,D as Hg}from"./charts-DWKOC2S0.js";import{r as Wf}from"./react-DIecAtdb.js";import{i as Lg,g as qg,a as Yg,b as Gg,G as Qg,o as Xg,s as Vg,c as Kg,d as Qe,e as ms,f as hn,h as Ma,j as Zt,k as fs,q as Bi,l as mo,u as bt,m as jf,n as El,w as Zg,p as us,r as $g,t as Jg,v as Fg}from"./firebase-BwugEu--.js";import{E as _i,h as yo}from"./export-CJA1fV40.js";import{Q as Wg}from"./ui-A5W4YKuk.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const j of g.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&u(j)}).observe(document,{childList:!0,subtree:!0});function d(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function u(f){if(f.ep)return;f.ep=!0;const g=d(f);fetch(f.href,g)}})();var so={exports:{}},os={},io={exports:{}},co={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nf;function Ig(){return Nf||(Nf=1,(function(c){function o(R,te){var K=R.length;R.push(te);e:for(;0<K;){var ee=K-1>>>1,fe=R[ee];if(0<f(fe,te))R[ee]=te,R[K]=fe,K=ee;else break e}}function d(R){return R.length===0?null:R[0]}function u(R){if(R.length===0)return null;var te=R[0],K=R.pop();if(K!==te){R[0]=K;e:for(var ee=0,fe=R.length,xe=fe>>>1;ee<xe;){var Ce=2*(ee+1)-1,be=R[Ce],$=Ce+1,re=R[$];if(0>f(be,K))$<fe&&0>f(re,be)?(R[ee]=re,R[$]=K,ee=$):(R[ee]=be,R[Ce]=K,ee=Ce);else if($<fe&&0>f(re,K))R[ee]=re,R[$]=K,ee=$;else break e}}return te}function f(R,te){var K=R.sortIndex-te.sortIndex;return K!==0?K:R.id-te.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;c.unstable_now=function(){return g.now()}}else{var j=Date,h=j.now();c.unstable_now=function(){return j.now()-h}}var N=[],S=[],w=1,A=null,b=3,v=!1,D=!1,x=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(R){for(var te=d(S);te!==null;){if(te.callback===null)u(S);else if(te.startTime<=R)u(S),te.sortIndex=te.expirationTime,o(N,te);else break;te=d(S)}}function G(R){if(x=!1,O(R),!D)if(d(N)!==null)D=!0,P||(P=!0,L());else{var te=d(S);te!==null&&ie(G,te.startTime-R)}}var P=!1,Z=-1,Q=5,q=-1;function H(){return y?!0:!(c.unstable_now()-q<Q)}function F(){if(y=!1,P){var R=c.unstable_now();q=R;var te=!0;try{e:{D=!1,x&&(x=!1,k(Z),Z=-1),v=!0;var K=b;try{t:{for(O(R),A=d(N);A!==null&&!(A.expirationTime>R&&H());){var ee=A.callback;if(typeof ee=="function"){A.callback=null,b=A.priorityLevel;var fe=ee(A.expirationTime<=R);if(R=c.unstable_now(),typeof fe=="function"){A.callback=fe,O(R),te=!0;break t}A===d(N)&&u(N),O(R)}else u(N);A=d(N)}if(A!==null)te=!0;else{var xe=d(S);xe!==null&&ie(G,xe.startTime-R),te=!1}}break e}finally{A=null,b=K,v=!1}te=void 0}}finally{te?L():P=!1}}}var L;if(typeof C=="function")L=function(){C(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ce=ne.port2;ne.port1.onmessage=F,L=function(){ce.postMessage(null)}}else L=function(){T(F,0)};function ie(R,te){Z=T(function(){R(c.unstable_now())},te)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(R){R.callback=null},c.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<R?Math.floor(1e3/R):5},c.unstable_getCurrentPriorityLevel=function(){return b},c.unstable_next=function(R){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var K=b;b=te;try{return R()}finally{b=K}},c.unstable_requestPaint=function(){y=!0},c.unstable_runWithPriority=function(R,te){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=b;b=R;try{return te()}finally{b=K}},c.unstable_scheduleCallback=function(R,te,K){var ee=c.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ee+K:ee):K=ee,R){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=K+fe,R={id:w++,callback:te,priorityLevel:R,startTime:K,expirationTime:fe,sortIndex:-1},K>ee?(R.sortIndex=K,o(S,R),d(N)===null&&R===d(S)&&(x?(k(Z),Z=-1):x=!0,ie(G,K-ee))):(R.sortIndex=fe,o(N,R),D||v||(D=!0,P||(P=!0,L()))),R},c.unstable_shouldYield=H,c.unstable_wrapCallback=function(R){var te=b;return function(){var K=b;b=te;try{return R.apply(this,arguments)}finally{b=K}}}})(co)),co}var Sf;function Pg(){return Sf||(Sf=1,io.exports=Ig()),io.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cf;function ex(){if(Cf)return os;Cf=1;var c=Pg(),o=zg(),d=Wf();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function j(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(g(e)!==e)throw Error(u(188))}function S(e){var t=e.alternate;if(!t){if(t=g(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return N(s),e;if(i===n)return N(s),t;i=i.sibling}throw Error(u(188))}if(a.return!==n.return)a=s,n=i;else{for(var r=!1,p=s.child;p;){if(p===a){r=!0,a=s,n=i;break}if(p===n){r=!0,n=s,a=i;break}p=p.sibling}if(!r){for(p=i.child;p;){if(p===a){r=!0,a=i,n=s;break}if(p===n){r=!0,n=i,a=s;break}p=p.sibling}if(!r)throw Error(u(189))}}if(a.alternate!==n)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case T:return"Profiler";case y:return"StrictMode";case G:return"Suspense";case P:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case C:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Q:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var ie=Array.isArray,R=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ee=[],fe=-1;function xe(e){return{current:e}}function Ce(e){0>fe||(e.current=ee[fe],ee[fe]=null,fe--)}function be(e,t){fe++,ee[fe]=e.current,e.current=t}var $=xe(null),re=xe(null),pe=xe(null),ve=xe(null);function V(e,t){switch(be(pe,t),be(re,e),be($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ym(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ym(t),e=Gm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ce($),be($,e)}function X(){Ce($),Ce(re),Ce(pe)}function ae(e){e.memoizedState!==null&&be(ve,e);var t=$.current,a=Gm(t,e.type);t!==a&&(be(re,e),be($,a))}function se(e){re.current===e&&(Ce($),Ce(re)),ve.current===e&&(Ce(ve),ss._currentValue=K)}var de,we;function Ne(e){if(de===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);de=t&&t[1]||"",we=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+e+we}var je=!1;function He(e,t){if(!e||je)return"";je=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(Y){var U=Y}Reflect.construct(e,[],I)}else{try{I.call()}catch(Y){U=Y}e.call(I.prototype)}}else{try{throw Error()}catch(Y){U=Y}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(Y){if(Y&&U&&typeof Y.stack=="string")return[Y.stack,U.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),r=i[0],p=i[1];if(r&&p){var E=r.split(`
`),_=p.split(`
`);for(s=n=0;n<E.length&&!E[n].includes("DetermineComponentFrameRoot");)n++;for(;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;if(n===E.length||s===_.length)for(n=E.length-1,s=_.length-1;1<=n&&0<=s&&E[n]!==_[s];)s--;for(;1<=n&&0<=s;n--,s--)if(E[n]!==_[s]){if(n!==1||s!==1)do if(n--,s--,0>s||E[n]!==_[s]){var J=`
`+E[n].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=n&&0<=s);break}}}finally{je=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ne(a):""}function rt(e,t){switch(e.tag){case 26:case 27:case 5:return Ne(e.type);case 16:return Ne("Lazy");case 13:return e.child!==t&&t!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return He(e.type,!1);case 11:return He(e.type.render,!1);case 1:return He(e.type,!0);case 31:return Ne("Activity");default:return""}}function Pt(e){try{var t="",a=null;do t+=rt(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Mt=Object.prototype.hasOwnProperty,ll=c.unstable_scheduleCallback,nl=c.unstable_cancelCallback,gn=c.unstable_shouldYield,ea=c.unstable_requestPaint,Xe=c.unstable_now,oa=c.unstable_getCurrentPriorityLevel,ua=c.unstable_ImmediatePriority,xn=c.unstable_UserBlockingPriority,wl=c.unstable_NormalPriority,Qi=c.unstable_LowPriority,ps=c.unstable_IdlePriority,Xi=c.log,Vi=c.unstable_setDisableYieldValue,ta=null,pt=null;function aa(e){if(typeof Xi=="function"&&Vi(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(ta,e)}catch{}}var gt=Math.clz32?Math.clz32:De,Ki=Math.log,le=Math.LN2;function De(e){return e>>>=0,e===0?32:31-(Ki(e)/le|0)|0}var Je=256,jt=262144,sl=4194304;function il(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gs(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var p=n&134217727;return p!==0?(n=p&~i,n!==0?s=il(n):(r&=p,r!==0?s=il(r):a||(a=p&~e,a!==0&&(s=il(a))))):(p=n&~i,p!==0?s=il(p):r!==0?s=il(r):a||(a=n&~e,a!==0&&(s=il(a)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:s}function yn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function yh(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var e=sl;return sl<<=1,(sl&62914560)===0&&(sl=4194304),e}function Zi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function bn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,t,a,n,s,i){var r=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,E=e.expirationTimes,_=e.hiddenUpdates;for(a=r&~a;0<a;){var J=31-gt(a),I=1<<J;p[J]=0,E[J]=-1;var U=_[J];if(U!==null)for(_[J]=null,J=0;J<U.length;J++){var Y=U[J];Y!==null&&(Y.lane&=-536870913)}a&=~I}n!==0&&So(e,n,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function So(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-gt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function Co(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-gt(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function Eo(e,t){var a=t&-t;return a=(a&42)!==0?1:$i(a),(a&(e.suspendedLanes|t))!==0?0:a}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function wo(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:mf(e.type))}function Do(e,t){var a=te.p;try{return te.p=e,t()}finally{te.p=a}}var Oa=Math.random().toString(36).slice(2),ot="__reactFiber$"+Oa,Nt="__reactProps$"+Oa,Dl="__reactContainer$"+Oa,Fi="__reactEvents$"+Oa,vh="__reactListeners$"+Oa,jh="__reactHandles$"+Oa,To="__reactResources$"+Oa,vn="__reactMarker$"+Oa;function Wi(e){delete e[ot],delete e[Nt],delete e[Fi],delete e[vh],delete e[jh]}function Tl(e){var t=e[ot];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Dl]||a[ot]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Jm(e);e!==null;){if(a=e[ot])return a;e=Jm(e)}return t}e=a,a=e.parentNode}return null}function Ml(e){if(e=e[ot]||e[Dl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function jn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Al(e){var t=e[To];return t||(t=e[To]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[vn]=!0}var Mo=new Set,Ao={};function cl(e,t){kl(e,t),kl(e+"Capture",t)}function kl(e,t){for(Ao[e]=t,e=0;e<t.length;e++)Mo.add(t[e])}var Nh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Oo={};function Sh(e){return Mt.call(Oo,e)?!0:Mt.call(ko,e)?!1:Nh.test(e)?Oo[e]=!0:(ko[e]=!0,!1)}function xs(e,t,a){if(Sh(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ys(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function da(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zo(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ch(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){a=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(r){a=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ii(e){if(!e._valueTracker){var t=zo(e)?"checked":"value";e._valueTracker=Ch(e,t,""+e[t])}}function Ro(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=zo(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Eh=/[\n"\\]/g;function Ht(e){return e.replace(Eh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Pi(e,t,a,n,s,i,r,p){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?ec(e,r,Ut(t)):a!=null?ec(e,r,Ut(a)):n!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Ut(p):e.removeAttribute("name")}function Bo(e,t,a,n,s,i,r,p){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Ii(e);return}a=a!=null?""+Ut(a):"",t=t!=null?""+Ut(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=p?e.checked:!!n,e.defaultChecked=!!n,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Ii(e)}function ec(e,t,a){t==="number"&&bs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ol(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _o(e,t,a){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ut(a):""}function Uo(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(u(92));if(ie(n)){if(1<n.length)throw Error(u(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Ut(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Ii(e)}function zl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||wh.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Lo(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&Ho(e,s,n)}else for(var i in t)t.hasOwnProperty(i)&&Ho(e,i,t[i])}function tc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Th=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(e){return Th.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ma(){}var ac=null;function lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rl=null,Bl=null;function qo(e){var t=Ml(e);if(t&&(e=t.stateNode)){var a=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Pi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[Nt]||null;if(!s)throw Error(u(90));Pi(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Ro(n)}break e;case"textarea":_o(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ol(e,!!a.multiple,t,!1)}}}var nc=!1;function Yo(e,t,a){if(nc)return e(t,a);nc=!0;try{var n=e(t);return n}finally{if(nc=!1,(Rl!==null||Bl!==null)&&(ci(),Rl&&(t=Rl,e=Bl,Bl=Rl=null,qo(t),e)))for(t=0;t<e.length;t++)qo(e[t])}}function Nn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Nt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=!1;if(fa)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){sc=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{sc=!1}var za=null,ic=null,js=null;function Go(){if(js)return js;var e,t=ic,a=t.length,n,s="value"in za?za.value:za.textContent,i=s.length;for(e=0;e<a&&t[e]===s[e];e++);var r=a-e;for(n=1;n<=r&&t[a-n]===s[i-n];n++);return js=s.slice(e,1<n?1-n:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function Qo(){return!1}function St(e){function t(a,n,s,i,r){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(i):i[p]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ss:Qo,this.isPropagationStopped=Qo,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=St(rl),Cn=A({},rl,{view:0,detail:0}),Mh=St(Cn),cc,rc,En,Es=A({},Cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(En&&e.type==="mousemove"?(cc=e.screenX-En.screenX,rc=e.screenY-En.screenY):rc=cc=0,En=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),Xo=St(Es),Ah=A({},Es,{dataTransfer:0}),kh=St(Ah),Oh=A({},Cn,{relatedTarget:0}),oc=St(Oh),zh=A({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),Rh=St(zh),Bh=A({},rl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_h=St(Bh),Uh=A({},rl,{data:0}),Vo=St(Uh),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qh[e])?!!t[e]:!1}function uc(){return Yh}var Gh=A({},Cn,{key:function(e){if(e.key){var t=Hh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qh=St(Gh),Xh=A({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=St(Xh),Vh=A({},Cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Kh=St(Vh),Zh=A({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$h=St(Zh),Jh=A({},Es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fh=St(Jh),Wh=A({},rl,{newState:0,oldState:0}),Ih=St(Wh),Ph=[9,13,27,32],dc=fa&&"CompositionEvent"in window,wn=null;fa&&"documentMode"in document&&(wn=document.documentMode);var ep=fa&&"TextEvent"in window&&!wn,Zo=fa&&(!dc||wn&&8<wn&&11>=wn),$o=" ",Jo=!1;function Fo(e,t){switch(e){case"keyup":return Ph.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _l=!1;function tp(e,t){switch(e){case"compositionend":return Wo(t);case"keypress":return t.which!==32?null:(Jo=!0,$o);case"textInput":return e=t.data,e===$o&&Jo?null:e;default:return null}}function ap(e,t){if(_l)return e==="compositionend"||!dc&&Fo(e,t)?(e=Go(),js=ic=za=null,_l=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zo&&t.locale!=="ko"?null:t.data;default:return null}}var lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lp[e.type]:t==="textarea"}function Po(e,t,a,n){Rl?Bl?Bl.push(n):Bl=[n]:Rl=n,t=hi(t,"onChange"),0<t.length&&(a=new Cs("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Dn=null,Tn=null;function np(e){Bm(e,0)}function ws(e){var t=jn(e);if(Ro(t))return e}function eu(e,t){if(e==="change")return t}var tu=!1;if(fa){var mc;if(fa){var fc="oninput"in document;if(!fc){var au=document.createElement("div");au.setAttribute("oninput","return;"),fc=typeof au.oninput=="function"}mc=fc}else mc=!1;tu=mc&&(!document.documentMode||9<document.documentMode)}function lu(){Dn&&(Dn.detachEvent("onpropertychange",nu),Tn=Dn=null)}function nu(e){if(e.propertyName==="value"&&ws(Tn)){var t=[];Po(t,Tn,e,lc(e)),Yo(np,t)}}function sp(e,t,a){e==="focusin"?(lu(),Dn=t,Tn=a,Dn.attachEvent("onpropertychange",nu)):e==="focusout"&&lu()}function ip(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ws(Tn)}function cp(e,t){if(e==="click")return ws(t)}function rp(e,t){if(e==="input"||e==="change")return ws(t)}function op(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:op;function Mn(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!Mt.call(t,s)||!At(e[s],t[s]))return!1}return!0}function su(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iu(e,t){var a=su(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=su(a)}}function cu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ru(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=bs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=bs(e.document)}return t}function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var up=fa&&"documentMode"in document&&11>=document.documentMode,Ul=null,pc=null,An=null,gc=!1;function ou(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gc||Ul==null||Ul!==bs(n)||(n=Ul,"selectionStart"in n&&hc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),An&&Mn(An,n)||(An=n,n=hi(pc,"onSelect"),0<n.length&&(t=new Cs("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Ul)))}function ol(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Hl={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionrun:ol("Transition","TransitionRun"),transitionstart:ol("Transition","TransitionStart"),transitioncancel:ol("Transition","TransitionCancel"),transitionend:ol("Transition","TransitionEnd")},xc={},uu={};fa&&(uu=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function ul(e){if(xc[e])return xc[e];if(!Hl[e])return e;var t=Hl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in uu)return xc[e]=t[a];return e}var du=ul("animationend"),mu=ul("animationiteration"),fu=ul("animationstart"),dp=ul("transitionrun"),mp=ul("transitionstart"),fp=ul("transitioncancel"),hu=ul("transitionend"),pu=new Map,yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yc.push("scrollEnd");function $t(e,t){pu.set(e,t),cl(t,[e])}var Ds=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Ll=0,bc=0;function Ts(){for(var e=Ll,t=bc=Ll=0;t<e;){var a=Lt[t];Lt[t++]=null;var n=Lt[t];Lt[t++]=null;var s=Lt[t];Lt[t++]=null;var i=Lt[t];if(Lt[t++]=null,n!==null&&s!==null){var r=n.pending;r===null?s.next=s:(s.next=r.next,r.next=s),n.pending=s}i!==0&&gu(a,s,i)}}function Ms(e,t,a,n){Lt[Ll++]=e,Lt[Ll++]=t,Lt[Ll++]=a,Lt[Ll++]=n,bc|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function vc(e,t,a,n){return Ms(e,t,a,n),As(e)}function dl(e,t){return Ms(e,null,null,t),As(e)}function gu(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,i=e.return;i!==null;)i.childLanes|=a,n=i.alternate,n!==null&&(n.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-gt(a),e=i.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),i):null}function As(e){if(50<In)throw In=0,Mr=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ql={};function hp(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,a,n){return new hp(e,t,a,n)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ha(e,t){var a=e.alternate;return a===null?(a=kt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function xu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ks(e,t,a,n,s,i){var r=0;if(n=e,typeof e=="function")jc(e)&&(r=1);else if(typeof e=="string")r=bg(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case q:return e=kt(31,a,t,s),e.elementType=q,e.lanes=i,e;case x:return ml(a.children,s,i,t);case y:r=8,s|=24;break;case T:return e=kt(12,a,t,s|2),e.elementType=T,e.lanes=i,e;case G:return e=kt(13,a,t,s),e.elementType=G,e.lanes=i,e;case P:return e=kt(19,a,t,s),e.elementType=P,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:r=10;break e;case k:r=9;break e;case O:r=11;break e;case Z:r=14;break e;case Q:r=16,n=null;break e}r=29,a=Error(u(130,e===null?"null":typeof e,"")),n=null}return t=kt(r,a,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ml(e,t,a,n){return e=kt(7,e,n,t),e.lanes=a,e}function Nc(e,t,a){return e=kt(6,e,null,t),e.lanes=a,e}function yu(e){var t=kt(18,null,null,0);return t.stateNode=e,t}function Sc(e,t,a){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bu=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var a=bu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Pt(t)},bu.set(e,t),t)}return{value:e,source:t,stack:Pt(t)}}var Yl=[],Gl=0,Os=null,kn=0,Yt=[],Gt=0,Ra=null,la=1,na="";function pa(e,t){Yl[Gl++]=kn,Yl[Gl++]=Os,Os=e,kn=t}function vu(e,t,a){Yt[Gt++]=la,Yt[Gt++]=na,Yt[Gt++]=Ra,Ra=e;var n=la;e=na;var s=32-gt(n)-1;n&=~(1<<s),a+=1;var i=32-gt(t)+s;if(30<i){var r=s-s%5;i=(n&(1<<r)-1).toString(32),n>>=r,s-=r,la=1<<32-gt(t)+s|a<<s|n,na=i+e}else la=1<<i|a<<s|n,na=e}function Cc(e){e.return!==null&&(pa(e,1),vu(e,1,0))}function Ec(e){for(;e===Os;)Os=Yl[--Gl],Yl[Gl]=null,kn=Yl[--Gl],Yl[Gl]=null;for(;e===Ra;)Ra=Yt[--Gt],Yt[Gt]=null,na=Yt[--Gt],Yt[Gt]=null,la=Yt[--Gt],Yt[Gt]=null}function ju(e,t){Yt[Gt++]=la,Yt[Gt++]=na,Yt[Gt++]=Ra,la=t.id,na=t.overflow,Ra=e}var ut=null,Ve=null,Oe=!1,Ba=null,Qt=!1,wc=Error(u(519));function _a(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw On(qt(t,e)),wc}function Nu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[ot]=e,t[Nt]=n,a){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(a=0;a<es.length;a++)Me(es[a],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),Bo(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),Uo(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Lm(t.textContent,a)?(n.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),n.onScroll!=null&&Me("scroll",t),n.onScrollEnd!=null&&Me("scrollend",t),n.onClick!=null&&(t.onclick=ma),t=!0):t=!1,t||_a(e,!0)}function Su(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ut=ut.return}}function Ql(e){if(e!==ut)return!1;if(!Oe)return Su(e),Oe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xr(e.type,e.memoizedProps)),a=!a),a&&Ve&&_a(e),Su(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Ve=$m(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Ve=$m(e)}else t===27?(t=Ve,Fa(e.type)?(e=Jr,Jr=null,Ve=e):Ve=t):Ve=ut?Vt(e.stateNode.nextSibling):null;return!0}function fl(){Ve=ut=null,Oe=!1}function Dc(){var e=Ba;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),Ba=null),e}function On(e){Ba===null?Ba=[e]:Ba.push(e)}var Tc=xe(null),hl=null,ga=null;function Ua(e,t,a){be(Tc,t._currentValue),t._currentValue=a}function xa(e){e._currentValue=Tc.current,Ce(Tc)}function Mc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Ac(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var p=i;i=s;for(var E=0;E<t.length;E++)if(p.context===t[E]){i.lanes|=a,p=i.alternate,p!==null&&(p.lanes|=a),Mc(i.return,a,e),n||(r=null);break e}i=p.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(u(341));r.lanes|=a,i=r.alternate,i!==null&&(i.lanes|=a),Mc(r,a,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Xl(e,t,a,n){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(u(387));if(r=r.memoizedProps,r!==null){var p=s.type;At(s.pendingProps.value,r.value)||(e!==null?e.push(p):e=[p])}}else if(s===ve.current){if(r=s.alternate,r===null)throw Error(u(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ss):e=[ss])}s=s.return}e!==null&&Ac(t,e,a,n),t.flags|=262144}function zs(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function pl(e){hl=e,ga=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function dt(e){return Cu(hl,e)}function Rs(e,t){return hl===null&&pl(e),Cu(e,t)}function Cu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ga===null){if(e===null)throw Error(u(308));ga=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ga=ga.next=t;return a}var pp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},gp=c.unstable_scheduleCallback,xp=c.unstable_NormalPriority,et={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new pp,data:new Map,refCount:0}}function zn(e){e.refCount--,e.refCount===0&&gp(xp,function(){e.controller.abort()})}var Rn=null,Oc=0,Vl=0,Kl=null;function yp(e,t){if(Rn===null){var a=Rn=[];Oc=0,Vl=Br(),Kl={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Oc++,t.then(Eu,Eu),t}function Eu(){if(--Oc===0&&Rn!==null){Kl!==null&&(Kl.status="fulfilled");var e=Rn;Rn=null,Vl=0,Kl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function bp(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var wu=R.S;R.S=function(e,t){om=Xe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&yp(e,t),wu!==null&&wu(e,t)};var gl=xe(null);function zc(){var e=gl.current;return e!==null?e:Ge.pooledCache}function Bs(e,t){t===null?be(gl,gl.current):be(gl,t.pool)}function Du(){var e=zc();return e===null?null:{parent:et._currentValue,pool:e}}var Zl=Error(u(460)),Rc=Error(u(474)),_s=Error(u(542)),Us={then:function(){}};function Tu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ma,ma),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ku(e),e;default:if(typeof t.status=="string")t.then(ma,ma);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ku(e),e}throw yl=t,Zl}}function xl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(yl=a,Zl):a}}var yl=null;function Au(){if(yl===null)throw Error(u(459));var e=yl;return yl=null,e}function ku(e){if(e===Zl||e===_s)throw Error(u(483))}var $l=null,Bn=0;function Hs(e){var t=Bn;return Bn+=1,$l===null&&($l=[]),Mu($l,e,t)}function _n(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ls(e,t){throw t.$$typeof===b?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ou(e){function t(z,M){if(e){var B=z.deletions;B===null?(z.deletions=[M],z.flags|=16):B.push(M)}}function a(z,M){if(!e)return null;for(;M!==null;)t(z,M),M=M.sibling;return null}function n(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function s(z,M){return z=ha(z,M),z.index=0,z.sibling=null,z}function i(z,M,B){return z.index=B,e?(B=z.alternate,B!==null?(B=B.index,B<M?(z.flags|=67108866,M):B):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function r(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function p(z,M,B,W){return M===null||M.tag!==6?(M=Nc(B,z.mode,W),M.return=z,M):(M=s(M,B),M.return=z,M)}function E(z,M,B,W){var ge=B.type;return ge===x?J(z,M,B.props.children,W,B.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Q&&xl(ge)===M.type)?(M=s(M,B.props),_n(M,B),M.return=z,M):(M=ks(B.type,B.key,B.props,null,z.mode,W),_n(M,B),M.return=z,M)}function _(z,M,B,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Sc(B,z.mode,W),M.return=z,M):(M=s(M,B.children||[]),M.return=z,M)}function J(z,M,B,W,ge){return M===null||M.tag!==7?(M=ml(B,z.mode,W,ge),M.return=z,M):(M=s(M,B),M.return=z,M)}function I(z,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Nc(""+M,z.mode,B),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case v:return B=ks(M.type,M.key,M.props,null,z.mode,B),_n(B,M),B.return=z,B;case D:return M=Sc(M,z.mode,B),M.return=z,M;case Q:return M=xl(M),I(z,M,B)}if(ie(M)||L(M))return M=ml(M,z.mode,B,null),M.return=z,M;if(typeof M.then=="function")return I(z,Hs(M),B);if(M.$$typeof===C)return I(z,Rs(z,M),B);Ls(z,M)}return null}function U(z,M,B,W){var ge=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:p(z,M,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return B.key===ge?E(z,M,B,W):null;case D:return B.key===ge?_(z,M,B,W):null;case Q:return B=xl(B),U(z,M,B,W)}if(ie(B)||L(B))return ge!==null?null:J(z,M,B,W,null);if(typeof B.then=="function")return U(z,M,Hs(B),W);if(B.$$typeof===C)return U(z,M,Rs(z,B),W);Ls(z,B)}return null}function Y(z,M,B,W,ge){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(B)||null,p(M,z,""+W,ge);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return z=z.get(W.key===null?B:W.key)||null,E(M,z,W,ge);case D:return z=z.get(W.key===null?B:W.key)||null,_(M,z,W,ge);case Q:return W=xl(W),Y(z,M,B,W,ge)}if(ie(W)||L(W))return z=z.get(B)||null,J(M,z,W,ge,null);if(typeof W.then=="function")return Y(z,M,B,Hs(W),ge);if(W.$$typeof===C)return Y(z,M,B,Rs(M,W),ge);Ls(M,W)}return null}function me(z,M,B,W){for(var ge=null,ze=null,he=M,Ee=M=0,ke=null;he!==null&&Ee<B.length;Ee++){he.index>Ee?(ke=he,he=null):ke=he.sibling;var Re=U(z,he,B[Ee],W);if(Re===null){he===null&&(he=ke);break}e&&he&&Re.alternate===null&&t(z,he),M=i(Re,M,Ee),ze===null?ge=Re:ze.sibling=Re,ze=Re,he=ke}if(Ee===B.length)return a(z,he),Oe&&pa(z,Ee),ge;if(he===null){for(;Ee<B.length;Ee++)he=I(z,B[Ee],W),he!==null&&(M=i(he,M,Ee),ze===null?ge=he:ze.sibling=he,ze=he);return Oe&&pa(z,Ee),ge}for(he=n(he);Ee<B.length;Ee++)ke=Y(he,z,Ee,B[Ee],W),ke!==null&&(e&&ke.alternate!==null&&he.delete(ke.key===null?Ee:ke.key),M=i(ke,M,Ee),ze===null?ge=ke:ze.sibling=ke,ze=ke);return e&&he.forEach(function(tl){return t(z,tl)}),Oe&&pa(z,Ee),ge}function ye(z,M,B,W){if(B==null)throw Error(u(151));for(var ge=null,ze=null,he=M,Ee=M=0,ke=null,Re=B.next();he!==null&&!Re.done;Ee++,Re=B.next()){he.index>Ee?(ke=he,he=null):ke=he.sibling;var tl=U(z,he,Re.value,W);if(tl===null){he===null&&(he=ke);break}e&&he&&tl.alternate===null&&t(z,he),M=i(tl,M,Ee),ze===null?ge=tl:ze.sibling=tl,ze=tl,he=ke}if(Re.done)return a(z,he),Oe&&pa(z,Ee),ge;if(he===null){for(;!Re.done;Ee++,Re=B.next())Re=I(z,Re.value,W),Re!==null&&(M=i(Re,M,Ee),ze===null?ge=Re:ze.sibling=Re,ze=Re);return Oe&&pa(z,Ee),ge}for(he=n(he);!Re.done;Ee++,Re=B.next())Re=Y(he,z,Ee,Re.value,W),Re!==null&&(e&&Re.alternate!==null&&he.delete(Re.key===null?Ee:Re.key),M=i(Re,M,Ee),ze===null?ge=Re:ze.sibling=Re,ze=Re);return e&&he.forEach(function(Ag){return t(z,Ag)}),Oe&&pa(z,Ee),ge}function Ye(z,M,B,W){if(typeof B=="object"&&B!==null&&B.type===x&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case v:e:{for(var ge=B.key;M!==null;){if(M.key===ge){if(ge=B.type,ge===x){if(M.tag===7){a(z,M.sibling),W=s(M,B.props.children),W.return=z,z=W;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Q&&xl(ge)===M.type){a(z,M.sibling),W=s(M,B.props),_n(W,B),W.return=z,z=W;break e}a(z,M);break}else t(z,M);M=M.sibling}B.type===x?(W=ml(B.props.children,z.mode,W,B.key),W.return=z,z=W):(W=ks(B.type,B.key,B.props,null,z.mode,W),_n(W,B),W.return=z,z=W)}return r(z);case D:e:{for(ge=B.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(z,M.sibling),W=s(M,B.children||[]),W.return=z,z=W;break e}else{a(z,M);break}else t(z,M);M=M.sibling}W=Sc(B,z.mode,W),W.return=z,z=W}return r(z);case Q:return B=xl(B),Ye(z,M,B,W)}if(ie(B))return me(z,M,B,W);if(L(B)){if(ge=L(B),typeof ge!="function")throw Error(u(150));return B=ge.call(B),ye(z,M,B,W)}if(typeof B.then=="function")return Ye(z,M,Hs(B),W);if(B.$$typeof===C)return Ye(z,M,Rs(z,B),W);Ls(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(z,M.sibling),W=s(M,B),W.return=z,z=W):(a(z,M),W=Nc(B,z.mode,W),W.return=z,z=W),r(z)):a(z,M)}return function(z,M,B,W){try{Bn=0;var ge=Ye(z,M,B,W);return $l=null,ge}catch(he){if(he===Zl||he===_s)throw he;var ze=kt(29,he,null,z.mode);return ze.lanes=W,ze.return=z,ze}finally{}}}var bl=Ou(!0),zu=Ou(!1),Ha=!1;function Bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Be&2)!==0){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=As(e),gu(e,null,a),t}return Ms(e,n,t,a),As(e)}function Un(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Co(e,a)}}function Uc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var r={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,a=a.next}while(a!==null);i===null?s=i=t:i=i.next=t}else s=i=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Hc=!1;function Hn(){if(Hc){var e=Kl;if(e!==null)throw e}}function Ln(e,t,a,n){Hc=!1;var s=e.updateQueue;Ha=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,p=s.shared.pending;if(p!==null){s.shared.pending=null;var E=p,_=E.next;E.next=null,r===null?i=_:r.next=_,r=E;var J=e.alternate;J!==null&&(J=J.updateQueue,p=J.lastBaseUpdate,p!==r&&(p===null?J.firstBaseUpdate=_:p.next=_,J.lastBaseUpdate=E))}if(i!==null){var I=s.baseState;r=0,J=_=E=null,p=i;do{var U=p.lane&-536870913,Y=U!==p.lane;if(Y?(Ae&U)===U:(n&U)===U){U!==0&&U===Vl&&(Hc=!0),J!==null&&(J=J.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var me=e,ye=p;U=t;var Ye=a;switch(ye.tag){case 1:if(me=ye.payload,typeof me=="function"){I=me.call(Ye,I,U);break e}I=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,U=typeof me=="function"?me.call(Ye,I,U):me,U==null)break e;I=A({},I,U);break e;case 2:Ha=!0}}U=p.callback,U!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=s.callbacks,Y===null?s.callbacks=[U]:Y.push(U))}else Y={lane:U,tag:p.tag,payload:p.payload,callback:p.callback,next:null},J===null?(_=J=Y,E=I):J=J.next=Y,r|=U;if(p=p.next,p===null){if(p=s.shared.pending,p===null)break;Y=p,p=Y.next,Y.next=null,s.lastBaseUpdate=Y,s.shared.pending=null}}while(!0);J===null&&(E=I),s.baseState=E,s.firstBaseUpdate=_,s.lastBaseUpdate=J,i===null&&(s.shared.lanes=0),Va|=r,e.lanes=r,e.memoizedState=I}}function Ru(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Bu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ru(a[e],t)}var Jl=xe(null),qs=xe(0);function _u(e,t){e=wa,be(qs,e),be(Jl,t),wa=e|t.baseLanes}function Lc(){be(qs,wa),be(Jl,Jl.current)}function qc(){wa=qs.current,Ce(Jl),Ce(qs)}var Ot=xe(null),Xt=null;function Ya(e){var t=e.alternate;be(Ie,Ie.current&1),be(Ot,e),Xt===null&&(t===null||Jl.current!==null||t.memoizedState!==null)&&(Xt=e)}function Yc(e){be(Ie,Ie.current),be(Ot,e),Xt===null&&(Xt=e)}function Uu(e){e.tag===22?(be(Ie,Ie.current),be(Ot,e),Xt===null&&(Xt=e)):Ga()}function Ga(){be(Ie,Ie.current),be(Ot,Ot.current)}function zt(e){Ce(Ot),Xt===e&&(Xt=null),Ce(Ie)}var Ie=xe(0);function Ys(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zr(a)||$r(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ya=0,Se=null,Le=null,tt=null,Gs=!1,Fl=!1,vl=!1,Qs=0,qn=0,Wl=null,vp=0;function Fe(){throw Error(u(321))}function Gc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!At(e[a],t[a]))return!1;return!0}function Qc(e,t,a,n,s,i){return ya=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?vd:nr,vl=!1,i=a(n,s),vl=!1,Fl&&(i=Lu(t,a,n,s)),Hu(e),i}function Hu(e){R.H=Qn;var t=Le!==null&&Le.next!==null;if(ya=0,tt=Le=Se=null,Gs=!1,qn=0,Wl=null,t)throw Error(u(300));e===null||at||(e=e.dependencies,e!==null&&zs(e)&&(at=!0))}function Lu(e,t,a,n){Se=e;var s=0;do{if(Fl&&(Wl=null),qn=0,Fl=!1,25<=s)throw Error(u(301));if(s+=1,tt=Le=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}R.H=jd,i=t(a,n)}while(Fl);return i}function jp(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Yn(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(Se.flags|=1024),t}function Xc(){var e=Qs!==0;return Qs=0,e}function Vc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Kc(e){if(Gs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Gs=!1}ya=0,tt=Le=Se=null,Fl=!1,qn=Qs=0,Wl=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Se.memoizedState=tt=e:tt=tt.next=e,tt}function Pe(){if(Le===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=tt===null?Se.memoizedState:tt.next;if(t!==null)tt=t,Le=e;else{if(e===null)throw Se.alternate===null?Error(u(467)):Error(u(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},tt===null?Se.memoizedState=tt=e:tt=tt.next=e}return tt}function Xs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yn(e){var t=qn;return qn+=1,Wl===null&&(Wl=[]),e=Mu(Wl,e,t),t=Se,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?vd:nr),e}function Vs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Yn(e);if(e.$$typeof===C)return dt(e)}throw Error(u(438,String(e)))}function Zc(e){var t=null,a=Se.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Se.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Xs(),Se.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=H;return t.index++,a}function ba(e,t){return typeof t=="function"?t(e):t}function Ks(e){var t=Pe();return $c(t,Le,e)}function $c(e,t,a){var n=e.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=a;var s=e.baseQueue,i=n.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,n.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var p=r=null,E=null,_=t,J=!1;do{var I=_.lane&-536870913;if(I!==_.lane?(Ae&I)===I:(ya&I)===I){var U=_.revertLane;if(U===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),I===Vl&&(J=!0);else if((ya&U)===U){_=_.next,U===Vl&&(J=!0);continue}else I={lane:0,revertLane:_.revertLane,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},E===null?(p=E=I,r=i):E=E.next=I,Se.lanes|=U,Va|=U;I=_.action,vl&&a(i,I),i=_.hasEagerState?_.eagerState:a(i,I)}else U={lane:I,revertLane:_.revertLane,gesture:_.gesture,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},E===null?(p=E=U,r=i):E=E.next=U,Se.lanes|=I,Va|=I;_=_.next}while(_!==null&&_!==t);if(E===null?r=i:E.next=p,!At(i,e.memoizedState)&&(at=!0,J&&(a=Kl,a!==null)))throw a;e.memoizedState=i,e.baseState=r,e.baseQueue=E,n.lastRenderedState=i}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Jc(e){var t=Pe(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,i=t.memoizedState;if(s!==null){a.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);At(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function qu(e,t,a){var n=Se,s=Pe(),i=Oe;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var r=!At((Le||s).memoizedState,a);if(r&&(s.memoizedState=a,at=!0),s=s.queue,Ic(Qu.bind(null,n,s,e),[e]),s.getSnapshot!==t||r||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Il(9,{destroy:void 0},Gu.bind(null,n,s,a,t),null),Ge===null)throw Error(u(349));i||(ya&127)!==0||Yu(n,t,a)}return a}function Yu(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Se.updateQueue,t===null?(t=Xs(),Se.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Gu(e,t,a,n){t.value=a,t.getSnapshot=n,Xu(t)&&Vu(e)}function Qu(e,t,a){return a(function(){Xu(t)&&Vu(e)})}function Xu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!At(e,a)}catch{return!0}}function Vu(e){var t=dl(e,2);t!==null&&Tt(t,e,2)}function Fc(e){var t=yt();if(typeof e=="function"){var a=e;if(e=a(),vl){aa(!0);try{a()}finally{aa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t}function Ku(e,t,a,n){return e.baseState=a,$c(e,Le,typeof n=="function"?n:ba)}function Np(e,t,a,n,s){if(Js(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};R.T!==null?a(!0):i.isTransition=!1,n(i),a=t.pending,a===null?(i.next=t.pending=i,Zu(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Zu(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var i=R.T,r={};R.T=r;try{var p=a(s,n),E=R.S;E!==null&&E(r,p),$u(e,t,p)}catch(_){Wc(e,t,_)}finally{i!==null&&r.types!==null&&(i.types=r.types),R.T=i}}else try{i=a(s,n),$u(e,t,i)}catch(_){Wc(e,t,_)}}function $u(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Ju(e,t,n)},function(n){return Wc(e,t,n)}):Ju(e,t,a)}function Ju(e,t,a){t.status="fulfilled",t.value=a,Fu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Zu(e,a)))}function Wc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Fu(t),t=t.next;while(t!==n)}e.action=null}function Fu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wu(e,t){return t}function Iu(e,t){if(Oe){var a=Ge.formState;if(a!==null){e:{var n=Se;if(Oe){if(Ve){t:{for(var s=Ve,i=Qt;s.nodeType!==8;){if(!i){s=null;break t}if(s=Vt(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Ve=Vt(s.nextSibling),n=s.data==="F!";break e}}_a(n)}n=!1}n&&(t=a[0])}}return a=yt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:t},a.queue=n,a=xd.bind(null,Se,n),n.dispatch=a,n=Fc(!1),i=lr.bind(null,Se,!1,n.queue),n=yt(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=Np.bind(null,Se,s,i,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function Pu(e){var t=Pe();return ed(t,Le,e)}function ed(e,t,a){if(t=$c(e,t,Wu)[0],e=Ks(ba)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Yn(t)}catch(r){throw r===Zl?_s:r}else n=t;t=Pe();var s=t.queue,i=s.dispatch;return a!==t.memoizedState&&(Se.flags|=2048,Il(9,{destroy:void 0},Sp.bind(null,s,a),null)),[n,i,e]}function Sp(e,t){e.action=t}function td(e){var t=Pe(),a=Le;if(a!==null)return ed(t,a,e);Pe(),t=t.memoizedState,a=Pe();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Il(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Se.updateQueue,t===null&&(t=Xs(),Se.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function ad(){return Pe().memoizedState}function Zs(e,t,a,n){var s=yt();Se.flags|=e,s.memoizedState=Il(1|t,{destroy:void 0},a,n===void 0?null:n)}function $s(e,t,a,n){var s=Pe();n=n===void 0?null:n;var i=s.memoizedState.inst;Le!==null&&n!==null&&Gc(n,Le.memoizedState.deps)?s.memoizedState=Il(t,i,a,n):(Se.flags|=e,s.memoizedState=Il(1|t,i,a,n))}function ld(e,t){Zs(8390656,8,e,t)}function Ic(e,t){$s(2048,8,e,t)}function Cp(e){Se.flags|=4;var t=Se.updateQueue;if(t===null)t=Xs(),Se.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function nd(e){var t=Pe().memoizedState;return Cp({ref:t,nextImpl:e}),function(){if((Be&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function sd(e,t){return $s(4,2,e,t)}function id(e,t){return $s(4,4,e,t)}function cd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rd(e,t,a){a=a!=null?a.concat([e]):null,$s(4,4,cd.bind(null,t,e),a)}function Pc(){}function od(e,t){var a=Pe();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Gc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function ud(e,t){var a=Pe();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Gc(t,n[1]))return n[0];if(n=e(),vl){aa(!0);try{e()}finally{aa(!1)}}return a.memoizedState=[n,t],n}function er(e,t,a){return a===void 0||(ya&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=dm(),Se.lanes|=e,Va|=e,a)}function dd(e,t,a,n){return At(a,t)?a:Jl.current!==null?(e=er(e,a,n),At(e,t)||(at=!0),e):(ya&42)===0||(ya&1073741824)!==0&&(Ae&261930)===0?(at=!0,e.memoizedState=a):(e=dm(),Se.lanes|=e,Va|=e,t)}function md(e,t,a,n,s){var i=te.p;te.p=i!==0&&8>i?i:8;var r=R.T,p={};R.T=p,lr(e,!1,t,a);try{var E=s(),_=R.S;if(_!==null&&_(p,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var J=bp(E,n);Gn(e,t,J,_t(e))}else Gn(e,t,n,_t(e))}catch(I){Gn(e,t,{then:function(){},status:"rejected",reason:I},_t())}finally{te.p=i,r!==null&&p.types!==null&&(r.types=p.types),R.T=r}}function Ep(){}function tr(e,t,a,n){if(e.tag!==5)throw Error(u(476));var s=fd(e).queue;md(e,s,t,K,a===null?Ep:function(){return hd(e),a(n)})}function fd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:K},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function hd(e){var t=fd(e);t.next===null&&(t=e.alternate.memoizedState),Gn(e,t.next.queue,{},_t())}function ar(){return dt(ss)}function pd(){return Pe().memoizedState}function gd(){return Pe().memoizedState}function wp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=_t();e=La(a);var n=qa(t,e,a);n!==null&&(Tt(n,t,a),Un(n,t,a)),t={cache:kc()},e.payload=t;return}t=t.return}}function Dp(e,t,a){var n=_t();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Js(e)?yd(t,a):(a=vc(e,t,a,n),a!==null&&(Tt(a,e,n),bd(a,t,n)))}function xd(e,t,a){var n=_t();Gn(e,t,a,n)}function Gn(e,t,a,n){var s={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Js(e))yd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,p=i(r,a);if(s.hasEagerState=!0,s.eagerState=p,At(p,r))return Ms(e,t,s,0),Ge===null&&Ts(),!1}catch{}finally{}if(a=vc(e,t,s,n),a!==null)return Tt(a,e,n),bd(a,t,n),!0}return!1}function lr(e,t,a,n){if(n={lane:2,revertLane:Br(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e)){if(t)throw Error(u(479))}else t=vc(e,a,n,2),t!==null&&Tt(t,e,2)}function Js(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function yd(e,t){Fl=Gs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function bd(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Co(e,a)}}var Qn={readContext:dt,use:Vs,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Qn.useEffectEvent=Fe;var vd={readContext:dt,use:Vs,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:ld,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Zs(4194308,4,cd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){Zs(4,2,e,t)},useMemo:function(e,t){var a=yt();t=t===void 0?null:t;var n=e();if(vl){aa(!0);try{e()}finally{aa(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=yt();if(a!==void 0){var s=a(t);if(vl){aa(!0);try{a(t)}finally{aa(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=Dp.bind(null,Se,e),[n.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Fc(e);var t=e.queue,a=xd.bind(null,Se,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Pc,useDeferredValue:function(e,t){var a=yt();return er(a,e,t)},useTransition:function(){var e=Fc(!1);return e=md.bind(null,Se,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Se,s=yt();if(Oe){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Ge===null)throw Error(u(349));(Ae&127)!==0||Yu(n,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,ld(Qu.bind(null,n,i,e),[e]),n.flags|=2048,Il(9,{destroy:void 0},Gu.bind(null,n,i,a,t),null),a},useId:function(){var e=yt(),t=Ge.identifierPrefix;if(Oe){var a=na,n=la;a=(n&~(1<<32-gt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Qs++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=vp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ar,useFormState:Iu,useActionState:Iu,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=lr.bind(null,Se,!0,a),a.dispatch=t,[e,t]},useMemoCache:Zc,useCacheRefresh:function(){return yt().memoizedState=wp.bind(null,Se)},useEffectEvent:function(e){var t=yt(),a={impl:e};return t.memoizedState=a,function(){if((Be&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},nr={readContext:dt,use:Vs,useCallback:od,useContext:dt,useEffect:Ic,useImperativeHandle:rd,useInsertionEffect:sd,useLayoutEffect:id,useMemo:ud,useReducer:Ks,useRef:ad,useState:function(){return Ks(ba)},useDebugValue:Pc,useDeferredValue:function(e,t){var a=Pe();return dd(a,Le.memoizedState,e,t)},useTransition:function(){var e=Ks(ba)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Yn(e),t]},useSyncExternalStore:qu,useId:pd,useHostTransitionStatus:ar,useFormState:Pu,useActionState:Pu,useOptimistic:function(e,t){var a=Pe();return Ku(a,Le,e,t)},useMemoCache:Zc,useCacheRefresh:gd};nr.useEffectEvent=nd;var jd={readContext:dt,use:Vs,useCallback:od,useContext:dt,useEffect:Ic,useImperativeHandle:rd,useInsertionEffect:sd,useLayoutEffect:id,useMemo:ud,useReducer:Jc,useRef:ad,useState:function(){return Jc(ba)},useDebugValue:Pc,useDeferredValue:function(e,t){var a=Pe();return Le===null?er(a,e,t):dd(a,Le.memoizedState,e,t)},useTransition:function(){var e=Jc(ba)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Yn(e),t]},useSyncExternalStore:qu,useId:pd,useHostTransitionStatus:ar,useFormState:td,useActionState:td,useOptimistic:function(e,t){var a=Pe();return Le!==null?Ku(a,Le,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Zc,useCacheRefresh:gd};jd.useEffectEvent=nd;function sr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:A({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ir={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=_t(),s=La(n);s.payload=t,a!=null&&(s.callback=a),t=qa(e,s,n),t!==null&&(Tt(t,e,n),Un(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=_t(),s=La(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=qa(e,s,n),t!==null&&(Tt(t,e,n),Un(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=_t(),n=La(a);n.tag=2,t!=null&&(n.callback=t),t=qa(e,n,a),t!==null&&(Tt(t,e,a),Un(t,e,a))}};function Nd(e,t,a,n,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,r):t.prototype&&t.prototype.isPureReactComponent?!Mn(a,n)||!Mn(s,i):!0}function Sd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&ir.enqueueReplaceState(t,t.state,null)}function jl(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=A({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function Cd(e){Ds(e)}function Ed(e){console.error(e)}function wd(e){Ds(e)}function Fs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Dd(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function cr(e,t,a){return a=La(a),a.tag=3,a.payload={element:null},a.callback=function(){Fs(e,t)},a}function Td(e){return e=La(e),e.tag=3,e}function Md(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var i=n.value;e.payload=function(){return s(i)},e.callback=function(){Dd(t,a,n)}}var r=a.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Dd(t,a,n),typeof s!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})})}function Tp(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Xl(t,a,s,!0),a=Ot.current,a!==null){switch(a.tag){case 31:case 13:return Xt===null?ri():a.alternate===null&&We===0&&(We=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===Us?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Or(e,n,s)),!1;case 22:return a.flags|=65536,n===Us?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Or(e,n,s)),!1}throw Error(u(435,a.tag))}return Or(e,n,s),ri(),!1}if(Oe)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==wc&&(e=Error(u(422),{cause:n}),On(qt(e,a)))):(n!==wc&&(t=Error(u(423),{cause:n}),On(qt(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=qt(n,a),s=cr(e.stateNode,n,s),Uc(e,s),We!==4&&(We=2)),!1;var i=Error(u(520),{cause:n});if(i=qt(i,a),Wn===null?Wn=[i]:Wn.push(i),We!==4&&(We=2),t===null)return!0;n=qt(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=cr(a.stateNode,n,e),Uc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ka===null||!Ka.has(i))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Td(s),Md(s,e,a,n),Uc(a,s),!1}a=a.return}while(a!==null);return!1}var rr=Error(u(461)),at=!1;function mt(e,t,a,n){t.child=e===null?zu(t,null,a,n):bl(t,e.child,a,n)}function Ad(e,t,a,n,s){a=a.render;var i=t.ref;if("ref"in n){var r={};for(var p in n)p!=="ref"&&(r[p]=n[p])}else r=n;return pl(t),n=Qc(e,t,a,r,i,s),p=Xc(),e!==null&&!at?(Vc(e,t,s),va(e,t,s)):(Oe&&p&&Cc(t),t.flags|=1,mt(e,t,n,s),t.child)}function kd(e,t,a,n,s){if(e===null){var i=a.type;return typeof i=="function"&&!jc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Od(e,t,i,n,s)):(e=ks(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!gr(e,s)){var r=i.memoizedProps;if(a=a.compare,a=a!==null?a:Mn,a(r,n)&&e.ref===t.ref)return va(e,t,s)}return t.flags|=1,e=ha(i,n),e.ref=t.ref,e.return=t,t.child=e}function Od(e,t,a,n,s){if(e!==null){var i=e.memoizedProps;if(Mn(i,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=i,gr(e,s))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,va(e,t,s)}return or(e,t,a,n,s)}function zd(e,t,a,n){var s=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~i}else n=0,t.child=null;return Rd(e,t,i,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bs(t,i!==null?i.cachePool:null),i!==null?_u(t,i):Lc(),Uu(t);else return n=t.lanes=536870912,Rd(e,t,i!==null?i.baseLanes|a:a,a,n)}else i!==null?(Bs(t,i.cachePool),_u(t,i),Ga(),t.memoizedState=null):(e!==null&&Bs(t,null),Lc(),Ga());return mt(e,t,s,a),t.child}function Xn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rd(e,t,a,n,s){var i=zc();return i=i===null?null:{parent:et._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&Bs(t,null),Lc(),Uu(t),e!==null&&Xl(e,t,n,!0),t.childLanes=s,null}function Ws(e,t){return t=Ps({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Bd(e,t,a){return bl(t,e.child,null,a),e=Ws(t,t.pendingProps),e.flags|=2,zt(t),t.memoizedState=null,e}function Mp(e,t,a){var n=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(n.mode==="hidden")return e=Ws(t,n),t.lanes=536870912,Xn(null,e);if(Yc(t),(e=Ve)?(e=Zm(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:la,overflow:na}:null,retryLane:536870912,hydrationErrors:null},a=yu(e),a.return=t,t.child=a,ut=t,Ve=null)):e=null,e===null)throw _a(t);return t.lanes=536870912,null}return Ws(t,n)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Yc(t),s)if(t.flags&256)t.flags&=-257,t=Bd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(at||Xl(e,t,a,!1),s=(a&e.childLanes)!==0,at||s){if(n=Ge,n!==null&&(r=Eo(n,a),r!==0&&r!==i.retryLane))throw i.retryLane=r,dl(e,r),Tt(n,e,r),rr;ri(),t=Bd(e,t,a)}else e=i.treeContext,Ve=Vt(r.nextSibling),ut=t,Oe=!0,Ba=null,Qt=!1,e!==null&&ju(t,e),t=Ws(t,n),t.flags|=4096;return t}return e=ha(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Is(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function or(e,t,a,n,s){return pl(t),a=Qc(e,t,a,n,void 0,s),n=Xc(),e!==null&&!at?(Vc(e,t,s),va(e,t,s)):(Oe&&n&&Cc(t),t.flags|=1,mt(e,t,a,s),t.child)}function _d(e,t,a,n,s,i){return pl(t),t.updateQueue=null,a=Lu(t,n,a,s),Hu(e),n=Xc(),e!==null&&!at?(Vc(e,t,i),va(e,t,i)):(Oe&&n&&Cc(t),t.flags|=1,mt(e,t,a,i),t.child)}function Ud(e,t,a,n,s){if(pl(t),t.stateNode===null){var i=ql,r=a.contextType;typeof r=="object"&&r!==null&&(i=dt(r)),i=new a(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ir,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},Bc(t),r=a.contextType,i.context=typeof r=="object"&&r!==null?dt(r):ql,i.state=t.memoizedState,r=a.getDerivedStateFromProps,typeof r=="function"&&(sr(t,a,r,n),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&ir.enqueueReplaceState(i,i.state,null),Ln(t,n,i,s),Hn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var p=t.memoizedProps,E=jl(a,p);i.props=E;var _=i.context,J=a.contextType;r=ql,typeof J=="object"&&J!==null&&(r=dt(J));var I=a.getDerivedStateFromProps;J=typeof I=="function"||typeof i.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,J||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(p||_!==r)&&Sd(t,i,n,r),Ha=!1;var U=t.memoizedState;i.state=U,Ln(t,n,i,s),Hn(),_=t.memoizedState,p||U!==_||Ha?(typeof I=="function"&&(sr(t,a,I,n),_=t.memoizedState),(E=Ha||Nd(t,a,E,n,U,_,r))?(J||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=_),i.props=n,i.state=_,i.context=r,n=E):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,_c(e,t),r=t.memoizedProps,J=jl(a,r),i.props=J,I=t.pendingProps,U=i.context,_=a.contextType,E=ql,typeof _=="object"&&_!==null&&(E=dt(_)),p=a.getDerivedStateFromProps,(_=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==I||U!==E)&&Sd(t,i,n,E),Ha=!1,U=t.memoizedState,i.state=U,Ln(t,n,i,s),Hn();var Y=t.memoizedState;r!==I||U!==Y||Ha||e!==null&&e.dependencies!==null&&zs(e.dependencies)?(typeof p=="function"&&(sr(t,a,p,n),Y=t.memoizedState),(J=Ha||Nd(t,a,J,n,U,Y,E)||e!==null&&e.dependencies!==null&&zs(e.dependencies))?(_||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,Y,E),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,Y,E)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=Y),i.props=n,i.state=Y,i.context=E,n=J):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Is(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=bl(t,e.child,null,s),t.child=bl(t,null,a,s)):mt(e,t,a,s),t.memoizedState=i.state,e=t.child):e=va(e,t,s),e}function Hd(e,t,a,n){return fl(),t.flags|=256,mt(e,t,a,n),t.child}var ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dr(e){return{baseLanes:e,cachePool:Du()}}function mr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Bt),e}function Ld(e,t,a){var n=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(s?Ya(t):Ga(),(e=Ve)?(e=Zm(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:la,overflow:na}:null,retryLane:536870912,hydrationErrors:null},a=yu(e),a.return=t,t.child=a,ut=t,Ve=null)):e=null,e===null)throw _a(t);return $r(e)?t.lanes=32:t.lanes=536870912,null}var p=n.children;return n=n.fallback,s?(Ga(),s=t.mode,p=Ps({mode:"hidden",children:p},s),n=ml(n,s,a,null),p.return=t,n.return=t,p.sibling=n,t.child=p,n=t.child,n.memoizedState=dr(a),n.childLanes=mr(e,r,a),t.memoizedState=ur,Xn(null,n)):(Ya(t),fr(t,p))}var E=e.memoizedState;if(E!==null&&(p=E.dehydrated,p!==null)){if(i)t.flags&256?(Ya(t),t.flags&=-257,t=hr(e,t,a)):t.memoizedState!==null?(Ga(),t.child=e.child,t.flags|=128,t=null):(Ga(),p=n.fallback,s=t.mode,n=Ps({mode:"visible",children:n.children},s),p=ml(p,s,a,null),p.flags|=2,n.return=t,p.return=t,n.sibling=p,t.child=n,bl(t,e.child,null,a),n=t.child,n.memoizedState=dr(a),n.childLanes=mr(e,r,a),t.memoizedState=ur,t=Xn(null,n));else if(Ya(t),$r(p)){if(r=p.nextSibling&&p.nextSibling.dataset,r)var _=r.dgst;r=_,n=Error(u(419)),n.stack="",n.digest=r,On({value:n,source:null,stack:null}),t=hr(e,t,a)}else if(at||Xl(e,t,a,!1),r=(a&e.childLanes)!==0,at||r){if(r=Ge,r!==null&&(n=Eo(r,a),n!==0&&n!==E.retryLane))throw E.retryLane=n,dl(e,n),Tt(r,e,n),rr;Zr(p)||ri(),t=hr(e,t,a)}else Zr(p)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Ve=Vt(p.nextSibling),ut=t,Oe=!0,Ba=null,Qt=!1,e!==null&&ju(t,e),t=fr(t,n.children),t.flags|=4096);return t}return s?(Ga(),p=n.fallback,s=t.mode,E=e.child,_=E.sibling,n=ha(E,{mode:"hidden",children:n.children}),n.subtreeFlags=E.subtreeFlags&65011712,_!==null?p=ha(_,p):(p=ml(p,s,a,null),p.flags|=2),p.return=t,n.return=t,n.sibling=p,t.child=n,Xn(null,n),n=t.child,p=e.child.memoizedState,p===null?p=dr(a):(s=p.cachePool,s!==null?(E=et._currentValue,s=s.parent!==E?{parent:E,pool:E}:s):s=Du(),p={baseLanes:p.baseLanes|a,cachePool:s}),n.memoizedState=p,n.childLanes=mr(e,r,a),t.memoizedState=ur,Xn(e.child,n)):(Ya(t),a=e.child,e=a.sibling,a=ha(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a)}function fr(e,t){return t=Ps({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ps(e,t){return e=kt(22,e,null,t),e.lanes=0,e}function hr(e,t,a){return bl(t,e.child,null,a),e=fr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qd(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mc(e.return,t,a)}function pr(e,t,a,n,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=a,r.tailMode=s,r.treeForkCount=i)}function Yd(e,t,a){var n=t.pendingProps,s=n.revealOrder,i=n.tail;n=n.children;var r=Ie.current,p=(r&2)!==0;if(p?(r=r&1|2,t.flags|=128):r&=1,be(Ie,r),mt(e,t,n,a),n=Oe?kn:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qd(e,a,t);else if(e.tag===19)qd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Ys(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),pr(t,!1,s,a,i,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ys(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}pr(t,!0,a,null,i,n);break;case"together":pr(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function va(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=ha(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ha(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function gr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&zs(e)))}function Ap(e,t,a){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),Ua(t,et,e.memoizedState.cache),fl();break;case 27:case 5:ae(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:Ua(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Yc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ya(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ld(e,t,a):(Ya(t),e=va(e,t,a),e!==null?e.sibling:null);Ya(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Xl(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return Yd(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Ie,Ie.current),n)break;return null;case 22:return t.lanes=0,zd(e,t,a,t.pendingProps);case 24:Ua(t,et,e.memoizedState.cache)}return va(e,t,a)}function Gd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!gr(e,a)&&(t.flags&128)===0)return at=!1,Ap(e,t,a);at=(e.flags&131072)!==0}else at=!1,Oe&&(t.flags&1048576)!==0&&vu(t,kn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=xl(t.elementType),t.type=e,typeof e=="function")jc(e)?(n=jl(e,n),t.tag=1,t=Ud(null,t,e,n,a)):(t.tag=0,t=or(null,t,e,n,a));else{if(e!=null){var s=e.$$typeof;if(s===O){t.tag=11,t=Ad(null,t,e,n,a);break e}else if(s===Z){t.tag=14,t=kd(null,t,e,n,a);break e}}throw t=ce(e)||e,Error(u(306,t,""))}}return t;case 0:return or(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=jl(n,t.pendingProps),Ud(e,t,n,s,a);case 3:e:{if(V(t,t.stateNode.containerInfo),e===null)throw Error(u(387));n=t.pendingProps;var i=t.memoizedState;s=i.element,_c(e,t),Ln(t,n,null,a);var r=t.memoizedState;if(n=r.cache,Ua(t,et,n),n!==i.cache&&Ac(t,[et],a,!0),Hn(),n=r.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Hd(e,t,n,a);break e}else if(n!==s){s=qt(Error(u(424)),t),On(s),t=Hd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Vt(e.firstChild),ut=t,Oe=!0,Ba=null,Qt=!0,a=zu(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fl(),n===s){t=va(e,t,a);break e}mt(e,t,n,a)}t=t.child}return t;case 26:return Is(e,t),e===null?(a=Pm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Oe||(a=t.type,e=t.pendingProps,n=pi(pe.current).createElement(a),n[ot]=t,n[Nt]=e,ft(n,a,e),it(n),t.stateNode=n):t.memoizedState=Pm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ae(t),e===null&&Oe&&(n=t.stateNode=Fm(t.type,t.pendingProps,pe.current),ut=t,Qt=!0,s=Ve,Fa(t.type)?(Jr=s,Ve=Vt(n.firstChild)):Ve=s),mt(e,t,t.pendingProps.children,a),Is(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((s=n=Ve)&&(n=ig(n,t.type,t.pendingProps,Qt),n!==null?(t.stateNode=n,ut=t,Ve=Vt(n.firstChild),Qt=!1,s=!0):s=!1),s||_a(t)),ae(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,n=i.children,Xr(s,i)?n=null:r!==null&&Xr(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=Qc(e,t,jp,null,null,a),ss._currentValue=s),Is(e,t),mt(e,t,n,a),t.child;case 6:return e===null&&Oe&&((e=a=Ve)&&(a=cg(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,ut=t,Ve=null,e=!0):e=!1),e||_a(t)),null;case 13:return Ld(e,t,a);case 4:return V(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bl(t,null,n,a):mt(e,t,n,a),t.child;case 11:return Ad(e,t,t.type,t.pendingProps,a);case 7:return mt(e,t,t.pendingProps,a),t.child;case 8:return mt(e,t,t.pendingProps.children,a),t.child;case 12:return mt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ua(t,t.type,n.value),mt(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,pl(t),s=dt(s),n=n(s),t.flags|=1,mt(e,t,n,a),t.child;case 14:return kd(e,t,t.type,t.pendingProps,a);case 15:return Od(e,t,t.type,t.pendingProps,a);case 19:return Yd(e,t,a);case 31:return Mp(e,t,a);case 22:return zd(e,t,a,t.pendingProps);case 24:return pl(t),n=dt(et),e===null?(s=zc(),s===null&&(s=Ge,i=kc(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=a),s=i),t.memoizedState={parent:n,cache:s},Bc(t),Ua(t,et,s)):((e.lanes&a)!==0&&(_c(e,t),Ln(t,null,null,a),Hn()),s=e.memoizedState,i=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ua(t,et,n)):(n=i.cache,Ua(t,et,n),n!==s.cache&&Ac(t,[et],a,!0))),mt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function ja(e){e.flags|=4}function xr(e,t,a,n,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(pm())e.flags|=8192;else throw yl=Us,Rc}else e.flags&=-16777217}function Qd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!nf(t))if(pm())e.flags|=8192;else throw yl=Us,Rc}function ei(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?No():536870912,e.lanes|=t,an|=t)}function Vn(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function kp(e,t,a){var n=t.pendingProps;switch(Ec(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xa(et),X(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ql(t)?ja(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Dc())),Ke(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(ja(t),i!==null?(Ke(t),Qd(t,i)):(Ke(t),xr(t,s,null,n,a))):i?i!==e.memoizedState?(ja(t),Ke(t),Qd(t,i)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ja(t),Ke(t),xr(t,s,e,n,a)),null;case 27:if(se(t),a=pe.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ja(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return Ke(t),null}e=$.current,Ql(t)?Nu(t):(e=Fm(s,n,a),t.stateNode=e,ja(t))}return Ke(t),null;case 5:if(se(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ja(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return Ke(t),null}if(i=$.current,Ql(t))Nu(t);else{var r=pi(pe.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?r.createElement(s,{is:n.is}):r.createElement(s)}}i[ot]=t,i[Nt]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(ft(i,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ja(t)}}return Ke(t),xr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ja(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(u(166));if(e=pe.current,Ql(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=ut,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[ot]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Lm(e.nodeValue,a)),e||_a(t,!0)}else e=pi(e).createTextNode(n),e[ot]=t,t.stateNode=e}return Ke(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=Ql(t),a!==null){if(e===null){if(!n)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[ot]=t}else fl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else a=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(zt(t),t):(zt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Ke(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Ql(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(u(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(u(317));s[ot]=t}else fl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),s=!1}else s=Dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(zt(t),t):(zt(t),null)}return zt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==s&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ei(t,t.updateQueue),Ke(t),null);case 4:return X(),e===null&&Lr(t.stateNode.containerInfo),Ke(t),null;case 10:return xa(t.type),Ke(t),null;case 19:if(Ce(Ie),n=t.memoizedState,n===null)return Ke(t),null;if(s=(t.flags&128)!==0,i=n.rendering,i===null)if(s)Vn(n,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Ys(e),i!==null){for(t.flags|=128,Vn(n,!1),e=i.updateQueue,t.updateQueue=e,ei(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)xu(a,e),a=a.sibling;return be(Ie,Ie.current&1|2),Oe&&pa(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Xe()>si&&(t.flags|=128,s=!0,Vn(n,!1),t.lanes=4194304)}else{if(!s)if(e=Ys(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,ei(t,e),Vn(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!Oe)return Ke(t),null}else 2*Xe()-n.renderingStartTime>si&&a!==536870912&&(t.flags|=128,s=!0,Vn(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Xe(),e.sibling=null,a=Ie.current,be(Ie,s?a&1|2:a&1),Oe&&pa(t,n.treeForkCount),e):(Ke(t),null);case 22:case 23:return zt(t),qc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),a=t.updateQueue,a!==null&&ei(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&Ce(gl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),xa(et),Ke(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function Op(e,t){switch(Ec(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xa(et),X(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return se(t),null;case 31:if(t.memoizedState!==null){if(zt(t),t.alternate===null)throw Error(u(340));fl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));fl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Ie),null;case 4:return X(),null;case 10:return xa(t.type),null;case 22:case 23:return zt(t),qc(),e!==null&&Ce(gl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xa(et),null;case 25:return null;default:return null}}function Xd(e,t){switch(Ec(t),t.tag){case 3:xa(et),X();break;case 26:case 27:case 5:se(t);break;case 4:X();break;case 31:t.memoizedState!==null&&zt(t);break;case 13:zt(t);break;case 19:Ce(Ie);break;case 10:xa(t.type);break;case 22:case 23:zt(t),qc(),e!==null&&Ce(gl);break;case 24:xa(et)}}function Kn(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var i=a.create,r=a.inst;n=i(),r.destroy=n}a=a.next}while(a!==s)}}catch(p){Ue(t,t.return,p)}}function Qa(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&e)===e){var r=n.inst,p=r.destroy;if(p!==void 0){r.destroy=void 0,s=t;var E=a,_=p;try{_()}catch(J){Ue(s,E,J)}}}n=n.next}while(n!==i)}}catch(J){Ue(t,t.return,J)}}function Vd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Bu(t,a)}catch(n){Ue(e,e.return,n)}}}function Kd(e,t,a){a.props=jl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Ue(e,t,n)}}function Zn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){Ue(e,t,s)}}function sa(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){Ue(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Ue(e,t,s)}else a.current=null}function Zd(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){Ue(e,e.return,s)}}function yr(e,t,a){try{var n=e.stateNode;eg(n,e.type,a,t),n[Nt]=t}catch(s){Ue(e,e.return,s)}}function $d(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fa(e.type)||e.tag===4}function br(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ma));else if(n!==4&&(n===27&&Fa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(vr(e,t,a),e=e.sibling;e!==null;)vr(e,t,a),e=e.sibling}function ti(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Fa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ti(e,t,a),e=e.sibling;e!==null;)ti(e,t,a),e=e.sibling}function Jd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ft(t,n,a),t[ot]=e,t[Nt]=a}catch(i){Ue(e,e.return,i)}}var Na=!1,lt=!1,jr=!1,Fd=typeof WeakSet=="function"?WeakSet:Set,ct=null;function zp(e,t){if(e=e.containerInfo,Gr=Ni,e=ru(e),hc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var r=0,p=-1,E=-1,_=0,J=0,I=e,U=null;t:for(;;){for(var Y;I!==a||s!==0&&I.nodeType!==3||(p=r+s),I!==i||n!==0&&I.nodeType!==3||(E=r+n),I.nodeType===3&&(r+=I.nodeValue.length),(Y=I.firstChild)!==null;)U=I,I=Y;for(;;){if(I===e)break t;if(U===a&&++_===s&&(p=r),U===i&&++J===n&&(E=r),(Y=I.nextSibling)!==null)break;I=U,U=I.parentNode}I=Y}a=p===-1||E===-1?null:{start:p,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qr={focusedElem:e,selectionRange:a},Ni=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){switch(t=ct,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,s=i.memoizedProps,i=i.memoizedState,n=a.stateNode;try{var me=jl(a.type,s);e=n.getSnapshotBeforeUpdate(me,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Ue(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Kr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Kr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}}function Wd(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ca(e,a),n&4&&Kn(5,a);break;case 1:if(Ca(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(r){Ue(a,a.return,r)}else{var s=jl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){Ue(a,a.return,r)}}n&64&&Vd(a),n&512&&Zn(a,a.return);break;case 3:if(Ca(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Bu(e,t)}catch(r){Ue(a,a.return,r)}}break;case 27:t===null&&n&4&&Jd(a);case 26:case 5:Ca(e,a),t===null&&n&4&&Zd(a),n&512&&Zn(a,a.return);break;case 12:Ca(e,a);break;case 31:Ca(e,a),n&4&&em(e,a);break;case 13:Ca(e,a),n&4&&tm(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Gp.bind(null,a),rg(e,a))));break;case 22:if(n=a.memoizedState!==null||Na,!n){t=t!==null&&t.memoizedState!==null||lt,s=Na;var i=lt;Na=n,(lt=t)&&!i?Ea(e,a,(a.subtreeFlags&8772)!==0):Ca(e,a),Na=s,lt=i}break;case 30:break;default:Ca(e,a)}}function Id(e){var t=e.alternate;t!==null&&(e.alternate=null,Id(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Wi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,Ct=!1;function Sa(e,t,a){for(a=a.child;a!==null;)Pd(e,t,a),a=a.sibling}function Pd(e,t,a){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(ta,a)}catch{}switch(a.tag){case 26:lt||sa(a,t),Sa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||sa(a,t);var n=$e,s=Ct;Fa(a.type)&&($e=a.stateNode,Ct=!1),Sa(e,t,a),as(a.stateNode),$e=n,Ct=s;break;case 5:lt||sa(a,t);case 6:if(n=$e,s=Ct,$e=null,Sa(e,t,a),$e=n,Ct=s,$e!==null)if(Ct)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(i){Ue(a,t,i)}else try{$e.removeChild(a.stateNode)}catch(i){Ue(a,t,i)}break;case 18:$e!==null&&(Ct?(e=$e,Vm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),dn(e)):Vm($e,a.stateNode));break;case 4:n=$e,s=Ct,$e=a.stateNode.containerInfo,Ct=!0,Sa(e,t,a),$e=n,Ct=s;break;case 0:case 11:case 14:case 15:Qa(2,a,t),lt||Qa(4,a,t),Sa(e,t,a);break;case 1:lt||(sa(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Kd(a,t,n)),Sa(e,t,a);break;case 21:Sa(e,t,a);break;case 22:lt=(n=lt)||a.memoizedState!==null,Sa(e,t,a),lt=n;break;default:Sa(e,t,a)}}function em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{dn(e)}catch(a){Ue(t,t.return,a)}}}function tm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{dn(e)}catch(a){Ue(t,t.return,a)}}function Rp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fd),t;default:throw Error(u(435,e.tag))}}function ai(e,t){var a=Rp(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var s=Qp.bind(null,e,n);n.then(s,s)}})}function Et(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],i=e,r=t,p=r;e:for(;p!==null;){switch(p.tag){case 27:if(Fa(p.type)){$e=p.stateNode,Ct=!1;break e}break;case 5:$e=p.stateNode,Ct=!1;break e;case 3:case 4:$e=p.stateNode.containerInfo,Ct=!0;break e}p=p.return}if($e===null)throw Error(u(160));Pd(i,r,s),$e=null,Ct=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)am(t,e),t=t.sibling}var Jt=null;function am(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(t,e),wt(e),n&4&&(Qa(3,e,e.return),Kn(3,e),Qa(5,e,e.return));break;case 1:Et(t,e),wt(e),n&512&&(lt||a===null||sa(a,a.return)),n&64&&Na&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=Jt;if(Et(t,e),wt(e),n&512&&(lt||a===null||sa(a,a.return)),n&4){var i=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":i=s.getElementsByTagName("title")[0],(!i||i[vn]||i[ot]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(n),s.head.insertBefore(i,s.querySelector("head > title"))),ft(i,n,a),i[ot]=e,it(i),n=i;break e;case"link":var r=af("link","href",s).get(n+(a.href||""));if(r){for(var p=0;p<r.length;p++)if(i=r[p],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){r.splice(p,1);break t}}i=s.createElement(n),ft(i,n,a),s.head.appendChild(i);break;case"meta":if(r=af("meta","content",s).get(n+(a.content||""))){for(p=0;p<r.length;p++)if(i=r[p],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){r.splice(p,1);break t}}i=s.createElement(n),ft(i,n,a),s.head.appendChild(i);break;default:throw Error(u(468,n))}i[ot]=e,it(i),n=i}e.stateNode=n}else lf(s,e.type,e.stateNode);else e.stateNode=tf(s,n,e.memoizedProps);else i!==n?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,n===null?lf(s,e.type,e.stateNode):tf(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&yr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Et(t,e),wt(e),n&512&&(lt||a===null||sa(a,a.return)),a!==null&&n&4&&yr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Et(t,e),wt(e),n&512&&(lt||a===null||sa(a,a.return)),e.flags&32){s=e.stateNode;try{zl(s,"")}catch(me){Ue(e,e.return,me)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,yr(e,s,a!==null?a.memoizedProps:s)),n&1024&&(jr=!0);break;case 6:if(Et(t,e),wt(e),n&4){if(e.stateNode===null)throw Error(u(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(me){Ue(e,e.return,me)}}break;case 3:if(yi=null,s=Jt,Jt=gi(t.containerInfo),Et(t,e),Jt=s,wt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{dn(t.containerInfo)}catch(me){Ue(e,e.return,me)}jr&&(jr=!1,lm(e));break;case 4:n=Jt,Jt=gi(e.stateNode.containerInfo),Et(t,e),wt(e),Jt=n;break;case 12:Et(t,e),wt(e);break;case 31:Et(t,e),wt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ai(e,n)));break;case 13:Et(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ni=Xe()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ai(e,n)));break;case 22:s=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,_=Na,J=lt;if(Na=_||s,lt=J||E,Et(t,e),lt=J,Na=_,wt(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||E||Na||lt||Nl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){E=a=t;try{if(i=E.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{p=E.stateNode;var I=E.memoizedProps.style,U=I!=null&&I.hasOwnProperty("display")?I.display:null;p.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(me){Ue(E,E.return,me)}}}else if(t.tag===6){if(a===null){E=t;try{E.stateNode.nodeValue=s?"":E.memoizedProps}catch(me){Ue(E,E.return,me)}}}else if(t.tag===18){if(a===null){E=t;try{var Y=E.stateNode;s?Km(Y,!0):Km(E.stateNode,!1)}catch(me){Ue(E,E.return,me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,ai(e,a))));break;case 19:Et(t,e),wt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,ai(e,n)));break;case 30:break;case 21:break;default:Et(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if($d(n)){a=n;break}n=n.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var s=a.stateNode,i=br(e);ti(e,i,s);break;case 5:var r=a.stateNode;a.flags&32&&(zl(r,""),a.flags&=-33);var p=br(e);ti(e,p,r);break;case 3:case 4:var E=a.stateNode.containerInfo,_=br(e);vr(e,_,E);break;default:throw Error(u(161))}}catch(J){Ue(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;lm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wd(e,t.alternate,t),t=t.sibling}function Nl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qa(4,t,t.return),Nl(t);break;case 1:sa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Kd(t,t.return,a),Nl(t);break;case 27:as(t.stateNode);case 26:case 5:sa(t,t.return),Nl(t);break;case 22:t.memoizedState===null&&Nl(t);break;case 30:Nl(t);break;default:Nl(t)}e=e.sibling}}function Ea(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:Ea(s,i,a),Kn(4,i);break;case 1:if(Ea(s,i,a),n=i,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(_){Ue(n,n.return,_)}if(n=i,s=n.updateQueue,s!==null){var p=n.stateNode;try{var E=s.shared.hiddenCallbacks;if(E!==null)for(s.shared.hiddenCallbacks=null,s=0;s<E.length;s++)Ru(E[s],p)}catch(_){Ue(n,n.return,_)}}a&&r&64&&Vd(i),Zn(i,i.return);break;case 27:Jd(i);case 26:case 5:Ea(s,i,a),a&&n===null&&r&4&&Zd(i),Zn(i,i.return);break;case 12:Ea(s,i,a);break;case 31:Ea(s,i,a),a&&r&4&&em(s,i);break;case 13:Ea(s,i,a),a&&r&4&&tm(s,i);break;case 22:i.memoizedState===null&&Ea(s,i,a),Zn(i,i.return);break;case 30:break;default:Ea(s,i,a)}t=t.sibling}}function Nr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zn(a))}function Sr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zn(e))}function Ft(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)nm(e,t,a,n),t=t.sibling}function nm(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,a,n),s&2048&&Kn(9,t);break;case 1:Ft(e,t,a,n);break;case 3:Ft(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zn(e)));break;case 12:if(s&2048){Ft(e,t,a,n),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,p=i.onPostCommit;typeof p=="function"&&p(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Ue(t,t.return,E)}}else Ft(e,t,a,n);break;case 31:Ft(e,t,a,n);break;case 13:Ft(e,t,a,n);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Ft(e,t,a,n):$n(e,t):i._visibility&2?Ft(e,t,a,n):(i._visibility|=2,Pl(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Nr(r,t);break;case 24:Ft(e,t,a,n),s&2048&&Sr(t.alternate,t);break;default:Ft(e,t,a,n)}}function Pl(e,t,a,n,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,p=a,E=n,_=r.flags;switch(r.tag){case 0:case 11:case 15:Pl(i,r,p,E,s),Kn(8,r);break;case 23:break;case 22:var J=r.stateNode;r.memoizedState!==null?J._visibility&2?Pl(i,r,p,E,s):$n(i,r):(J._visibility|=2,Pl(i,r,p,E,s)),s&&_&2048&&Nr(r.alternate,r);break;case 24:Pl(i,r,p,E,s),s&&_&2048&&Sr(r.alternate,r);break;default:Pl(i,r,p,E,s)}t=t.sibling}}function $n(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:$n(a,n),s&2048&&Nr(n.alternate,n);break;case 24:$n(a,n),s&2048&&Sr(n.alternate,n);break;default:$n(a,n)}t=t.sibling}}var Jn=8192;function en(e,t,a){if(e.subtreeFlags&Jn)for(e=e.child;e!==null;)sm(e,t,a),e=e.sibling}function sm(e,t,a){switch(e.tag){case 26:en(e,t,a),e.flags&Jn&&e.memoizedState!==null&&vg(a,Jt,e.memoizedState,e.memoizedProps);break;case 5:en(e,t,a);break;case 3:case 4:var n=Jt;Jt=gi(e.stateNode.containerInfo),en(e,t,a),Jt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Jn,Jn=16777216,en(e,t,a),Jn=n):en(e,t,a));break;default:en(e,t,a)}}function im(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ct=n,rm(n,e)}im(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cm(e),e=e.sibling}function cm(e){switch(e.tag){case 0:case 11:case 15:Fn(e),e.flags&2048&&Qa(9,e,e.return);break;case 3:Fn(e);break;case 12:Fn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,li(e)):Fn(e);break;default:Fn(e)}}function li(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];ct=n,rm(n,e)}im(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qa(8,t,t.return),li(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,li(t));break;default:li(t)}e=e.sibling}}function rm(e,t){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:Qa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:zn(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,ct=n;else e:for(a=e;ct!==null;){n=ct;var s=n.sibling,i=n.return;if(Id(n),n===a){ct=null;break e}if(s!==null){s.return=i,ct=s;break e}ct=i}}}var Bp={getCacheForType:function(e){var t=dt(et),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return dt(et).controller.signal}},_p=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ge=null,Te=null,Ae=0,_e=0,Rt=null,Xa=!1,tn=!1,Cr=!1,wa=0,We=0,Va=0,Sl=0,Er=0,Bt=0,an=0,Wn=null,Dt=null,wr=!1,ni=0,om=0,si=1/0,ii=null,Ka=null,nt=0,Za=null,ln=null,Da=0,Dr=0,Tr=null,um=null,In=0,Mr=null;function _t(){return(Be&2)!==0&&Ae!==0?Ae&-Ae:R.T!==null?Br():wo()}function dm(){if(Bt===0)if((Ae&536870912)===0||Oe){var e=jt;jt<<=1,(jt&3932160)===0&&(jt=262144),Bt=e}else Bt=536870912;return e=Ot.current,e!==null&&(e.flags|=32),Bt}function Tt(e,t,a){(e===Ge&&(_e===2||_e===9)||e.cancelPendingCommit!==null)&&(nn(e,0),$a(e,Ae,Bt,!1)),bn(e,a),((Be&2)===0||e!==Ge)&&(e===Ge&&((Be&2)===0&&(Sl|=a),We===4&&$a(e,Ae,Bt,!1)),ia(e))}function mm(e,t,a){if((Be&6)!==0)throw Error(u(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||yn(e,t),s=n?Lp(e,t):kr(e,t,!0),i=n;do{if(s===0){tn&&!n&&$a(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Up(a)){s=kr(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var p=e;s=Wn;var E=p.current.memoizedState.isDehydrated;if(E&&(nn(p,r).flags|=256),r=kr(p,r,!1),r!==2){if(Cr&&!E){p.errorRecoveryDisabledLanes|=i,Sl|=i,s=4;break e}i=Dt,Dt=s,i!==null&&(Dt===null?Dt=i:Dt.push.apply(Dt,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){nn(e,0),$a(e,t,0,!0);break}e:{switch(n=e,i=s,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:$a(n,t,Bt,!Xa);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(s=ni+300-Xe(),10<s)){if($a(n,t,Bt,!Xa),gs(n,0,!0)!==0)break e;Da=t,n.timeoutHandle=Qm(fm.bind(null,n,a,Dt,ii,wr,t,Bt,Sl,an,Xa,i,"Throttled",-0,0),s);break e}fm(n,a,Dt,ii,wr,t,Bt,Sl,an,Xa,i,null,-0,0)}}break}while(!0);ia(e)}function fm(e,t,a,n,s,i,r,p,E,_,J,I,U,Y){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ma},sm(t,i,I);var me=(i&62914560)===i?ni-Xe():(i&4194048)===i?om-Xe():0;if(me=jg(I,me),me!==null){Da=i,e.cancelPendingCommit=me(jm.bind(null,e,t,i,a,n,s,r,p,E,J,I,null,U,Y)),$a(e,i,r,!_);return}}jm(e,t,i,a,n,s,r,p,E)}function Up(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $a(e,t,a,n){t&=~Er,t&=~Sl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var i=31-gt(s),r=1<<i;n[i]=-1,s&=~r}a!==0&&So(e,a,t)}function ci(){return(Be&6)===0?(Pn(0),!1):!0}function Ar(){if(Te!==null){if(_e===0)var e=Te.return;else e=Te,ga=hl=null,Kc(e),$l=null,Bn=0,e=Te;for(;e!==null;)Xd(e.alternate,e),e=e.return;Te=null}}function nn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,lg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Da=0,Ar(),Ge=e,Te=a=ha(e.current,null),Ae=t,_e=0,Rt=null,Xa=!1,tn=yn(e,t),Cr=!1,an=Bt=Er=Sl=Va=We=0,Dt=Wn=null,wr=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-gt(n),i=1<<s;t|=e[s],n&=~i}return wa=t,Ts(),a}function hm(e,t){Se=null,R.H=Qn,t===Zl||t===_s?(t=Au(),_e=3):t===Rc?(t=Au(),_e=4):_e=t===rr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Rt=t,Te===null&&(We=1,Fs(e,qt(t,e.current)))}function pm(){var e=Ot.current;return e===null?!0:(Ae&4194048)===Ae?Xt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Xt:!1}function gm(){var e=R.H;return R.H=Qn,e===null?Qn:e}function xm(){var e=R.A;return R.A=Bp,e}function ri(){We=4,Xa||(Ae&4194048)!==Ae&&Ot.current!==null||(tn=!0),(Va&134217727)===0&&(Sl&134217727)===0||Ge===null||$a(Ge,Ae,Bt,!1)}function kr(e,t,a){var n=Be;Be|=2;var s=gm(),i=xm();(Ge!==e||Ae!==t)&&(ii=null,nn(e,t)),t=!1;var r=We;e:do try{if(_e!==0&&Te!==null){var p=Te,E=Rt;switch(_e){case 8:Ar(),r=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var _=_e;if(_e=0,Rt=null,sn(e,p,E,_),a&&tn){r=0;break e}break;default:_=_e,_e=0,Rt=null,sn(e,p,E,_)}}Hp(),r=We;break}catch(J){hm(e,J)}while(!0);return t&&e.shellSuspendCounter++,ga=hl=null,Be=n,R.H=s,R.A=i,Te===null&&(Ge=null,Ae=0,Ts()),r}function Hp(){for(;Te!==null;)ym(Te)}function Lp(e,t){var a=Be;Be|=2;var n=gm(),s=xm();Ge!==e||Ae!==t?(ii=null,si=Xe()+500,nn(e,t)):tn=yn(e,t);e:do try{if(_e!==0&&Te!==null){t=Te;var i=Rt;t:switch(_e){case 1:_e=0,Rt=null,sn(e,t,i,1);break;case 2:case 9:if(Tu(i)){_e=0,Rt=null,bm(t);break}t=function(){_e!==2&&_e!==9||Ge!==e||(_e=7),ia(e)},i.then(t,t);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:Tu(i)?(_e=0,Rt=null,bm(t)):(_e=0,Rt=null,sn(e,t,i,7));break;case 5:var r=null;switch(Te.tag){case 26:r=Te.memoizedState;case 5:case 27:var p=Te;if(r?nf(r):p.stateNode.complete){_e=0,Rt=null;var E=p.sibling;if(E!==null)Te=E;else{var _=p.return;_!==null?(Te=_,oi(_)):Te=null}break t}}_e=0,Rt=null,sn(e,t,i,5);break;case 6:_e=0,Rt=null,sn(e,t,i,6);break;case 8:Ar(),We=6;break e;default:throw Error(u(462))}}qp();break}catch(J){hm(e,J)}while(!0);return ga=hl=null,R.H=n,R.A=s,Be=a,Te!==null?0:(Ge=null,Ae=0,Ts(),We)}function qp(){for(;Te!==null&&!gn();)ym(Te)}function ym(e){var t=Gd(e.alternate,e,wa);e.memoizedProps=e.pendingProps,t===null?oi(e):Te=t}function bm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=_d(a,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=_d(a,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:Kc(t);default:Xd(a,t),t=Te=xu(t,wa),t=Gd(a,t,wa)}e.memoizedProps=e.pendingProps,t===null?oi(e):Te=t}function sn(e,t,a,n){ga=hl=null,Kc(t),$l=null,Bn=0;var s=t.return;try{if(Tp(e,s,t,a,Ae)){We=1,Fs(e,qt(a,e.current)),Te=null;return}}catch(i){if(s!==null)throw Te=s,i;We=1,Fs(e,qt(a,e.current)),Te=null;return}t.flags&32768?(Oe||n===1?e=!0:tn||(Ae&536870912)!==0?e=!1:(Xa=e=!0,(n===2||n===9||n===3||n===6)&&(n=Ot.current,n!==null&&n.tag===13&&(n.flags|=16384))),vm(t,e)):oi(t)}function oi(e){var t=e;do{if((t.flags&32768)!==0){vm(t,Xa);return}e=t.return;var a=kp(t.alternate,t,wa);if(a!==null){Te=a;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);We===0&&(We=5)}function vm(e,t){do{var a=Op(e.alternate,e);if(a!==null){a.flags&=32767,Te=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=a}while(e!==null);We=6,Te=null}function jm(e,t,a,n,s,i,r,p,E){e.cancelPendingCommit=null;do ui();while(nt!==0);if((Be&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=bc,bh(e,a,i,r,p,E),e===Ge&&(Te=Ge=null,Ae=0),ln=t,Za=e,Da=a,Dr=i,Tr=s,um=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xp(wl,function(){return wm(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null,s=te.p,te.p=2,r=Be,Be|=4;try{zp(e,t,a)}finally{Be=r,te.p=s,R.T=n}}nt=1,Nm(),Sm(),Cm()}}function Nm(){if(nt===1){nt=0;var e=Za,t=ln,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var n=te.p;te.p=2;var s=Be;Be|=4;try{am(t,e);var i=Qr,r=ru(e.containerInfo),p=i.focusedElem,E=i.selectionRange;if(r!==p&&p&&p.ownerDocument&&cu(p.ownerDocument.documentElement,p)){if(E!==null&&hc(p)){var _=E.start,J=E.end;if(J===void 0&&(J=_),"selectionStart"in p)p.selectionStart=_,p.selectionEnd=Math.min(J,p.value.length);else{var I=p.ownerDocument||document,U=I&&I.defaultView||window;if(U.getSelection){var Y=U.getSelection(),me=p.textContent.length,ye=Math.min(E.start,me),Ye=E.end===void 0?ye:Math.min(E.end,me);!Y.extend&&ye>Ye&&(r=Ye,Ye=ye,ye=r);var z=iu(p,ye),M=iu(p,Ye);if(z&&M&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var B=I.createRange();B.setStart(z.node,z.offset),Y.removeAllRanges(),ye>Ye?(Y.addRange(B),Y.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),Y.addRange(B))}}}}for(I=[],Y=p;Y=Y.parentNode;)Y.nodeType===1&&I.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<I.length;p++){var W=I[p];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ni=!!Gr,Qr=Gr=null}finally{Be=s,te.p=n,R.T=a}}e.current=t,nt=2}}function Sm(){if(nt===2){nt=0;var e=Za,t=ln,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var n=te.p;te.p=2;var s=Be;Be|=4;try{Wd(e,t.alternate,t)}finally{Be=s,te.p=n,R.T=a}}nt=3}}function Cm(){if(nt===4||nt===3){nt=0,ea();var e=Za,t=ln,a=Da,n=um;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,ln=Za=null,Em(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(Ka=null),Ji(a),t=t.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(ta,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=R.T,s=te.p,te.p=2,R.T=null;try{for(var i=e.onRecoverableError,r=0;r<n.length;r++){var p=n[r];i(p.value,{componentStack:p.stack})}}finally{R.T=t,te.p=s}}(Da&3)!==0&&ui(),ia(e),s=e.pendingLanes,(a&261930)!==0&&(s&42)!==0?e===Mr?In++:(In=0,Mr=e):In=0,Pn(0)}}function Em(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zn(t)))}function ui(){return Nm(),Sm(),Cm(),wm()}function wm(){if(nt!==5)return!1;var e=Za,t=Dr;Dr=0;var a=Ji(Da),n=R.T,s=te.p;try{te.p=32>a?32:a,R.T=null,a=Tr,Tr=null;var i=Za,r=Da;if(nt=0,ln=Za=null,Da=0,(Be&6)!==0)throw Error(u(331));var p=Be;if(Be|=4,cm(i.current),nm(i,i.current,r,a),Be=p,Pn(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(ta,i)}catch{}return!0}finally{te.p=s,R.T=n,Em(e,t)}}function Dm(e,t,a){t=qt(a,t),t=cr(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(bn(e,2),ia(e))}function Ue(e,t,a){if(e.tag===3)Dm(e,e,a);else for(;t!==null;){if(t.tag===3){Dm(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ka===null||!Ka.has(n))){e=qt(a,e),a=Td(2),n=qa(t,a,2),n!==null&&(Md(a,n,t,e),bn(n,2),ia(n));break}}t=t.return}}function Or(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new _p;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(Cr=!0,s.add(a),e=Yp.bind(null,e,t,a),t.then(e,e))}function Yp(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(Ae&a)===a&&(We===4||We===3&&(Ae&62914560)===Ae&&300>Xe()-ni?(Be&2)===0&&nn(e,0):Er|=a,an===Ae&&(an=0)),ia(e)}function Tm(e,t){t===0&&(t=No()),e=dl(e,t),e!==null&&(bn(e,t),ia(e))}function Gp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Tm(e,a)}function Qp(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(u(314))}n!==null&&n.delete(t),Tm(e,a)}function Xp(e,t){return ll(e,t)}var di=null,cn=null,zr=!1,mi=!1,Rr=!1,Ja=0;function ia(e){e!==cn&&e.next===null&&(cn===null?di=cn=e:cn=cn.next=e),mi=!0,zr||(zr=!0,Kp())}function Pn(e,t){if(!Rr&&mi){Rr=!0;do for(var a=!1,n=di;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var i=0;else{var r=n.suspendedLanes,p=n.pingedLanes;i=(1<<31-gt(42|e)+1)-1,i&=s&~(r&~p),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Om(n,i))}else i=Ae,i=gs(n,n===Ge?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(i&3)===0||yn(n,i)||(a=!0,Om(n,i));n=n.next}while(a);Rr=!1}}function Vp(){Mm()}function Mm(){mi=zr=!1;var e=0;Ja!==0&&ag()&&(e=Ja);for(var t=Xe(),a=null,n=di;n!==null;){var s=n.next,i=Am(n,t);i===0?(n.next=null,a===null?di=s:a.next=s,s===null&&(cn=a)):(a=n,(e!==0||(i&3)!==0)&&(mi=!0)),n=s}nt!==0&&nt!==5||Pn(e),Ja!==0&&(Ja=0)}function Am(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-gt(i),p=1<<r,E=s[r];E===-1?((p&a)===0||(p&n)!==0)&&(s[r]=yh(p,t)):E<=t&&(e.expiredLanes|=p),i&=~p}if(t=Ge,a=Ae,a=gs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(_e===2||_e===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&nl(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||yn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&nl(n),Ji(a)){case 2:case 8:a=xn;break;case 32:a=wl;break;case 268435456:a=ps;break;default:a=wl}return n=km.bind(null,e),a=ll(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&nl(n),e.callbackPriority=2,e.callbackNode=null,2}function km(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ui()&&e.callbackNode!==a)return null;var n=Ae;return n=gs(e,e===Ge?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(mm(e,n,t),Am(e,Xe()),e.callbackNode!=null&&e.callbackNode===a?km.bind(null,e):null)}function Om(e,t){if(ui())return null;mm(e,t,!0)}function Kp(){ng(function(){(Be&6)!==0?ll(ua,Vp):Mm()})}function Br(){if(Ja===0){var e=Vl;e===0&&(e=Je,Je<<=1,(Je&261888)===0&&(Je=256)),Ja=e}return Ja}function zm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vs(""+e)}function Rm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Zp(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var i=zm((s[Nt]||null).action),r=n.submitter;r&&(t=(t=r[Nt]||null)?zm(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var p=new Cs("action","action",null,n,s);e.push({event:p,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ja!==0){var E=r?Rm(s,r):new FormData(s);tr(a,{pending:!0,data:E,method:s.method,action:i},null,E)}}else typeof i=="function"&&(p.preventDefault(),E=r?Rm(s,r):new FormData(s),tr(a,{pending:!0,data:E,method:s.method,action:i},i,E))},currentTarget:s}]})}}for(var _r=0;_r<yc.length;_r++){var Ur=yc[_r],$p=Ur.toLowerCase(),Jp=Ur[0].toUpperCase()+Ur.slice(1);$t($p,"on"+Jp)}$t(du,"onAnimationEnd"),$t(mu,"onAnimationIteration"),$t(fu,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(dp,"onTransitionRun"),$t(mp,"onTransitionStart"),$t(fp,"onTransitionCancel"),$t(hu,"onTransitionEnd"),kl("onMouseEnter",["mouseout","mouseover"]),kl("onMouseLeave",["mouseout","mouseover"]),kl("onPointerEnter",["pointerout","pointerover"]),kl("onPointerLeave",["pointerout","pointerover"]),cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(es));function Bm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var r=n.length-1;0<=r;r--){var p=n[r],E=p.instance,_=p.currentTarget;if(p=p.listener,E!==i&&s.isPropagationStopped())break e;i=p,s.currentTarget=_;try{i(s)}catch(J){Ds(J)}s.currentTarget=null,i=E}else for(r=0;r<n.length;r++){if(p=n[r],E=p.instance,_=p.currentTarget,p=p.listener,E!==i&&s.isPropagationStopped())break e;i=p,s.currentTarget=_;try{i(s)}catch(J){Ds(J)}s.currentTarget=null,i=E}}}}function Me(e,t){var a=t[Fi];a===void 0&&(a=t[Fi]=new Set);var n=e+"__bubble";a.has(n)||(_m(t,e,2,!1),a.add(n))}function Hr(e,t,a){var n=0;t&&(n|=4),_m(a,e,n,t)}var fi="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[fi]){e[fi]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(Fp.has(a)||Hr(a,!1,e),Hr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fi]||(t[fi]=!0,Hr("selectionchange",!1,t))}}function _m(e,t,a,n){switch(mf(t)){case 2:var s=Cg;break;case 8:s=Eg;break;default:s=eo}a=s.bind(null,t,a,e),s=void 0,!sc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function qr(e,t,a,n,s){var i=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var p=n.stateNode.containerInfo;if(p===s)break;if(r===4)for(r=n.return;r!==null;){var E=r.tag;if((E===3||E===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;p!==null;){if(r=Tl(p),r===null)return;if(E=r.tag,E===5||E===6||E===26||E===27){n=i=r;continue e}p=p.parentNode}}n=n.return}Yo(function(){var _=i,J=lc(a),I=[];e:{var U=pu.get(e);if(U!==void 0){var Y=Cs,me=e;switch(e){case"keypress":if(Ns(a)===0)break e;case"keydown":case"keyup":Y=Qh;break;case"focusin":me="focus",Y=oc;break;case"focusout":me="blur",Y=oc;break;case"beforeblur":case"afterblur":Y=oc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Kh;break;case du:case mu:case fu:Y=Rh;break;case hu:Y=$h;break;case"scroll":case"scrollend":Y=Mh;break;case"wheel":Y=Fh;break;case"copy":case"cut":case"paste":Y=_h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ko;break;case"toggle":case"beforetoggle":Y=Ih}var ye=(t&4)!==0,Ye=!ye&&(e==="scroll"||e==="scrollend"),z=ye?U!==null?U+"Capture":null:U;ye=[];for(var M=_,B;M!==null;){var W=M;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||z===null||(W=Nn(M,z),W!=null&&ye.push(ts(M,W,B))),Ye)break;M=M.return}0<ye.length&&(U=new Y(U,me,null,a,J),I.push({event:U,listeners:ye}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",U&&a!==ac&&(me=a.relatedTarget||a.fromElement)&&(Tl(me)||me[Dl]))break e;if((Y||U)&&(U=J.window===J?J:(U=J.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(me=a.relatedTarget||a.toElement,Y=_,me=me?Tl(me):null,me!==null&&(Ye=g(me),ye=me.tag,me!==Ye||ye!==5&&ye!==27&&ye!==6)&&(me=null)):(Y=null,me=_),Y!==me)){if(ye=Xo,W="onMouseLeave",z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Ko,W="onPointerLeave",z="onPointerEnter",M="pointer"),Ye=Y==null?U:jn(Y),B=me==null?U:jn(me),U=new ye(W,M+"leave",Y,a,J),U.target=Ye,U.relatedTarget=B,W=null,Tl(J)===_&&(ye=new ye(z,M+"enter",me,a,J),ye.target=B,ye.relatedTarget=Ye,W=ye),Ye=W,Y&&me)t:{for(ye=Wp,z=Y,M=me,B=0,W=z;W;W=ye(W))B++;W=0;for(var ge=M;ge;ge=ye(ge))W++;for(;0<B-W;)z=ye(z),B--;for(;0<W-B;)M=ye(M),W--;for(;B--;){if(z===M||M!==null&&z===M.alternate){ye=z;break t}z=ye(z),M=ye(M)}ye=null}else ye=null;Y!==null&&Um(I,U,Y,ye,!1),me!==null&&Ye!==null&&Um(I,Ye,me,ye,!0)}}e:{if(U=_?jn(_):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var ze=eu;else if(Io(U))if(tu)ze=rp;else{ze=ip;var he=sp}else Y=U.nodeName,!Y||Y.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?_&&tc(_.elementType)&&(ze=eu):ze=cp;if(ze&&(ze=ze(e,_))){Po(I,ze,a,J);break e}he&&he(e,U,_),e==="focusout"&&_&&U.type==="number"&&_.memoizedProps.value!=null&&ec(U,"number",U.value)}switch(he=_?jn(_):window,e){case"focusin":(Io(he)||he.contentEditable==="true")&&(Ul=he,pc=_,An=null);break;case"focusout":An=pc=Ul=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,ou(I,a,J);break;case"selectionchange":if(up)break;case"keydown":case"keyup":ou(I,a,J)}var Ee;if(dc)e:{switch(e){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else _l?Fo(e,a)&&(ke="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Zo&&a.locale!=="ko"&&(_l||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&_l&&(Ee=Go()):(za=J,ic="value"in za?za.value:za.textContent,_l=!0)),he=hi(_,ke),0<he.length&&(ke=new Vo(ke,e,null,a,J),I.push({event:ke,listeners:he}),Ee?ke.data=Ee:(Ee=Wo(a),Ee!==null&&(ke.data=Ee)))),(Ee=ep?tp(e,a):ap(e,a))&&(ke=hi(_,"onBeforeInput"),0<ke.length&&(he=new Vo("onBeforeInput","beforeinput",null,a,J),I.push({event:he,listeners:ke}),he.data=Ee)),Zp(I,e,_,a,J)}Bm(I,t)})}function ts(e,t,a){return{instance:e,listener:t,currentTarget:a}}function hi(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=Nn(e,a),s!=null&&n.unshift(ts(e,s,i)),s=Nn(e,t),s!=null&&n.push(ts(e,s,i))),e.tag===3)return n;e=e.return}return[]}function Wp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Um(e,t,a,n,s){for(var i=t._reactName,r=[];a!==null&&a!==n;){var p=a,E=p.alternate,_=p.stateNode;if(p=p.tag,E!==null&&E===n)break;p!==5&&p!==26&&p!==27||_===null||(E=_,s?(_=Nn(a,i),_!=null&&r.unshift(ts(a,_,E))):s||(_=Nn(a,i),_!=null&&r.push(ts(a,_,E)))),a=a.return}r.length!==0&&e.push({event:t,listeners:r})}var Ip=/\r\n?/g,Pp=/\u0000|\uFFFD/g;function Hm(e){return(typeof e=="string"?e:""+e).replace(Ip,`
`).replace(Pp,"")}function Lm(e,t){return t=Hm(t),Hm(e)===t}function qe(e,t,a,n,s,i){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||zl(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&zl(e,""+n);break;case"className":ys(e,"class",n);break;case"tabIndex":ys(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ys(e,a,n);break;case"style":Lo(e,n,i);break;case"data":if(t!=="object"){ys(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=vs(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&qe(e,t,"name",s.name,s,null),qe(e,t,"formEncType",s.formEncType,s,null),qe(e,t,"formMethod",s.formMethod,s,null),qe(e,t,"formTarget",s.formTarget,s,null)):(qe(e,t,"encType",s.encType,s,null),qe(e,t,"method",s.method,s,null),qe(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=vs(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ma);break;case"onScroll":n!=null&&Me("scroll",e);break;case"onScrollEnd":n!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=vs(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Me("beforetoggle",e),Me("toggle",e),xs(e,"popover",n);break;case"xlinkActuate":da(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":da(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":da(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":da(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":da(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":da(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":da(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":da(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":da(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":xs(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Dh.get(a)||a,xs(e,a,n))}}function Yr(e,t,a,n,s,i){switch(a){case"style":Lo(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof n=="string"?zl(e,n):(typeof n=="number"||typeof n=="bigint")&&zl(e,""+n);break;case"onScroll":n!=null&&Me("scroll",e);break;case"onScrollEnd":n!=null&&Me("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),i=e[Nt]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof n=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):xs(e,a,n)}}}function ft(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var n=!1,s=!1,i;for(i in a)if(a.hasOwnProperty(i)){var r=a[i];if(r!=null)switch(i){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:qe(e,t,i,r,a,null)}}s&&qe(e,t,"srcSet",a.srcSet,a,null),n&&qe(e,t,"src",a.src,a,null);return;case"input":Me("invalid",e);var p=i=r=s=null,E=null,_=null;for(n in a)if(a.hasOwnProperty(n)){var J=a[n];if(J!=null)switch(n){case"name":s=J;break;case"type":r=J;break;case"checked":E=J;break;case"defaultChecked":_=J;break;case"value":i=J;break;case"defaultValue":p=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(u(137,t));break;default:qe(e,t,n,J,a,null)}}Bo(e,i,p,E,_,r,s,!1);return;case"select":Me("invalid",e),n=r=i=null;for(s in a)if(a.hasOwnProperty(s)&&(p=a[s],p!=null))switch(s){case"value":i=p;break;case"defaultValue":r=p;break;case"multiple":n=p;default:qe(e,t,s,p,a,null)}t=i,a=r,e.multiple=!!n,t!=null?Ol(e,!!n,t,!1):a!=null&&Ol(e,!!n,a,!0);return;case"textarea":Me("invalid",e),i=s=n=null;for(r in a)if(a.hasOwnProperty(r)&&(p=a[r],p!=null))switch(r){case"value":n=p;break;case"defaultValue":s=p;break;case"children":i=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(u(91));break;default:qe(e,t,r,p,a,null)}Uo(e,n,s,i);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(n=a[E],n!=null))switch(E){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:qe(e,t,E,n,a,null)}return;case"dialog":Me("beforetoggle",e),Me("toggle",e),Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(n=0;n<es.length;n++)Me(es[n],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:qe(e,t,_,n,a,null)}return;default:if(tc(t)){for(J in a)a.hasOwnProperty(J)&&(n=a[J],n!==void 0&&Yr(e,t,J,n,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(n=a[p],n!=null&&qe(e,t,p,n,a,null))}function eg(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,p=null,E=null,_=null,J=null;for(Y in a){var I=a[Y];if(a.hasOwnProperty(Y)&&I!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":E=I;default:n.hasOwnProperty(Y)||qe(e,t,Y,null,n,I)}}for(var U in n){var Y=n[U];if(I=a[U],n.hasOwnProperty(U)&&(Y!=null||I!=null))switch(U){case"type":i=Y;break;case"name":s=Y;break;case"checked":_=Y;break;case"defaultChecked":J=Y;break;case"value":r=Y;break;case"defaultValue":p=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,t));break;default:Y!==I&&qe(e,t,U,Y,n,I)}}Pi(e,r,p,E,_,J,i,s);return;case"select":Y=r=p=U=null;for(i in a)if(E=a[i],a.hasOwnProperty(i)&&E!=null)switch(i){case"value":break;case"multiple":Y=E;default:n.hasOwnProperty(i)||qe(e,t,i,null,n,E)}for(s in n)if(i=n[s],E=a[s],n.hasOwnProperty(s)&&(i!=null||E!=null))switch(s){case"value":U=i;break;case"defaultValue":p=i;break;case"multiple":r=i;default:i!==E&&qe(e,t,s,i,n,E)}t=p,a=r,n=Y,U!=null?Ol(e,!!a,U,!1):!!n!=!!a&&(t!=null?Ol(e,!!a,t,!0):Ol(e,!!a,a?[]:"",!1));return;case"textarea":Y=U=null;for(p in a)if(s=a[p],a.hasOwnProperty(p)&&s!=null&&!n.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:qe(e,t,p,null,n,s)}for(r in n)if(s=n[r],i=a[r],n.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":U=s;break;case"defaultValue":Y=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(u(91));break;default:s!==i&&qe(e,t,r,s,n,i)}_o(e,U,Y);return;case"option":for(var me in a)if(U=a[me],a.hasOwnProperty(me)&&U!=null&&!n.hasOwnProperty(me))switch(me){case"selected":e.selected=!1;break;default:qe(e,t,me,null,n,U)}for(E in n)if(U=n[E],Y=a[E],n.hasOwnProperty(E)&&U!==Y&&(U!=null||Y!=null))switch(E){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:qe(e,t,E,U,n,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)U=a[ye],a.hasOwnProperty(ye)&&U!=null&&!n.hasOwnProperty(ye)&&qe(e,t,ye,null,n,U);for(_ in n)if(U=n[_],Y=a[_],n.hasOwnProperty(_)&&U!==Y&&(U!=null||Y!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(u(137,t));break;default:qe(e,t,_,U,n,Y)}return;default:if(tc(t)){for(var Ye in a)U=a[Ye],a.hasOwnProperty(Ye)&&U!==void 0&&!n.hasOwnProperty(Ye)&&Yr(e,t,Ye,void 0,n,U);for(J in n)U=n[J],Y=a[J],!n.hasOwnProperty(J)||U===Y||U===void 0&&Y===void 0||Yr(e,t,J,U,n,Y);return}}for(var z in a)U=a[z],a.hasOwnProperty(z)&&U!=null&&!n.hasOwnProperty(z)&&qe(e,t,z,null,n,U);for(I in n)U=n[I],Y=a[I],!n.hasOwnProperty(I)||U===Y||U==null&&Y==null||qe(e,t,I,U,n,Y)}function qm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var s=a[n],i=s.transferSize,r=s.initiatorType,p=s.duration;if(i&&p&&qm(r)){for(r=0,p=s.responseEnd,n+=1;n<a.length;n++){var E=a[n],_=E.startTime;if(_>p)break;var J=E.transferSize,I=E.initiatorType;J&&qm(I)&&(E=E.responseEnd,r+=J*(E<p?1:(p-_)/(E-_)))}if(--n,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gr=null,Qr=null;function pi(e){return e.nodeType===9?e:e.ownerDocument}function Ym(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Xr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vr=null;function ag(){var e=window.event;return e&&e.type==="popstate"?e===Vr?!1:(Vr=e,!0):(Vr=null,!1)}var Qm=typeof setTimeout=="function"?setTimeout:void 0,lg=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,ng=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(e){return Xm.resolve(null).then(e).catch(sg)}:Qm;function sg(e){setTimeout(function(){throw e})}function Fa(e){return e==="head"}function Vm(e,t){var a=t,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(s),dn(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")as(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,as(a);for(var i=a.firstChild;i;){var r=i.nextSibling,p=i.nodeName;i[vn]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}else a==="body"&&as(e.ownerDocument.body);a=s}while(a);dn(t)}function Km(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Kr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kr(a),Wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ig(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[vn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function cg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vt(e.nextSibling),e===null))return null;return e}function Zm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function Zr(e){return e.data==="$?"||e.data==="$~"}function $r(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function rg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Jr=null;function $m(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Vt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Jm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Fm(e,t,a){switch(t=pi(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function as(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Wi(e)}var Kt=new Map,Wm=new Set;function gi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ta=te.d;te.d={f:og,r:ug,D:dg,C:mg,L:fg,m:hg,X:gg,S:pg,M:xg};function og(){var e=Ta.f(),t=ci();return e||t}function ug(e){var t=Ml(e);t!==null&&t.tag===5&&t.type==="form"?hd(t):Ta.r(e)}var rn=typeof document>"u"?null:document;function Im(e,t,a){var n=rn;if(n&&typeof t=="string"&&t){var s=Ht(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),Wm.has(s)||(Wm.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),ft(t,"link",e),it(t),n.head.appendChild(t)))}}function dg(e){Ta.D(e),Im("dns-prefetch",e,null)}function mg(e,t){Ta.C(e,t),Im("preconnect",e,t)}function fg(e,t,a){Ta.L(e,t,a);var n=rn;if(n&&e&&t){var s='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+Ht(a.imageSizes)+'"]')):s+='[href="'+Ht(e)+'"]';var i=s;switch(t){case"style":i=on(e);break;case"script":i=un(e)}Kt.has(i)||(e=A({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Kt.set(i,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(ls(i))||t==="script"&&n.querySelector(ns(i))||(t=n.createElement("link"),ft(t,"link",e),it(t),n.head.appendChild(t)))}}function hg(e,t){Ta.m(e,t);var a=rn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+Ht(n)+'"][href="'+Ht(e)+'"]',i=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=un(e)}if(!Kt.has(i)&&(e=A({rel:"modulepreload",href:e},t),Kt.set(i,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ns(i)))return}n=a.createElement("link"),ft(n,"link",e),it(n),a.head.appendChild(n)}}}function pg(e,t,a){Ta.S(e,t,a);var n=rn;if(n&&e){var s=Al(n).hoistableStyles,i=on(e);t=t||"default";var r=s.get(i);if(!r){var p={loading:0,preload:null};if(r=n.querySelector(ls(i)))p.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Kt.get(i))&&Fr(e,a);var E=r=n.createElement("link");it(E),ft(E,"link",e),E._p=new Promise(function(_,J){E.onload=_,E.onerror=J}),E.addEventListener("load",function(){p.loading|=1}),E.addEventListener("error",function(){p.loading|=2}),p.loading|=4,xi(r,t,n)}r={type:"stylesheet",instance:r,count:1,state:p},s.set(i,r)}}}function gg(e,t){Ta.X(e,t);var a=rn;if(a&&e){var n=Al(a).hoistableScripts,s=un(e),i=n.get(s);i||(i=a.querySelector(ns(s)),i||(e=A({src:e,async:!0},t),(t=Kt.get(s))&&Wr(e,t),i=a.createElement("script"),it(i),ft(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function xg(e,t){Ta.M(e,t);var a=rn;if(a&&e){var n=Al(a).hoistableScripts,s=un(e),i=n.get(s);i||(i=a.querySelector(ns(s)),i||(e=A({src:e,async:!0,type:"module"},t),(t=Kt.get(s))&&Wr(e,t),i=a.createElement("script"),it(i),ft(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(s,i))}}function Pm(e,t,a,n){var s=(s=pe.current)?gi(s):null;if(!s)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=on(a.href),a=Al(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=on(a.href);var i=Al(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(ls(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Kt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(e,a),i||yg(s,e,a,r.state))),t&&n===null)throw Error(u(528,""));return r}if(t&&n!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=un(a),a=Al(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function on(e){return'href="'+Ht(e)+'"'}function ls(e){return'link[rel="stylesheet"]['+e+"]"}function ef(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function yg(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),ft(t,"link",a),it(t),e.head.appendChild(t))}function un(e){return'[src="'+Ht(e)+'"]'}function ns(e){return"script[async]"+e}function tf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(n)return t.instance=n,it(n),n;var s=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),it(n),ft(n,"style",s),xi(n,a.precedence,e),t.instance=n;case"stylesheet":s=on(a.href);var i=e.querySelector(ls(s));if(i)return t.state.loading|=4,t.instance=i,it(i),i;n=ef(a),(s=Kt.get(s))&&Fr(n,s),i=(e.ownerDocument||e).createElement("link"),it(i);var r=i;return r._p=new Promise(function(p,E){r.onload=p,r.onerror=E}),ft(i,"link",n),t.state.loading|=4,xi(i,a.precedence,e),t.instance=i;case"script":return i=un(a.src),(s=e.querySelector(ns(i)))?(t.instance=s,it(s),s):(n=a,(s=Kt.get(i))&&(n=A({},a),Wr(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),it(s),ft(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,xi(n,a.precedence,e));return t.instance}function xi(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,i=s,r=0;r<n.length;r++){var p=n[r];if(p.dataset.precedence===t)i=p;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Fr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var yi=null;function af(e,t,a){if(yi===null){var n=new Map,s=yi=new Map;s.set(a,n)}else s=yi,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var i=a[s];if(!(i[vn]||i[ot]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var p=n.get(r);p?p.push(i):n.set(r,[i])}}return n}function lf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function bg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function nf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function vg(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var s=on(n.href),i=t.querySelector(ls(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=bi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,it(i);return}i=t.ownerDocument||t,n=ef(n),(s=Kt.get(s))&&Fr(n,s),i=i.createElement("link"),it(i);var r=i;r._p=new Promise(function(p,E){r.onload=p,r.onerror=E}),ft(i,"link",n),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=bi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Ir=0;function jg(e,t){return e.stylesheets&&e.count===0&&ji(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&ji(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Ir===0&&(Ir=62500*tg());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ji(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Ir?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}function bi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ji(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vi=null;function ji(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vi=new Map,t.forEach(Ng,e),vi=null,bi.call(e))}function Ng(e,t){if(!(t.state.loading&4)){var a=vi.get(e);if(a)var n=a.get(null);else{a=new Map,vi.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(a.set(r.dataset.precedence,r),n=r)}n&&a.set(null,n)}s=t.instance,r=s.getAttribute("data-precedence"),i=a.get(r)||n,i===n&&a.set(null,s),a.set(r,s),this.count++,n=bi.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ss={$$typeof:C,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Sg(e,t,a,n,s,i,r,p,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function sf(e,t,a,n,s,i,r,p,E,_,J,I){return e=new Sg(e,t,a,r,E,_,J,I,p),t=1,i===!0&&(t|=24),i=kt(3,null,null,t),e.current=i,i.stateNode=e,t=kc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:a,cache:t},Bc(i),e}function cf(e){return e?(e=ql,e):ql}function rf(e,t,a,n,s,i){s=cf(s),n.context===null?n.context=s:n.pendingContext=s,n=La(t),n.payload={element:a},i=i===void 0?null:i,i!==null&&(n.callback=i),a=qa(e,n,t),a!==null&&(Tt(a,e,t),Un(a,e,t))}function of(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Pr(e,t){of(e,t),(e=e.alternate)&&of(e,t)}function uf(e){if(e.tag===13||e.tag===31){var t=dl(e,67108864);t!==null&&Tt(t,e,67108864),Pr(e,67108864)}}function df(e){if(e.tag===13||e.tag===31){var t=_t();t=$i(t);var a=dl(e,t);a!==null&&Tt(a,e,t),Pr(e,t)}}var Ni=!0;function Cg(e,t,a,n){var s=R.T;R.T=null;var i=te.p;try{te.p=2,eo(e,t,a,n)}finally{te.p=i,R.T=s}}function Eg(e,t,a,n){var s=R.T;R.T=null;var i=te.p;try{te.p=8,eo(e,t,a,n)}finally{te.p=i,R.T=s}}function eo(e,t,a,n){if(Ni){var s=to(n);if(s===null)qr(e,t,n,Si,a),ff(e,n);else if(Dg(s,e,t,a,n))n.stopPropagation();else if(ff(e,n),t&4&&-1<wg.indexOf(e)){for(;s!==null;){var i=Ml(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=il(i.pendingLanes);if(r!==0){var p=i;for(p.pendingLanes|=2,p.entangledLanes|=2;r;){var E=1<<31-gt(r);p.entanglements[1]|=E,r&=~E}ia(i),(Be&6)===0&&(si=Xe()+500,Pn(0))}}break;case 31:case 13:p=dl(i,2),p!==null&&Tt(p,i,2),ci(),Pr(i,2)}if(i=to(n),i===null&&qr(e,t,n,Si,a),i===s)break;s=i}s!==null&&n.stopPropagation()}else qr(e,t,n,null,a)}}function to(e){return e=lc(e),ao(e)}var Si=null;function ao(e){if(Si=null,e=Tl(e),e!==null){var t=g(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=j(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Si=e,null}function mf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case ua:return 2;case xn:return 8;case wl:case Qi:return 32;case ps:return 268435456;default:return 32}default:return 32}}var lo=!1,Wa=null,Ia=null,Pa=null,is=new Map,cs=new Map,el=[],wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ff(e,t){switch(e){case"focusin":case"focusout":Wa=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(t.pointerId)}}function rs(e,t,a,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ml(t),t!==null&&uf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Dg(e,t,a,n,s){switch(t){case"focusin":return Wa=rs(Wa,e,t,a,n,s),!0;case"dragenter":return Ia=rs(Ia,e,t,a,n,s),!0;case"mouseover":return Pa=rs(Pa,e,t,a,n,s),!0;case"pointerover":var i=s.pointerId;return is.set(i,rs(is.get(i)||null,e,t,a,n,s)),!0;case"gotpointercapture":return i=s.pointerId,cs.set(i,rs(cs.get(i)||null,e,t,a,n,s)),!0}return!1}function hf(e){var t=Tl(e.target);if(t!==null){var a=g(t);if(a!==null){if(t=a.tag,t===13){if(t=j(a),t!==null){e.blockedOn=t,Do(e.priority,function(){df(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,Do(e.priority,function(){df(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=to(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);ac=n,a.target.dispatchEvent(n),ac=null}else return t=Ml(a),t!==null&&uf(t),e.blockedOn=a,!1;t.shift()}return!0}function pf(e,t,a){Ci(e)&&a.delete(t)}function Tg(){lo=!1,Wa!==null&&Ci(Wa)&&(Wa=null),Ia!==null&&Ci(Ia)&&(Ia=null),Pa!==null&&Ci(Pa)&&(Pa=null),is.forEach(pf),cs.forEach(pf)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,lo||(lo=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Tg)))}var wi=null;function gf(e){wi!==e&&(wi=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){wi===e&&(wi=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(ao(n||a)===null)continue;break}var i=Ml(a);i!==null&&(e.splice(t,3),t-=3,tr(i,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function dn(e){function t(E){return Ei(E,e)}Wa!==null&&Ei(Wa,e),Ia!==null&&Ei(Ia,e),Pa!==null&&Ei(Pa,e),is.forEach(t),cs.forEach(t);for(var a=0;a<el.length;a++){var n=el[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<el.length&&(a=el[0],a.blockedOn===null);)hf(a),a.blockedOn===null&&el.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],i=a[n+1],r=s[Nt]||null;if(typeof i=="function")r||gf(a);else if(r){var p=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[Nt]||null)p=r.formAction;else if(ao(s)!==null)continue}else p=r.action;typeof p=="function"?a[n+1]=p:(a.splice(n,3),n-=3),gf(a)}}}function xf(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function no(e){this._internalRoot=e}Di.prototype.render=no.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,n=_t();rf(a,n,e,t,null,null)},Di.prototype.unmount=no.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rf(e.current,2,null,e,null,null),ci(),t[Dl]=null}};function Di(e){this._internalRoot=e}Di.prototype.unstable_scheduleHydration=function(e){if(e){var t=wo();e={blockedOn:null,target:e,priority:t};for(var a=0;a<el.length&&t!==0&&t<el[a].priority;a++);el.splice(a,0,e),a===0&&hf(e)}};var yf=o.version;if(yf!=="19.2.4")throw Error(u(527,yf,"19.2.4"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=S(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var Mg={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{ta=Ti.inject(Mg),pt=Ti}catch{}}return os.createRoot=function(e,t){if(!f(e))throw Error(u(299));var a=!1,n="",s=Cd,i=Ed,r=wd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=sf(e,1,!1,null,null,a,n,null,s,i,r,xf),e[Dl]=t.current,Lr(e),new no(t)},os.hydrateRoot=function(e,t,a){if(!f(e))throw Error(u(299));var n=!1,s="",i=Cd,r=Ed,p=wd,E=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(r=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),t=sf(e,1,!0,t,a??null,n,s,E,i,r,p,xf),t.context=cf(null),a=t.current,n=_t(),n=$i(n),s=La(n),s.callback=null,qa(a,s,n),a=n,t.current.lanes=a,bn(t,a),ia(t),e[Dl]=t.current,Lr(e),new Di(t)},os.version="19.2.4",os}var Ef;function tx(){if(Ef)return so.exports;Ef=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),so.exports=ex(),so.exports}var ax=tx();const fo={isDevelopment:!1,enabledLevels:["error"]};function Mi(c){return fo.enabledLevels.includes(c)}function lx(){return new Date().toISOString()}function mn(c,o,d){return`${lx()} [${c.toUpperCase()}] ${o}`}const ue={debug(c,...o){Mi("debug")&&console.log(mn("debug",c),...o)},info(c,...o){Mi("info")&&console.info(mn("info",c),...o)},warn(c,...o){Mi("warn")&&console.warn(mn("warn",c),...o)},error(c,o,...d){Mi("error")&&(o instanceof Error?console.error(mn("error",c),o.message,...d):o!==void 0?console.error(mn("error",c),o,...d):console.error(mn("error",c),...d))},group(c,o){},setEnabledLevels(c){fo.enabledLevels=c},getConfig(){return{...fo}}},Ri={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Aa=!!(Ri.apiKey&&Ri.projectId&&Ri.apiKey!=="undefined");let Ai=null,Cl=null,oe=null,ho=null,po=null;if(Aa)try{Ai=Lg(Ri),Cl=qg(Ai),oe=Yg(Ai),ho=Gg(Ai),po=new Qg}catch(c){ue.error("Firebase  :",c)}const nx={uid:"demo-user-1",email:"demo@example.com",displayName:" ",photoURL:null},If=m.createContext(null);function sx({children:c}){const[o,d]=m.useState(()=>typeof window<"u"?localStorage.getItem("demoMode")==="true":!1),u=()=>{localStorage.setItem("demoMode","true"),d(!0)},f=()=>{localStorage.removeItem("demoMode"),Object.keys(localStorage).forEach(g=>{g.startsWith("demo_")&&localStorage.removeItem(g)}),d(!1)};return l.jsx(If.Provider,{value:{isDemoMode:o,demoUser:o?nx:null,enableDemoMode:u,disableDemoMode:f},children:c})}function Hi(){const c=m.useContext(If);if(!c)throw new Error("useDemo must be used within a DemoProvider");return c}const Pf=m.createContext(null);function ix({children:c}){const[o,d]=m.useState(null),[u,f]=m.useState(!0);m.useEffect(()=>{if(!Aa||!Cl){f(!1);return}const h=Xg(Cl,async N=>{if(N){const S=cx(N);d(S),oe&&await rx(oe,N)}else d(null);f(!1)});return()=>h()},[]);const g=async()=>{if(!Aa||!Cl||!po)throw new Error("Firebase  ");try{f(!0),await Kg(Cl,po)}catch(h){throw ue.error("Google  :",h),h}finally{f(!1)}},j=async()=>{if(!Cl)throw new Error("Firebase  ");try{await Vg(Cl)}catch(h){throw ue.error(" :",h),h}};return l.jsx(Pf.Provider,{value:{user:o,loading:u,signInWithGoogle:g,signOut:j},children:c})}function hs(){const c=m.useContext(Pf);if(!c)throw new Error("useAuth must be used within an AuthProvider");return c}function cx(c){return{uid:c.uid,email:c.email,displayName:c.displayName,photoURL:c.photoURL}}async function rx(c,o){try{const d=Qe(c,"users",o.uid);(await ms(d)).exists()?await hn(d,{email:o.email,displayName:o.displayName,photoURL:o.photoURL},{merge:!0}):await hn(d,{email:o.email,displayName:o.displayName,photoURL:o.photoURL,createdAt:Ma()})}catch(d){ue.error("   :",d)}}const ht={food:{label:"",icon:""},transport:{label:"",icon:""},accommodation:{label:"",icon:""},activity:{label:"",icon:""},shopping:{label:"",icon:""},other:{label:"",icon:""}},Wt=[{code:"KRW",name:" ",symbol:"",rate:1},{code:"USD",name:" ",symbol:"$",rate:1350},{code:"EUR",name:"",symbol:"",rate:1450},{code:"JPY",name:" ",symbol:"",rate:9},{code:"CNY",name:" ",symbol:"",rate:185},{code:"THB",name:" ",symbol:"",rate:38},{code:"VND",name:" ",symbol:"",rate:.054},{code:"PHP",name:" ",symbol:"",rate:24}],It=["#667eea","#f093fb","#4facfe","#43e97b","#fa709a","#fee140","#30cfd0","#a8edea"],ro=()=>Math.random().toString(36).substring(2,11),bo=()=>{const c="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let o="";for(let d=0;d<6;d++)o+=c.charAt(Math.floor(Math.random()*c.length));return o},eh=m.createContext(null);function ox({children:c}){const{user:o}=hs(),[d,u]=m.useState([]),[f,g]=m.useState(null),[j,h]=m.useState([]),[N,S]=m.useState(!0);m.useEffect(()=>{if(!o){u([]),g(null),S(!1);return}if(!Aa||!oe){S(!1);return}S(!0);const C=(async()=>{try{const O=Zt(oe,"trips"),G=Bi(O,mo("createdAt","desc"));return fs(G,async Z=>{const Q=Z.docs.map(async F=>{const L=Qe(oe,"trips",F.id,"members",o.uid);return(await ms(L)).exists()?{id:F.id,...F.data()}:null}),H=(await Promise.all(Q)).filter(F=>F!==null);u(H),S(!1)})}catch(O){ue.error("   :",O),S(!1)}})();return()=>{C?.then(O=>O?.())}},[o]),m.useEffect(()=>{if(!f){h([]);return}if(!(!Aa||!oe))try{const k=Zt(oe,"trips",f.id,"members"),C=fs(k,O=>{const G=O.docs.map((P,Z)=>({odId:P.id,...P.data(),color:It[Z%It.length]}));h(G)},O=>{ue.error("   :",O)});return()=>C()}catch(k){ue.error("   :",k)}},[f]);const w=async(k,C,O)=>{if(!o)throw new Error(" ");if(!oe)throw new Error("Firebase  ");const G=bo(),P=await us(Zt(oe,"trips"),{name:k,inviteCode:G,ownerId:o.uid,currencies:Wt,createdAt:Ma(),startDate:C||null,endDate:O||null,archived:!1});return await hn(Qe(oe,"trips",P.id,"members",o.uid),{displayName:o.displayName||"",photoURL:o.photoURL,role:"owner",joinedAt:Ma()}),{id:P.id,name:k,inviteCode:G,ownerId:o.uid,currencies:Wt,createdAt:Ma(),startDate:C,endDate:O,archived:!1}},A=async k=>{if(!o)throw new Error(" ");if(!oe)throw new Error("Firebase  ");const C=k.toUpperCase().trim(),O=Zt(oe,"trips"),G=Bi(O,Zg("inviteCode","==",C)),P=await jf(G);if(P.empty)return null;const Z=P.docs[0],Q=Z.id,q=Qe(oe,"trips",Q,"members",o.uid);return(await ms(q)).exists()||await hn(q,{displayName:o.displayName||"",photoURL:o.photoURL,role:"member",joinedAt:Ma()}),{id:Q,...Z.data()}},b=async k=>{if(!o)throw new Error(" ");if(!oe)throw new Error("Firebase  ");await El(Qe(oe,"trips",k,"members",o.uid)),f?.id===k&&g(null)},v=async k=>{if(!o)throw new Error(" ");if(!oe)throw new Error("Firebase  ");try{const C=["members","expenses","settlements"];for(const O of C){const G=Zt(oe,"trips",k,O),Z=(await jf(G)).docs.map(Q=>El(Qe(oe,"trips",k,O,Q.id)));await Promise.all(Z)}await El(Qe(oe,"trips",k)),ue.info("     :",k)}catch(C){throw ue.error("  :",C),C}f?.id===k&&g(null)},D=async k=>{if(!o)throw new Error(" ");if(!oe)throw new Error("Firebase  ");const C=Qe(oe,"trips",k);await bt(C,{archived:!0}),f?.id===k&&g(null)},x=async k=>{if(!o)throw new Error(" ");if(!oe)throw new Error("Firebase  ");const C=Qe(oe,"trips",k);await bt(C,{archived:!1})},y=async(k,C)=>{if(!o)throw new Error(" ");if(!oe)throw new Error("Firebase  ");const O=Qe(oe,"trips",k),G=await ms(O);if(!G.exists())throw new Error("    ");const P=G.data(),Z=await w(C,void 0,void 0);if(P.currencies){const Q=Qe(oe,"trips",Z.id);await bt(Q,{currencies:P.currencies})}return Z},T=async(k,C,O)=>{if(!o)throw new Error(" ");if(!oe)throw new Error("Firebase  ");const G=Qe(oe,"trips",k);await bt(G,{startDate:C||null,endDate:O||null})};return l.jsx(eh.Provider,{value:{trips:d,currentTrip:f,members:j,loading:N,setCurrentTrip:g,createTrip:w,joinTrip:A,leaveTrip:b,deleteTrip:v,archiveTrip:D,unarchiveTrip:x,duplicateTrip:y,updateTripDates:T},children:c})}function Li(){const c=m.useContext(eh);if(!c)throw new Error("useTrip must be used within a TripProvider");return c}const th=m.createContext(null);function wf(){return typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function ux({children:c}){const[o,d]=m.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"system"),[u,f]=m.useState(()=>o==="system"?wf():o);m.useEffect(()=>{const h=document.documentElement,N=o==="system"?wf():o;f(N),h.setAttribute("data-theme",N),localStorage.setItem("theme",o)},[o]),m.useEffect(()=>{if(o!=="system")return;const h=window.matchMedia("(prefers-color-scheme: dark)"),N=S=>{f(S.matches?"dark":"light"),document.documentElement.setAttribute("data-theme",S.matches?"dark":"light")};return h.addEventListener("change",N),()=>h.removeEventListener("change",N)},[o]);const g=h=>{d(h)},j=()=>{d(h=>h==="light"?"dark":h==="dark"?"light":u==="light"?"dark":"light")};return l.jsx(th.Provider,{value:{theme:o,effectiveTheme:u,setTheme:g,toggleTheme:j},children:c})}function ah(){const c=m.useContext(th);if(!c)throw new Error("useTheme must be used within a ThemeProvider");return c}const lh=m.createContext(null),Df={ko:{"common.save":"","common.cancel":"","common.delete":"","common.edit":"","common.add":"","common.close":"","common.confirm":"","common.search":"","common.filter":"","common.total":"","common.loading":" ...","tabs.participants":"","tabs.expenses":"","tabs.settlement":"","participants.title":" ","participants.add":" ","participants.placeholder":" ","participants.empty":"  ","participants.count":" {count}","expenses.title":" ","expenses.add":" ","expenses.empty":"  ","expenses.total":" ","expenses.paidBy":"","expenses.sharedBy":"","expenses.date":"","expenses.amount":"","expenses.category":"","expenses.description":"","category.food":"","category.transport":"","category.accommodation":"","category.activity":"","category.shopping":"","category.other":"","settlement.title":" ","settlement.complete":" ","settlement.pending":" ","settlement.transfer":"{from} {to} {amount} ","settings.title":"","settings.theme":"","settings.language":"","settings.notifications":"","settings.about":"","split.equal":" ","split.ratio":" ","split.amount":" ","split.exclude":" ","split.quantity":" ","split.weighted":" ","split.quantityDesc":"   (:  8)","split.weightedDesc":"   ","split.pieces":"","split.days":"","budget.title":" ","budget.emergency":" ","budget.emergencyDesc":" {percent}%  ","budget.stage50":"  .","budget.stage75":" 3/4 .","budget.stage90":"  !","budget.stage100":" !","budget.usingReserve":"   ","exchange.trend":" ","exchange.up":" ","exchange.down":" ","exchange.stable":" ","exchange.recommend.buy":" ","exchange.recommend.wait":" ","exchange.prediction":" ","exchange.favorable":" ","receipt.duplicate":"  ","receipt.exportPdf":"PDF ","receipt.learning":"OCR  ","receipt.clearLearning":"  ","ocr.detecting":"  ...","ocr.korean":"","ocr.english":"","ocr.japanese":"","ocr.chinese":""},en:{"common.save":"Save","common.cancel":"Cancel","common.delete":"Delete","common.edit":"Edit","common.add":"Add","common.close":"Close","common.confirm":"Confirm","common.search":"Search","common.filter":"Filter","common.total":"Total","common.loading":"Loading...","tabs.participants":"Participants","tabs.expenses":"Expenses","tabs.settlement":"Settlement","participants.title":"Manage Participants","participants.add":"Add Participant","participants.placeholder":"Enter name","participants.empty":"No participants yet","participants.count":"{count} participants","expenses.title":"Expense List","expenses.add":"Add Expense","expenses.empty":"No expenses yet","expenses.total":"Total Expenses","expenses.paidBy":"Paid by","expenses.sharedBy":"Shared by","expenses.date":"Date","expenses.amount":"Amount","expenses.category":"Category","expenses.description":"Description","category.food":"Food","category.transport":"Transport","category.accommodation":"Accommodation","category.activity":"Activity","category.shopping":"Shopping","category.other":"Other","settlement.title":"Settlement Status","settlement.complete":"Completed","settlement.pending":"Pending","settlement.transfer":"{from}  {to}: {amount}","settings.title":"Settings","settings.theme":"Theme","settings.language":"Language","settings.notifications":"Notifications","settings.about":"About","split.equal":"Split Equally","split.ratio":"Split by Ratio","split.amount":"Specify Amount","split.exclude":"Exclude Person","split.quantity":"By Quantity","split.weighted":"Weighted Split","split.quantityDesc":"Split by consumption (e.g., 8 pizza slices)","split.weightedDesc":"Split by days stayed or weight","split.pieces":"pcs","split.days":"days","budget.title":"Budget Settings","budget.emergency":"Emergency Reserve","budget.emergencyDesc":"Set {percent}% as emergency fund","budget.stage50":"Half of the budget has been used.","budget.stage75":"75% of the budget has been used.","budget.stage90":"Budget is almost exhausted!","budget.stage100":"Budget exceeded!","budget.usingReserve":"Using emergency reserve","exchange.trend":"Exchange Trend","exchange.up":"Rising","exchange.down":"Falling","exchange.stable":"Stable","exchange.recommend.buy":"Good time to exchange","exchange.recommend.wait":"Wait for better rate","exchange.prediction":"Rate Prediction","exchange.favorable":"Favorable Rate","receipt.duplicate":"Duplicate receipt detected","receipt.exportPdf":"Export to PDF","receipt.learning":"OCR Learning Data","receipt.clearLearning":"Clear Learning Data","ocr.detecting":"Detecting language...","ocr.korean":"Korean","ocr.english":"English","ocr.japanese":"Japanese","ocr.chinese":"Chinese"},ja:{"common.save":"","common.cancel":"","common.delete":"","common.edit":"","common.add":"","common.close":"","common.confirm":"","common.search":"","common.filter":"","common.total":"","common.loading":"...","tabs.participants":"","tabs.expenses":"","tabs.settlement":"","participants.title":"","participants.add":"","participants.placeholder":"","participants.empty":"","participants.count":"{count}","expenses.title":"","expenses.add":"","expenses.empty":"","expenses.total":"","expenses.paidBy":"","expenses.sharedBy":"","expenses.date":"","expenses.amount":"","expenses.category":"","expenses.description":"","category.food":"","category.transport":"","category.accommodation":"","category.activity":"","category.shopping":"","category.other":"","settlement.title":"","settlement.complete":"","settlement.pending":"","settlement.transfer":"{from}{to}: {amount}","settings.title":"","settings.theme":"","settings.language":"","settings.notifications":"","settings.about":"","split.equal":"","split.ratio":"","split.amount":"","split.exclude":"","split.quantity":"","split.weighted":"","split.quantityDesc":"8","split.weightedDesc":"","split.pieces":"","split.days":"","budget.title":"","budget.emergency":"","budget.emergencyDesc":"{percent}%","budget.stage50":"","budget.stage75":"3/4","budget.stage90":"","budget.stage100":"","budget.usingReserve":"","exchange.trend":"","exchange.up":"","exchange.down":"","exchange.stable":"","exchange.recommend.buy":"","exchange.recommend.wait":"","exchange.prediction":"","exchange.favorable":"","receipt.duplicate":"","receipt.exportPdf":"PDF","receipt.learning":"OCR","receipt.clearLearning":"","ocr.detecting":"...","ocr.korean":"","ocr.english":"","ocr.japanese":"","ocr.chinese":""},zh:{"common.save":"","common.cancel":"","common.delete":"","common.edit":"","common.add":"","common.close":"","common.confirm":"","common.search":"","common.filter":"","common.total":"","common.loading":"...","tabs.participants":"","tabs.expenses":"","tabs.settlement":"","participants.title":"","participants.add":"","participants.placeholder":"","participants.empty":"","participants.count":"{count}","expenses.title":"","expenses.add":"","expenses.empty":"","expenses.total":"","expenses.paidBy":"","expenses.sharedBy":"","expenses.date":"","expenses.amount":"","expenses.category":"","expenses.description":"","category.food":"","category.transport":"","category.accommodation":"","category.activity":"","category.shopping":"","category.other":"","settlement.title":"","settlement.complete":"","settlement.pending":"","settlement.transfer":"{from}{to}: {amount}","settings.title":"","settings.theme":"","settings.language":"","settings.notifications":"","settings.about":"","split.equal":"","split.ratio":"","split.amount":"","split.exclude":"","split.quantity":"","split.weighted":"","split.quantityDesc":" 8 ","split.weightedDesc":"","split.pieces":"","split.days":"","budget.title":"","budget.emergency":"","budget.emergencyDesc":"{percent}%","budget.stage50":"","budget.stage75":"","budget.stage90":"","budget.stage100":"","budget.usingReserve":"","exchange.trend":"","exchange.up":"","exchange.down":"","exchange.stable":"","exchange.recommend.buy":"","exchange.recommend.wait":"","exchange.prediction":"","exchange.favorable":"","receipt.duplicate":"","receipt.exportPdf":"PDF","receipt.learning":"OCR","receipt.clearLearning":"","ocr.detecting":"...","ocr.korean":"","ocr.english":"","ocr.japanese":"","ocr.chinese":""}},Tf="app_locale";function dx({children:c}){const[o,d]=m.useState(()=>{const g=localStorage.getItem(Tf);if(g&&["ko","en","ja","zh"].includes(g))return g;const j=navigator.language.split("-")[0];return["ko","en","ja","zh"].includes(j)?j:"ko"}),u=m.useCallback(g=>{d(g),localStorage.setItem(Tf,g),document.documentElement.lang=g},[]);m.useEffect(()=>{document.documentElement.lang=o},[o]);const f=m.useCallback((g,j)=>{let h=Df[o][g]||Df.en[g]||g;return j&&Object.entries(j).forEach(([N,S])=>{h=h.replace(`{${N}}`,String(S))}),h},[o]);return l.jsx(lh.Provider,{value:{locale:o,setLocale:u,t:f},children:c})}function mx(){const c=m.useContext(lh);if(!c)throw new Error("useI18n must be used within I18nProvider");return c}const fx={ko:"",en:"English",ja:"",zh:""},ra={DEMO_TRIPS:"demo_trips",TEMPLATES:"expense_templates",RECURRING_EXPENSES:"recurring_expenses",SCHEDULED_EXPENSES:"scheduled_expenses"},hx={MAX_AMOUNT:999999999};function vo(c,o){if(o===0||!Number.isFinite(o))return 0;const d=c/o;return Number.isFinite(d)?d:0}const px="TravelExpenseDB",gx=1,ca="syncQueue",fn="offlineData";function nh(){const[c,o]=m.useState({isOnline:navigator.onLine,isSyncing:!1,pendingCount:0,lastSyncTime:localStorage.getItem("lastSyncTime"),error:null,syncProgress:null,conflicts:[]}),[d,u]=m.useState(null),f=m.useRef(!1),g=m.useRef(navigator.onLine);m.useEffect(()=>{f.current=c.isSyncing,g.current=c.isOnline},[c.isSyncing,c.isOnline]),m.useEffect(()=>{const x=indexedDB.open(px,gx);x.onerror=()=>{ue.error("IndexedDB  :",x.error),o(y=>({...y,error:`IndexedDB  : ${x.error?.message||"   "}`}))},x.onsuccess=()=>{u(x.result)},x.onupgradeneeded=y=>{const T=y.target.result;T.objectStoreNames.contains(ca)||T.createObjectStore(ca,{keyPath:"id"}),T.objectStoreNames.contains(fn)||T.createObjectStore(fn,{keyPath:"key"}).createIndex("type","type",{unique:!1})}},[]),m.useEffect(()=>()=>{d&&d.close()},[d]);const j=m.useRef(null);m.useEffect(()=>{const x=()=>{o(T=>({...T,isOnline:!0})),j.current?.()},y=()=>{o(T=>({...T,isOnline:!1}))};return window.addEventListener("online",x),window.addEventListener("offline",y),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",y)}},[]);const h=m.useCallback(async x=>{if(!d)return;const y={...x,id:`${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};return new Promise((T,k)=>{const G=d.transaction([ca],"readwrite").objectStore(ca).add(y);G.onsuccess=()=>{o(P=>({...P,pendingCount:P.pendingCount+1})),T(y.id)},G.onerror=()=>{ue.error("   :",G.error),k(new Error(`   : ${G.error?.message||"   "}`))}})},[d]),N=m.useCallback(async(x,y,T)=>{if(d)return new Promise((k,C)=>{const P=d.transaction([fn],"readwrite").objectStore(fn).put({key:x,type:y,data:T,updatedAt:Date.now()});P.onsuccess=()=>k(),P.onerror=()=>{ue.error("   :",P.error),C(new Error(`   : ${P.error?.message||"   "}`))}})},[d]),S=m.useCallback(async x=>d?new Promise((y,T)=>{const O=d.transaction([fn],"readonly").objectStore(fn).get(x);O.onsuccess=()=>{y(O.result?.data||null)},O.onerror=()=>{ue.error("   :",O.error),T(new Error(`   : ${O.error?.message||"   "}`))}}):null,[d]),w=m.useCallback(async()=>d?new Promise((x,y)=>{const C=d.transaction([ca],"readonly").objectStore(ca).getAll();C.onsuccess=()=>x(C.result||[]),C.onerror=()=>y(C.error)}):[],[d]),A=m.useCallback(async x=>{if(d)return new Promise((y,T)=>{const O=d.transaction([ca],"readwrite").objectStore(ca).delete(x);O.onsuccess=()=>{o(G=>({...G,pendingCount:Math.max(0,G.pendingCount-1)})),y()},O.onerror=()=>T(O.error)})},[d]),b=m.useCallback(async(x,y)=>{if(d)return new Promise((T,k)=>{const O=d.transaction([ca],"readwrite").objectStore(ca),G=O.get(x);G.onsuccess=()=>{const P=G.result;if(P){P.retryCount=y;const Z=O.put(P);Z.onsuccess=()=>T(),Z.onerror=()=>k(Z.error)}else T()},G.onerror=()=>k(G.error)})},[d]),v=m.useCallback(async x=>{if(!d||!g.current||f.current)return;f.current=!0,o(T=>({...T,isSyncing:!0,error:null}));const y=3;try{const k=(await w()).sort((Z,Q)=>Z.timestamp-Q.timestamp);let C=0,O=0;o(Z=>({...Z,syncProgress:{total:k.length,completed:0,failed:0,currentItem:k[0]?.type}}));for(const Z of k){const Q=Z.retryCount||0;try{o(q=>({...q,syncProgress:q.syncProgress?{...q.syncProgress,currentItem:`${Z.type} - ${Z.action}`}:null})),x?await x(Z)?(await A(Z.id),C++):Q<y?(await b(Z.id,Q+1),ue.warn(`Sync failed, will retry (${Q+1}/${y})`,{itemId:Z.id})):(ue.error("Max retries exceeded, item will remain in queue",{item:Z}),O++):ue.warn("No sync handler provided, item remains in queue",{itemId:Z.id,type:Z.type,action:Z.action})}catch(q){ue.error("   :",Z,q),Q<y?await b(Z.id,Q+1):O++}o(q=>({...q,syncProgress:q.syncProgress?{...q.syncProgress,completed:C,failed:O}:null}))}const G=new Date().toISOString();localStorage.setItem("lastSyncTime",G);const P=await w();f.current=!1,o(Z=>({...Z,isSyncing:!1,lastSyncTime:G,pendingCount:P.length,syncProgress:null}))}catch(T){f.current=!1,o(k=>({...k,isSyncing:!1,error:T instanceof Error?T.message:" ",syncProgress:null}))}},[d,w,A,b]);m.useEffect(()=>{j.current=v},[v]),m.useEffect(()=>{d&&w().then(x=>{o(y=>({...y,pendingCount:x.length}))})},[d,w]);const D=m.useCallback((x,y)=>{o(T=>({...T,conflicts:T.conflicts.map(k=>k.id===x?{...k,resolved:!0,resolution:y}:k).filter(k=>!k.resolved)})),ue.info("Conflict resolved",{conflictId:x,resolution:y})},[]);return{state:c,addToSyncQueue:h,saveOfflineData:N,getOfflineData:S,getPendingItems:w,syncPendingItems:v,resolveConflict:D,isReady:!!d}}const xx=()=>{const{currentTrip:c,members:o}=Li(),{user:d}=hs(),{state:u,addToSyncQueue:f,syncPendingItems:g,isReady:j}=nh(),[h,N]=m.useState([]),[S,w]=m.useState(Wt),[A,b]=m.useState(!0),[v,D]=m.useState(new Map),[x,y]=m.useState(new Map),T=m.useMemo(()=>o.map((V,X)=>({id:V.odId,name:V.displayName,color:It[X%It.length],odId:V.odId})),[o]);m.useEffect(()=>{if(!c){N([]),b(!1);return}if(!Aa||!oe){b(!1);return}b(!0);const V=Zt(oe,"trips",c.id,"expenses"),X=Bi(V,mo("date","desc")),ae=fs(X,se=>{const de=se.docs.map(we=>({id:we.id,...we.data()}));u.isOnline,N(de),b(!1)});return c.currencies&&w(c.currencies),()=>ae()},[c,u.isOnline]),m.useEffect(()=>{u.isOnline&&j&&(async()=>await g(async X=>{if(!oe||!c)return!1;try{if(X.type==="expense"){const ae=X.data,se=Zt(oe,"trips",c.id,"expenses");if(X.action==="add"){const{id:de,...we}=ae;await us(se,{...we,createdAt:Ma()})}else if(X.action==="update"){const de=Qe(oe,"trips",c.id,"expenses",X.id);await bt(de,ae)}else if(X.action==="delete"){const de=Qe(oe,"trips",c.id,"expenses",X.id);await El(de)}}return!0}catch(ae){return ue.error("Sync item failed",ae),!1}}))()},[u.isOnline,j,g,c,oe]);const k=m.useRef(new Map);m.useEffect(()=>{if(!c){k.current.forEach(X=>X()),k.current.clear();return}if(!Aa||!oe)return;const V=new Set(h.map(X=>X.id));k.current.forEach((X,ae)=>{V.has(ae)||(X(),k.current.delete(ae),D(se=>{const de=new Map(se);return de.delete(ae),de}))});for(const X of h){if(k.current.has(X.id))continue;const ae=Zt(oe,"trips",c.id,"expenses",X.id,"comments"),se=Bi(ae,mo("createdAt","asc")),de=fs(se,we=>{const Ne=we.docs.map(je=>({id:je.id,...je.data()}));D(je=>{const He=new Map(je);return He.set(X.id,Ne),He})},we=>{ue.error(`   (${X.id}):`,we)});k.current.set(X.id,de)}return()=>{k.current.forEach(X=>X()),k.current.clear()}},[c,h]),m.useEffect(()=>{if(!c||!Aa||!oe)return;const V=Zt(oe,"trips",c.id,"settlements"),X=fs(V,ae=>{const se=new Map;ae.docs.forEach(de=>{se.set(de.id,de.data().completed===!0)}),y(se)});return()=>X()},[c]);const C=m.useCallback(async V=>{if(!c||!oe)throw new Error(" ");try{const X=Zt(oe,"trips",c.id,"members"),ae={displayName:V,role:"member",joinedAt:Ma(),color:It[o.length%It.length]};await us(X,ae)}catch(X){throw ue.error("  :",X),new Error("    ")}},[c,o.length]),O=m.useCallback(async(V,X)=>{if(!c||!oe)throw new Error(" ");try{if(X){const se=h.filter(de=>de.paidBy===V||de.sharedBy.includes(V));for(const de of se){const we={};if(de.paidBy===V&&(we.paidBy=X),de.sharedBy.includes(V)&&(we.sharedBy=de.sharedBy.map(Ne=>Ne===V?X:Ne)),Object.keys(we).length>0){const Ne=Qe(oe,"trips",c.id,"expenses",de.id);await bt(Ne,we)}}}const ae=Qe(oe,"trips",c.id,"members",V);await El(ae)}catch(ae){throw ue.error("  :",ae),new Error("    ")}},[c,h]),G=m.useCallback(async(V,X)=>{if(!c||!oe)return;const ae=Qe(oe,"trips",c.id,"members",V);await bt(ae,X)},[c]),P=m.useCallback(async V=>{if(!c||!d||!oe)throw new Error(" ");if(!u.isOnline){const ae={id:`temp_${Date.now()}`,...V,createdBy:d.uid,createdAt:new Date().toISOString()};N(se=>[ae,...se]),await f({type:"expense",action:"add",data:ae});return}try{const X=Zt(oe,"trips",c.id,"expenses");await us(X,{...V,createdBy:d.uid,createdAt:Ma()})}catch(X){throw ue.error("  :",X),new Error("    ")}},[c,d,u.isOnline,f]),Z=m.useCallback(async V=>{if(!c||!oe)throw new Error(" ");if(!u.isOnline){N(X=>X.filter(ae=>ae.id!==V)),await f({type:"expense",action:"delete",data:{id:V}});return}try{const X=Qe(oe,"trips",c.id,"expenses",V);await El(X)}catch(X){throw ue.error("  :",X),new Error("    ")}},[c,u.isOnline,f]),Q=m.useCallback(async(V,X)=>{if(!c||!oe)throw new Error(" ");if(!u.isOnline){N(ae=>ae.map(se=>se.id===V?{...se,...X}:se)),await f({type:"expense",action:"update",data:X}),await f({type:"expense",action:"update",data:{id:V,...X}});return}try{const ae=Qe(oe,"trips",c.id,"expenses",V);await bt(ae,X)}catch(ae){throw ue.error("  :",ae),new Error("    ")}},[c,u.isOnline,f]),q=m.useCallback(async(V,X,ae)=>{if(!c||!d||!oe)throw new Error(" ");const se=h.find(de=>de.id===V);if(se){if(!u.isOnline){const de=se.editHistory||[];for(const[Ne,je]of Object.entries(X))Ne!=="editHistory"&&de.push({id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),userId:d.uid,userName:d.displayName||"",field:Ne,oldValue:se[Ne],newValue:je,reason:ae});const we={...X,editHistory:de};N(Ne=>Ne.map(je=>je.id===V?{...je,...we}:je)),await f({type:"expense",action:"update",data:{id:V,...we}});return}try{const de=se.editHistory||[];for(const[Ne,je]of Object.entries(X))Ne!=="editHistory"&&de.push({id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),userId:d.uid,userName:d.displayName||"",field:Ne,oldValue:se[Ne],newValue:je,reason:ae});const we=Qe(oe,"trips",c.id,"expenses",V);await bt(we,{...X,editHistory:de})}catch(de){throw ue.error(" () :",de),new Error("    ")}}},[c,d,h,u.isOnline,f]),H=m.useCallback(async V=>{if(!c||!oe)throw new Error(" ");try{const X=V.map(async(ae,se)=>{const de=Qe(oe,"trips",c.id,"expenses",ae);return bt(de,{order:se})});await Promise.all(X)}catch(X){throw ue.error("   :",X),new Error("     ")}},[c]),F=m.useCallback(async V=>{if(!c||!d||!ho)throw new Error(" ");const X=Date.now(),ae=`${c.id}/${d.uid}/${X}_${V.name}`,se=$g(ho,`receipts/${ae}`);return await Jg(se,V),await Fg(se)},[c,d]),L=m.useCallback(async(V,X)=>{if(!c||!d||!oe)return;const ae=Zt(oe,"trips",c.id,"expenses",V,"comments");await us(ae,{expenseId:V,userId:d.uid,userName:d.displayName||"",userPhoto:d.photoURL,content:X,createdAt:Ma()})},[c,d]),ne=m.useCallback(async(V,X)=>{if(!c||!oe)return;const ae=Qe(oe,"trips",c.id,"expenses",V,"comments",X);await El(ae)},[c]),ce=m.useCallback(async V=>{if(!c||!d)return;const X=h.find(se=>se.id===V);if(!X)return;const ae=X.approvedBy||[];ae.includes(d.uid)||await Q(V,{approvedBy:[...ae,d.uid],approved:!0})},[c,d,h,Q]),ie=m.useCallback(async V=>{if(!c||!d)return;const X=h.find(de=>de.id===V);if(!X)return;const se=(X.approvedBy||[]).filter(de=>de!==d.uid);await Q(V,{approvedBy:se,approved:se.length>0})},[c,d,h,Q]),R=m.useCallback(async(V,X)=>{if(!c||!oe)return;const ae=`${V}_${X}`,se=Qe(oe,"trips",c.id,"settlements",ae);try{await bt(se,{completed:!0,completedAt:new Date().toISOString()})}catch{await hn(se,{from:V,to:X,completed:!0,completedAt:new Date().toISOString()})}},[c]),te=m.useCallback(async(V,X)=>{if(!c||!oe)return;const ae=`${V}_${X}`,se=Qe(oe,"trips",c.id,"settlements",ae);await bt(se,{completed:!1,completedAt:null}).catch(()=>{})},[c]),K=m.useCallback(async(V,X,ae,se)=>{if(!c||!d||!oe)return;const de=`${V}_${X}`,we=Qe(oe,"trips",c.id,"settlements",de);try{const Ne=await ms(we),je={id:Math.random().toString(36).substr(2,9),amount:ae,paidAt:new Date().toISOString(),note:se,recordedBy:d.uid,recordedByName:d.displayName||""};if(Ne.exists()){const rt=Ne.data().partialPayments||[],Pt=rt.reduce((Mt,ll)=>Mt+ll.amount,0)+ae;await bt(we,{partialPayments:[...rt,je],totalPaid:Pt})}else await hn(we,{from:V,to:X,completed:!1,partialPayments:[je],totalPaid:ae})}catch(Ne){throw ue.error("  :",Ne),new Error("     ")}},[c,d]),ee=m.useCallback(async(V,X)=>{if(!c||!oe)return;const ae=S.map(de=>de.code===V?{...de,rate:X}:de),se=Qe(oe,"trips",c.id);await bt(se,{currencies:ae}),w(ae)},[c,S]),fe=m.useCallback(async V=>{if(!c||!oe)return;const X=Qe(oe,"trips",c.id);await bt(X,{settlementDeadline:V})},[c]),xe=m.useCallback((V,X)=>{const ae=S.find(se=>se.code===X);return ae?V*ae.rate:V},[S]),Ce=m.useCallback(V=>{let X=0,ae=0;for(const se of h){const de=xe(se.amount,se.currency);if(se.paidBy===V&&(X+=de),se.sharedBy.includes(V)){if(se.splitMode==="custom"&&se.customRatios){const we=se.customRatios.find(Ne=>Ne.personId===V);if(we){ae+=de*(we.ratio/100);continue}}ae+=vo(de,se.sharedBy.length)}}return{paid:X,shouldPay:ae}},[h,xe]),be=m.useCallback(()=>{const V={};for(const X of h){const ae=xe(X.amount,X.currency),se=X.category||"other";V[se]=(V[se]||0)+ae}return V},[h,xe]),$=m.useCallback(()=>{const V={};for(const X of h){const ae=xe(X.amount,X.currency),se=X.date.split("T")[0];V[se]=(V[se]||0)+ae}return V},[h,xe]),re=m.useCallback(()=>{const V={};for(const X of h){const ae=xe(X.amount,X.currency);V[X.paidBy]=(V[X.paidBy]||0)+ae}return V},[h,xe]),pe=m.useCallback((V=1)=>{const X=new Map;for(const je of T){const{paid:He,shouldPay:rt}=Ce(je.id);X.set(je.id,He-rt)}const ae=[],se=[];for(const[je,He]of X)He>1?ae.push({id:je,amount:He}):He<-1&&se.push({id:je,amount:-He});ae.sort((je,He)=>He.amount-je.amount),se.sort((je,He)=>He.amount-je.amount);const de=[];let we=0,Ne=0;for(;we<ae.length&&Ne<se.length;){const je=ae[we],He=se[Ne],rt=Math.min(je.amount,He.amount);if(rt>1){const Pt=`${He.id}_${je.id}`;let Mt=Math.round(rt);V>1&&(Mt=Math.round(rt/V)*V),de.push({from:He.id,to:je.id,amount:Mt,roundedAmount:V>1?Mt:void 0,completed:x.get(Pt)||!1})}je.amount-=rt,He.amount-=rt,je.amount<1&&we++,He.amount<1&&Ne++}return de},[T,Ce,x]),ve=m.useCallback(async()=>{u.isOnline&&await g(async V=>!1)},[u.isOnline,g]);return{persons:T,expenses:h,currencies:S,loading:A,comments:v,settlementStatus:x,isOnline:u.isOnline,addPerson:C,removePerson:O,updatePerson:G,addExpense:P,removeExpense:Z,updateExpense:Q,updateExpenseWithHistory:q,reorderExpenses:H,uploadReceipt:F,addComment:L,removeComment:ne,approveExpense:ce,unapproveExpense:ie,markSettlementComplete:R,markSettlementIncomplete:te,partialPay:K,updateCurrencyRate:ee,calculateSettlements:pe,convertToKRW:xe,getTotalByPerson:Ce,getExpensesByCategory:be,getExpensesByDate:$,getExpensesByPerson:re,updateDeadline:fe,forceSync:ve}},vt={trips:null,persons:new Map,expenses:new Map,lastModified:0};function xt(c,o){vt.lastModified=Date.now(),c==="trips"?vt.trips=null:o&&vt[c].delete(o)}function yx(){if(vt.trips!==null)return vt.trips;const c=localStorage.getItem(ra.DEMO_TRIPS);if(c)try{const u=JSON.parse(c);return vt.trips=u,u}catch(u){ue.error("Failed to parse demo trips from localStorage:",u)}const d=[{id:"demo-trip-1",name:"   ()",inviteCode:"DEMO01",ownerId:"demo-user-1",currencies:Wt,createdAt:{seconds:Date.now()/1e3,nanoseconds:0},startDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],endDate:new Date(Date.now()+336*60*60*1e3).toISOString().split("T")[0],archived:!1}];return localStorage.setItem(ra.DEMO_TRIPS,JSON.stringify(d)),vt.trips=d,d}function ka(){return yx()}function bx(c,o,d){const u=ka(),f={id:`demo-trip-${Date.now()}`,name:c,inviteCode:bo(),ownerId:"demo-user-1",currencies:Wt,createdAt:{seconds:Date.now()/1e3,nanoseconds:0},startDate:o,endDate:d,archived:!1};return u.push(f),localStorage.setItem(ra.DEMO_TRIPS,JSON.stringify(u)),xt("trips"),f}function vx(c){const o=ka().filter(d=>d.id!==c);localStorage.setItem(ra.DEMO_TRIPS,JSON.stringify(o)),xt("trips"),localStorage.removeItem(`demo_persons_${c}`),localStorage.removeItem(`demo_expenses_${c}`),xt("persons",c),xt("expenses",c)}function jx(c){const o=ka().map(d=>d.id===c?{...d,archived:!0}:d);localStorage.setItem(ra.DEMO_TRIPS,JSON.stringify(o)),xt("trips")}function Nx(c,o){const d=ka(),u=d.find(g=>g.id===c);if(!u)throw new Error("    ");const f={...u,id:`demo-trip-${Date.now()}`,name:o,inviteCode:bo(),createdAt:{seconds:Date.now()/1e3,nanoseconds:0},startDate:void 0,endDate:void 0,archived:!1};return d.push(f),localStorage.setItem(ra.DEMO_TRIPS,JSON.stringify(d)),f}function qi(c){if(vt.persons.has(c))return vt.persons.get(c);const o=`demo_persons_${c}`,d=localStorage.getItem(o);if(d)try{const u=JSON.parse(d);return vt.persons.set(c,u),u}catch(u){ue.error("Failed to parse demo persons from localStorage:",u)}if(c==="demo-trip-1"){const u=[{id:"p1",name:"",color:It[0]},{id:"p2",name:"",color:It[1]},{id:"p3",name:"",color:It[2]}];return localStorage.setItem(o,JSON.stringify(u)),vt.persons.set(c,u),u}return[]}function Sx(c,o){const d=qi(c),u={id:`p-${Date.now()}`,name:o,color:It[d.length%It.length]};return d.push(u),localStorage.setItem(`demo_persons_${c}`,JSON.stringify(d)),xt("persons",c),u}function Cx(c,o,d){if(d){const g=al(c).map(j=>{const h={};return j.paidBy===o&&(h.paidBy=d),j.sharedBy.includes(o)&&(h.sharedBy=j.sharedBy.map(N=>N===o?d:N),j.customRatios&&(h.customRatios=j.customRatios.map(N=>N.personId===o?{...N,personId:d}:N))),Object.keys(h).length>0?{...j,...h}:j});localStorage.setItem(`demo_expenses_${c}`,JSON.stringify(g)),xt("expenses",c)}const u=qi(c).filter(f=>f.id!==o);localStorage.setItem(`demo_persons_${c}`,JSON.stringify(u)),xt("persons",c)}function Ex(c,o,d){const u=qi(c).map(f=>f.id===o?{...f,...d}:f);localStorage.setItem(`demo_persons_${c}`,JSON.stringify(u)),xt("persons",c)}function al(c){if(vt.expenses.has(c))return vt.expenses.get(c);const o=`demo_expenses_${c}`,d=localStorage.getItem(o);if(d)try{const u=JSON.parse(d);return vt.expenses.set(c,u),u}catch(u){ue.error("Failed to parse demo expenses from localStorage:",u)}if(c==="demo-trip-1"){const u=new Date,f=new Date(u);f.setDate(u.getDate()-5);const g=new Date(u);g.setDate(u.getDate()-4);const j=new Date(u);j.setDate(u.getDate()-3);const h=new Date(u);h.setDate(u.getDate()-2);const N=new Date(u);N.setDate(u.getDate()-1);const S=[{id:"e1",description:"  ",amount:3200,currency:"JPY",paidBy:"p1",sharedBy:["p1","p2","p3"],date:f.toISOString(),category:"transport",location:" "},{id:"e2",description:"  (3)",amount:45e3,currency:"JPY",paidBy:"p3",sharedBy:["p1","p2","p3"],date:f.toISOString(),category:"accommodation",location:"  "},{id:"e3",description:"  ",amount:12500,currency:"JPY",paidBy:"p2",sharedBy:["p1","p2","p3"],date:f.toISOString(),category:"food",location:" "},{id:"e4",description:" 1 x3",amount:2400,currency:"JPY",paidBy:"p1",sharedBy:["p1","p2","p3"],date:g.toISOString(),category:"transport"},{id:"e5",description:"  ",amount:1800,currency:"JPY",paidBy:"p2",sharedBy:["p1","p2","p3"],date:g.toISOString(),category:"food",location:""},{id:"e6",description:"  ",amount:6900,currency:"JPY",paidBy:"p3",sharedBy:["p1","p2","p3"],date:g.toISOString(),category:"activity",location:" "},{id:"e7",description:" ",amount:3600,currency:"JPY",paidBy:"p1",sharedBy:["p1","p2","p3"],date:g.toISOString(),category:"food",location:" "},{id:"e8",description:" ",amount:15e3,currency:"JPY",paidBy:"p2",sharedBy:["p1","p2","p3"],date:g.toISOString(),category:"food",location:" "},{id:"e9",description:" ",amount:28e3,currency:"JPY",paidBy:"p1",sharedBy:["p1"],date:j.toISOString(),category:"shopping",location:" "},{id:"e10",description:" ",amount:8500,currency:"JPY",paidBy:"p2",sharedBy:["p2"],date:j.toISOString(),category:"shopping",location:""},{id:"e11",description:" ",amount:5400,currency:"JPY",paidBy:"p3",sharedBy:["p1","p2","p3"],date:j.toISOString(),category:"food",location:" "},{id:"e12",description:"  ",amount:10500,currency:"JPY",paidBy:"p1",sharedBy:["p1","p2","p3"],date:j.toISOString(),category:"activity",location:""},{id:"e13",description:" 1 ",amount:26400,currency:"JPY",paidBy:"p2",sharedBy:["p1","p2","p3"],date:h.toISOString(),category:"activity",location:" "},{id:"e14",description:"  +",amount:8500,currency:"JPY",paidBy:"p3",sharedBy:["p1","p2","p3"],date:h.toISOString(),category:"food",location:" "},{id:"e15",description:" ",amount:12e3,currency:"JPY",paidBy:"p1",sharedBy:["p1","p2"],date:h.toISOString(),category:"shopping",location:" "},{id:"e16",description:" ",amount:1500,currency:"JPY",paidBy:"p2",sharedBy:["p1","p2","p3"],date:N.toISOString(),category:"food",location:""},{id:"e17",description:"   ()",amount:3200,currency:"JPY",paidBy:"p3",sharedBy:["p1","p2","p3"],date:N.toISOString(),category:"transport",location:" "},{id:"e18",description:"  ",amount:55,currency:"USD",paidBy:"p1",sharedBy:["p1"],date:N.toISOString(),category:"shopping",location:" "}];return localStorage.setItem(o,JSON.stringify(S)),vt.expenses.set(c,S),S}return[]}function wx(c,o){const d=al(c),u={...o,id:`e-${Date.now()}`};return d.push(u),localStorage.setItem(`demo_expenses_${c}`,JSON.stringify(d)),xt("expenses",c),u}function Dx(c,o){const d=al(c).filter(u=>u.id!==o);localStorage.setItem(`demo_expenses_${c}`,JSON.stringify(d)),xt("expenses",c)}function Mf(c,o,d){const u=al(c).map(f=>f.id===o?{...f,...d}:f);localStorage.setItem(`demo_expenses_${c}`,JSON.stringify(u)),xt("expenses",c)}function Tx(c){return ka().find(u=>u.id===c)?.currencies||Wt}function Mx(c,o,d){const u=ka().map(f=>f.id===c?{...f,currencies:f.currencies.map(g=>g.code===o?{...g,rate:d}:g)}:f);localStorage.setItem(ra.DEMO_TRIPS,JSON.stringify(u)),xt("trips")}function jo(c,o){const d=`demo_comments_${c}_${o}`,u=localStorage.getItem(d);if(u)try{return JSON.parse(u)}catch(f){ue.error("Failed to parse demo comments:",f)}return[]}function Ax(c,o,d,u=" "){const f=jo(c,o),g={id:`c-${Date.now()}`,expenseId:o,userId:"demo-user-1",userName:u,content:d,createdAt:new Date().toISOString()};return f.push(g),localStorage.setItem(`demo_comments_${c}_${o}`,JSON.stringify(f)),g}function kx(c,o,d){const u=jo(c,o).filter(f=>f.id!==d);localStorage.setItem(`demo_comments_${c}_${o}`,JSON.stringify(u))}function ds(c,o,d){const u=`demo_settlement_status_${c}_${o}_${d}`,f=localStorage.getItem(u);if(f)try{return JSON.parse(f)}catch(h){ue.error("Failed to parse demo settlement status:",h)}const g=`demo_settlement_${c}_${o}_${d}`;return localStorage.getItem(g)==="completed"?{completed:!0}:null}function go(c,o,d,u){const f=`demo_settlement_status_${c}_${o}_${d}`;localStorage.setItem(f,JSON.stringify(u));const g=`demo_settlement_${c}_${o}_${d}`;u.completed?localStorage.setItem(g,"completed"):localStorage.removeItem(g)}function Ox(c,o,d,u,f){const g=ds(c,o,d)||{completed:!1,partialPayments:[],totalPaid:0},j={id:`pp-${Date.now()}`,amount:u,paidAt:new Date().toISOString(),note:f,recordedBy:"demo-user-1",recordedByName:" "},h=[...g.partialPayments||[],j],N=h.reduce((S,w)=>S+w.amount,0);return go(c,o,d,{...g,partialPayments:h,totalPaid:N}),j}function zx(c,o){const d=al(c),u=o.map((j,h)=>{const N=d.find(S=>S.id===j);return N?{...N,order:h}:null}).filter(Boolean),f=d.filter(j=>!o.includes(j.id)),g=[...u,...f];localStorage.setItem(`demo_expenses_${c}`,JSON.stringify(g)),xt("expenses",c)}function Rx(c,o,d="demo-user-1"){const u=al(c).map(f=>{if(f.id===o){const g=f.approvedBy||[];if(!g.includes(d))return{...f,approvedBy:[...g,d],approved:!0}}return f});localStorage.setItem(`demo_expenses_${c}`,JSON.stringify(u)),xt("expenses",c)}function Bx(c,o,d="demo-user-1"){const u=al(c).map(f=>{if(f.id===o){const g=(f.approvedBy||[]).filter(j=>j!==d);return{...f,approvedBy:g,approved:g.length>0}}return f});localStorage.setItem(`demo_expenses_${c}`,JSON.stringify(u)),xt("expenses",c)}const Af=new Map;function sh(){const[c,o]=m.useState(()=>{try{const $=localStorage.getItem("demo_current_trip");if($)return ka().find(pe=>pe.id===$)||null}catch($){ue.error("Failed to load current trip:",$)}return null}),[d,u]=m.useState(0),f=m.useCallback(()=>{u($=>$+1)},[]),g=m.useCallback($=>{o($),$?localStorage.setItem("demo_current_trip",$.id):localStorage.removeItem("demo_current_trip")},[]),j=m.useMemo(()=>ka(),[d]),h=m.useMemo(()=>c?qi(c.id):[],[c,d]),N=m.useMemo(()=>c?al(c.id):[],[c,d]),S=m.useMemo(()=>c?Tx(c.id):[],[c,d]),w=m.useMemo(()=>{if(!c)return new Map;const $=new Map;return N.forEach(re=>{const ve=jo(c.id,re.id).map(V=>({...V,createdAt:{seconds:new Date(V.createdAt).getTime()/1e3,nanoseconds:0}}));$.set(re.id,ve)}),$},[c,N,d]),A=m.useMemo(()=>{if(!c)return new Map;const $=new Map;return h.forEach(re=>{h.forEach(pe=>{if(re.id!==pe.id){const ve=ds(c.id,re.id,pe.id);ve&&$.set(`${re.id}_${pe.id}`,ve.completed)}})}),$},[c,h,d]),b=m.useCallback(async($,re,pe)=>{const ve=bx($,re,pe);return f(),ve},[f]),v=m.useCallback(async $=>{vx($),c?.id===$&&g(null),f()},[c,g,f]),D=m.useCallback(async $=>{jx($),c?.id===$&&g(null),f()},[c,g,f]),x=m.useCallback(async($,re)=>{const pe=Nx($,re);return f(),pe},[f]),y=m.useCallback(async $=>{c&&(Sx(c.id,$),f())},[c,f]),T=m.useCallback(async($,re)=>{c&&(Cx(c.id,$,re),f())},[c,f]),k=m.useCallback(async($,re)=>{c&&(Ex(c.id,$,re),f())},[c,f]),C=m.useCallback(async $=>{if(c){if($.amount<=0)throw new Error(" 0  ");if(!$.sharedBy||$.sharedBy.length===0)throw new Error(" ");wx(c.id,$),f()}},[c,f]),O=m.useCallback(async $=>{c&&(Dx(c.id,$),f())},[c,f]),G=m.useCallback(async($,re)=>{c&&(Mf(c.id,$,re),f())},[c,f]),P=m.useCallback(async($,re,pe)=>{if(!c)return;const ve=N.find(X=>X.id===$);if(!ve)return;const V=ve.editHistory||[];for(const[X,ae]of Object.entries(re))X!=="editHistory"&&V.push({id:Math.random().toString(36).substr(2,9),timestamp:new Date().toISOString(),userId:"demo-user-1",userName:" ",field:X,oldValue:ve[X],newValue:ae,reason:pe});Mf(c.id,$,{...re,editHistory:V}),f()},[c,N,f]),Z=m.useCallback(async $=>{c&&(zx(c.id,$),f())},[c,f]),Q=m.useCallback(async($,re)=>{c&&(Ax(c.id,$,re),f())},[c,f]),q=m.useCallback(async($,re)=>{c&&(kx(c.id,$,re),f())},[c,f]),H=m.useCallback(async $=>{c&&(Rx(c.id,$),f())},[c,f]),F=m.useCallback(async $=>{c&&(Bx(c.id,$),f())},[c,f]),L=m.useCallback(async($,re)=>{c&&(Mx(c.id,$,re),f())},[c,f]),ne=m.useCallback(async $=>{const re=`${$.name}_${$.size}_${$.lastModified}`,pe=Af.get(re);pe&&URL.revokeObjectURL(pe);const ve=URL.createObjectURL($);return Af.set(re,ve),ve},[]),ce=m.useCallback(($,re)=>{const pe=S.find(V=>V.code===re),ve=$*(pe?.rate||1);return Math.round(ve*100)/100},[S]),ie=m.useCallback($=>{const re=N.filter(ve=>ve.paidBy===$).reduce((ve,V)=>ve+ce(V.amount,V.currency),0),pe=N.reduce((ve,V)=>{if(V.sharedBy.includes($)){const X=ce(V.amount,V.currency);if(V.splitMode==="custom"&&V.customRatios&&V.customRatios.length>0){const ae=V.customRatios.find(se=>se.personId===$);if(ae&&typeof ae.ratio=="number"&&ae.ratio>=0){const se=V.customRatios.reduce((de,we)=>de+(we.ratio||0),0);if(Math.abs(se-100)<=.01)return ve+X*ae.ratio/100}}return ve+vo(X,V.sharedBy.length)}return ve},0);return{paid:re,shouldPay:Math.round(pe)}},[N,ce]),R=m.useCallback(()=>{const $={};h.forEach(ae=>{const{paid:se,shouldPay:de}=ie(ae.id);$[ae.id]=se-de});const re=[],pe=Object.entries($).filter(([ae,se])=>se<0).sort((ae,se)=>ae[1]-se[1]),ve=Object.entries($).filter(([ae,se])=>se>0).sort((ae,se)=>se[1]-ae[1]);let V=0,X=0;for(;V<pe.length&&X<ve.length;){const[ae,se]=pe[V],[de,we]=ve[X],Ne=Math.min(-se,we);if(Ne>0){const je=c?ds(c.id,ae,de):null,He=je?.completed||!1,rt=je?.partialPayments||[],Pt=je?.totalPaid||0;re.push({from:ae,to:de,amount:Math.round(Ne),completed:He,completedAt:je?.completedAt,partialPayments:rt,totalPaid:Pt})}pe[V]=[ae,se+Ne],ve[X]=[de,we-Ne],pe[V][1]>=-.5&&V++,ve[X][1]<=.5&&X++}return re},[c,h,ie]),te=m.useCallback(()=>{const $={};return N.forEach(re=>{const pe=ce(re.amount,re.currency);$[re.category]=($[re.category]||0)+pe}),$},[N,ce]),K=m.useCallback(()=>{const $={};return N.forEach(re=>{const pe=re.date.split("T")[0],ve=ce(re.amount,re.currency);$[pe]=($[pe]||0)+ve}),$},[N,ce]),ee=m.useCallback(()=>{const $={};return N.forEach(re=>{const pe=ce(re.amount,re.currency);$[re.paidBy]=($[re.paidBy]||0)+pe}),$},[N,ce]),fe=m.useCallback(async($,re)=>{if(!c)return;const pe=ds(c.id,$,re);go(c.id,$,re,{...pe,completed:!0,completedAt:new Date().toISOString()}),f()},[c,f]),xe=m.useCallback(async($,re)=>{if(!c)return;const pe=ds(c.id,$,re);go(c.id,$,re,{...pe,completed:!1,completedAt:void 0}),f()},[c,f]),Ce=m.useCallback(async($,re,pe,ve)=>{c&&(Ox(c.id,$,re,pe,ve),f())},[c,f]),be=m.useCallback(async $=>{if(!c)return;const re={...c,settlementDeadline:$};g(re);const ve=ka().map(V=>V.id===c.id?re:V);localStorage.setItem("demo_trips",JSON.stringify(ve))},[c,g]);return{trips:j,currentTrip:c,persons:h,expenses:N,currencies:S,loading:!1,comments:w,settlementStatus:A,setCurrentTrip:g,createTrip:b,deleteTrip:v,archiveTrip:D,duplicateTrip:x,addPerson:y,removePerson:T,updatePerson:k,addExpense:C,removeExpense:O,updateExpense:G,updateExpenseWithHistory:P,reorderExpenses:Z,uploadReceipt:ne,addComment:Q,removeComment:q,approveExpense:H,unapproveExpense:F,updateCurrencyRate:L,convertToKRW:ce,getTotalByPerson:ie,calculateSettlements:R,getExpensesByCategory:te,getExpensesByDate:K,getExpensesByPerson:ee,markSettlementComplete:fe,markSettlementIncomplete:xe,partialPay:Ce,updateDeadline:be}}function _x(){const{signInWithGoogle:c,loading:o}=hs(),d=async()=>{try{await c()}catch(u){ue.error(" :",u)}};return l.jsxs("div",{className:"login-page",children:[l.jsxs("div",{className:"login-hero",children:[l.jsx("div",{className:"login-logo",children:""}),l.jsx("h1",{children:" "}),l.jsx("p",{className:"login-subtitle",children:"   "})]}),l.jsxs("div",{className:"login-card",children:[l.jsxs("div",{className:"login-features",children:[l.jsxs("div",{className:"feature-item",children:[l.jsx("span",{className:"feature-icon",children:""}),l.jsxs("div",{className:"feature-text",children:[l.jsx("h3",{children:" "}),l.jsx("p",{children:"   "})]})]}),l.jsxs("div",{className:"feature-item",children:[l.jsx("span",{className:"feature-icon",children:""}),l.jsxs("div",{className:"feature-text",children:[l.jsx("h3",{children:" "}),l.jsx("p",{children:"    "})]})]}),l.jsxs("div",{className:"feature-item",children:[l.jsx("span",{className:"feature-icon",children:""}),l.jsxs("div",{className:"feature-text",children:[l.jsx("h3",{children:" "}),l.jsx("p",{children:"    "})]})]})]}),l.jsxs("button",{className:"btn-google",onClick:d,disabled:o,children:[l.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l.jsx("span",{children:o?" ...":"Google "})]}),l.jsx("p",{className:"login-terms",children:"     "})]})]})}const kf="dark_mode_settings",oo={mode:"manual",scheduleStart:"20:00",scheduleEnd:"07:00"};function Yi({className:c="",showSettings:o=!1}){const{effectiveTheme:d,toggleTheme:u,setTheme:f}=ah(),[g,j]=m.useState(!1),[h,N]=m.useState(()=>{const v=localStorage.getItem(kf);if(v)try{return{...oo,...JSON.parse(v)}}catch{return oo}return oo}),S=m.useCallback(()=>{if(h.mode!=="scheduled")return;const v=new Date,D=v.getHours()*60+v.getMinutes(),[x,y]=h.scheduleStart.split(":").map(Number),[T,k]=h.scheduleEnd.split(":").map(Number),C=x*60+y,O=T*60+k;let G;C<O?G=D>=C&&D<O:G=D>=C||D<O,f(G?"dark":"light")},[h.mode,h.scheduleStart,h.scheduleEnd,f]);m.useEffect(()=>{if(h.mode==="scheduled"){S();const v=setInterval(S,6e4);return()=>clearInterval(v)}},[h.mode,S]),m.useEffect(()=>{if(h.mode==="system"){const v=window.matchMedia("(prefers-color-scheme: dark)"),D=x=>{f(x.matches?"dark":"light")};return f(v.matches?"dark":"light"),v.addEventListener("change",D),()=>v.removeEventListener("change",D)}},[h.mode,f]);const w=v=>{const D={...h,...v};N(D),localStorage.setItem(kf,JSON.stringify(D))},A=v=>{w({mode:v})},b=()=>{h.mode==="manual"?u():j(!0)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`dark-mode-toggle-container ${c}`,children:[l.jsxs("button",{className:"dark-mode-toggle",onClick:b,title:h.mode==="manual"?d==="dark"?"  ":"  ":`  (${h.mode==="system"?"":""})`,children:[l.jsx("span",{className:"icon",children:d==="dark"?"":""}),h.mode!=="manual"&&l.jsx("span",{className:"auto-indicator",children:h.mode==="system"?"":""})]}),o&&l.jsx("button",{className:"settings-btn",onClick:()=>j(!0),title:" ",children:""})]}),g&&l.jsx("div",{className:"dark-mode-modal-overlay",onClick:()=>j(!1),children:l.jsxs("div",{className:"dark-mode-modal",onClick:v=>v.stopPropagation(),children:[l.jsx("h3",{children:"  "}),l.jsxs("div",{className:"mode-options",children:[l.jsxs("label",{className:`mode-option ${h.mode==="manual"?"active":""}`,children:[l.jsx("input",{type:"radio",name:"darkMode",checked:h.mode==="manual",onChange:()=>A("manual")}),l.jsx("span",{className:"mode-icon",children:""}),l.jsxs("div",{className:"mode-info",children:[l.jsx("span",{className:"mode-name",children:""}),l.jsx("span",{className:"mode-desc",children:"   "})]})]}),l.jsxs("label",{className:`mode-option ${h.mode==="system"?"active":""}`,children:[l.jsx("input",{type:"radio",name:"darkMode",checked:h.mode==="system",onChange:()=>A("system")}),l.jsx("span",{className:"mode-icon",children:""}),l.jsxs("div",{className:"mode-info",children:[l.jsx("span",{className:"mode-name",children:" "}),l.jsx("span",{className:"mode-desc",children:"OS    "})]})]}),l.jsxs("label",{className:`mode-option ${h.mode==="scheduled"?"active":""}`,children:[l.jsx("input",{type:"radio",name:"darkMode",checked:h.mode==="scheduled",onChange:()=>A("scheduled")}),l.jsx("span",{className:"mode-icon",children:""}),l.jsxs("div",{className:"mode-info",children:[l.jsx("span",{className:"mode-name",children:" "}),l.jsx("span",{className:"mode-desc",children:"   "})]})]})]}),h.mode==="scheduled"&&l.jsxs("div",{className:"schedule-settings",children:[l.jsxs("div",{className:"schedule-row",children:[l.jsxs("label",{children:[l.jsx("span",{children:"  "}),l.jsx("input",{type:"time",value:h.scheduleStart,onChange:v=>w({scheduleStart:v.target.value})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"  "}),l.jsx("input",{type:"time",value:h.scheduleEnd,onChange:v=>w({scheduleEnd:v.target.value})})]})]}),l.jsxs("p",{className:"schedule-hint",children:[" ",h.scheduleStart," ~ ",h.scheduleEnd,"  "]})]}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{className:"btn-primary",onClick:()=>j(!1),children:""})})]})})]})}const Ze=({children:c,variant:o="primary",size:d="md",fullWidth:u=!1,isLoading:f=!1,leftIcon:g,rightIcon:j,className:h="",disabled:N,...S})=>{const w="inline-flex items-center justify-center rounded-xl font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-1 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",A={primary:"bg-gradient-to-r from-primary to-indigo-600 text-white shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/40 hover:-translate-y-0.5 border-transparent",secondary:"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 hover:border-slate-300 dark:hover:border-slate-600 shadow-sm",danger:"bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30 border border-transparent",ghost:"bg-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 border-transparent",outline:"bg-transparent border-2 border-primary text-primary hover:bg-primary/5 dark:hover:bg-primary/10"},b={sm:"text-xs px-3 py-1.5 gap-1.5",md:"text-sm px-4 py-2.5 gap-2",lg:"text-base px-6 py-3.5 gap-2.5"},v=u?"w-full":"";return l.jsxs("button",{className:`
                ${w}
                ${A[o]}
                ${b[d]}
                ${v}
                ${h}
            `,disabled:N||f,...S,children:[f&&l.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!f&&g,c,!f&&j]})},st=({label:c,error:o,helperText:d,leftIcon:u,rightIcon:f,className:g="",id:j,...h})=>{const N=j||h.name;return l.jsxs("div",{className:"flex flex-col gap-1.5 w-full",children:[c&&l.jsx("label",{htmlFor:N,className:"text-sm font-medium text-slate-700 dark:text-slate-300 ml-1",children:c}),l.jsxs("div",{className:"relative",children:[u&&l.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",children:u}),l.jsx("input",{id:N,className:`
                        w-full rounded-xl border bg-white dark:bg-slate-800 px-4 py-2.5 text-sm transition-all duration-200
                        placeholder:text-slate-400 dark:placeholder:text-slate-500
                        focus:outline-none focus:ring-2 focus:ring-offset-0
                        disabled:cursor-not-allowed disabled:opacity-50
                        ${u?"pl-10":""}
                        ${f?"pr-10":""}
                        ${o?"border-red-500 focus:border-red-500 focus:ring-red-500/20 text-red-900 dark:text-red-200":"border-slate-200 dark:border-slate-700 focus:border-primary focus:ring-primary/20 text-slate-900 dark:text-slate-100"}
                        ${g}
                    `,...h}),f&&l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",children:f})]}),o?l.jsx("p",{className:"text-xs text-red-500 ml-1 animate-fadeIn",children:o}):d?l.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 ml-1",children:d}):null]})},Gi=({children:c,className:o="",onClick:d,hoverable:u=!1,padding:f="md"})=>{const g={none:"",sm:"p-3",md:"p-5",lg:"p-6"};return l.jsx("div",{onClick:d,className:`
                bg-white dark:bg-slate-800 
                border border-slate-200 dark:border-slate-700 
                rounded-2xl 
                shadow-sm 
                transition-all duration-200
                ${u?"hover:shadow-md hover:-translate-y-1 cursor-pointer":""}
                ${g[f]}
                ${o}
            `,children:c})};var Ux=Wf();const pn=({isOpen:c,onClose:o,title:d,children:u,footer:f,size:g="md",closeOnOverlayClick:j=!0})=>{const[h,N]=m.useState(!1);if(m.useEffect(()=>{if(c)return N(!0),document.body.style.overflow="hidden",()=>{document.body.style.overflow=""};{const w=setTimeout(()=>N(!1),300);return document.body.style.overflow="",()=>clearTimeout(w)}},[c]),!c&&!h)return null;const S={sm:"max-w-sm",md:"max-w-lg",lg:"max-w-2xl",full:"max-w-full m-0 h-full rounded-none"};return Ux.createPortal(l.jsxs("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center",children:[l.jsx("div",{className:`
                    fixed inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity duration-300
                    ${c?"opacity-100":"opacity-0"}
                `,onClick:j?o:void 0}),l.jsxs("div",{className:`
                    relative w-full ${S[g]} 
                    bg-white dark:bg-slate-900 
                    rounded-t-2xl md:rounded-2xl 
                    shadow-2xl 
                    flex flex-col max-h-[90vh] md:max-h-[85vh]
                    transition-all duration-300 ease-out
                    ${c?"translate-y-0 opacity-100 scale-100":"translate-y-full md:translate-y-8 opacity-0 md:scale-95"}
                `,onClick:w=>w.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-slate-100 dark:border-slate-800",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:d}),l.jsx("button",{onClick:o,className:"p-2 -mr-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:l.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:u}),f&&l.jsx("div",{className:"px-5 py-4 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50 rounded-b-2xl flex justify-end gap-3",children:f})]})]}),document.body)};function Hx(c,o){if(!c&&!o)return null;const d=new Date;if(d.setHours(0,0,0,0),c){const u=new Date(c);u.setHours(0,0,0,0);const f=Math.ceil((u.getTime()-d.getTime())/(1e3*60*60*24));if(f>0)return`D-${f}`;if(f===0)return"D-Day!"}if(o){const u=new Date(o);return u.setHours(0,0,0,0),Math.ceil((u.getTime()-d.getTime())/(1e3*60*60*24))>=0?" ":""}return null}function Lx(){const{user:c,signOut:o}=hs(),{trips:d,loading:u,setCurrentTrip:f,createTrip:g,joinTrip:j,archiveTrip:h,duplicateTrip:N}=Li(),[S,w]=m.useState(!1),[A,b]=m.useState(!1),[v,D]=m.useState(""),[x,y]=m.useState(""),[T,k]=m.useState(""),[C,O]=m.useState(""),[G,P]=m.useState(""),[Z,Q]=m.useState(!1),[q,H]=m.useState(!1),F=async()=>{if(v.trim()){Q(!0),P("");try{const ee=await g(v.trim(),x||void 0,T||void 0);w(!1),D(""),y(""),k(""),f(ee)}catch(ee){P("  "),ue.error("  :",ee)}finally{Q(!1)}}},L=async()=>{if(C.trim()){Q(!0),P("");try{const ee=await j(C.trim());ee?(b(!1),O(""),f(ee)):P("   ")}catch(ee){P("  "),ue.error("  :",ee)}finally{Q(!1)}}},ne=ee=>{f(ee)},ce=async(ee,fe)=>{ee.stopPropagation(),confirm("  ?")&&await h?.(fe)},ie=async(ee,fe)=>{ee.stopPropagation();const xe=prompt("   :",`${fe.name} ()`);xe&&await N?.(fe.id,xe)},R=d.filter(ee=>!ee.archived),te=d.filter(ee=>ee.archived),K=q?te:R;return u?l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4 bg-slate-50 dark:bg-slate-950",children:[l.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:" ..."})]}):l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 px-4 py-6 md:p-8 space-y-8",children:[l.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 max-w-5xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[c?.photoURL&&l.jsx("img",{src:c.photoURL,alt:"",className:"w-12 h-12 rounded-full border-2 border-white shadow-sm object-cover"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:c?.displayName||""}),l.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:c?.email})]})]}),l.jsxs("div",{className:"flex items-center gap-3 self-end md:self-auto",children:[l.jsx(Yi,{className:"bg-white dark:bg-slate-800 p-2 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm"}),l.jsx(Ze,{variant:"ghost",size:"sm",onClick:o,children:""})]})]}),l.jsxs("main",{className:"max-w-5xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("h1",{className:"text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-indigo-600",children:"  "})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[l.jsx(Ze,{variant:"primary",size:"lg",className:"h-auto py-6",onClick:()=>w(!0),children:l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("span",{className:"text-xl",children:"+"}),l.jsx("span",{children:"  "})]})}),l.jsx(Ze,{variant:"secondary",size:"lg",className:"h-auto py-6 bg-white dark:bg-slate-800 border-dashed border-2",onClick:()=>b(!0),children:l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("span",{className:"text-xl",children:""}),l.jsx("span",{children:"  "})]})})]}),te.length>0&&l.jsxs("div",{className:"flex p-1 bg-slate-200 dark:bg-slate-800 rounded-xl w-fit",children:[l.jsxs("button",{className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${q?"text-slate-500 dark:text-slate-400":"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white"}`,onClick:()=>H(!1),children:["  (",R.length,")"]}),l.jsxs("button",{className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${q?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400"}`,onClick:()=>H(!0),children:[" (",te.length,")"]})]}),K.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:[l.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:q?"  ":"  "}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:q?"":"     "})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map(ee=>{const fe=Hx(ee.startDate,ee.endDate);return l.jsxs(Gi,{hoverable:!0,className:`relative group ${ee.archived?"opacity-75 grayscale":""}`,onClick:()=>ne(ee),children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-2xl flex items-center justify-center text-2xl",children:""}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",onClick:xe=>ie(xe,ee),title:"",children:""}),!ee.archived&&l.jsx("button",{className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",onClick:xe=>ce(xe,ee.id),title:"",children:""})]})]}),l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2 line-clamp-1",children:ee.name}),l.jsxs("div",{className:"flex flex-col gap-1 text-sm text-slate-500 dark:text-slate-400",children:[l.jsxs("span",{className:"font-mono bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded w-fit text-xs",children:["CODE: ",ee.inviteCode]}),ee.startDate&&l.jsxs("span",{className:"text-xs",children:[" ",ee.startDate,ee.endDate&&` ~ ${ee.endDate}`]})]}),fe&&l.jsx("div",{className:`absolute top-4 right-4 px-2 py-1 rounded-full text-xs font-bold ${fe==="D-Day!"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400 animate-pulse":"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400"}`,children:fe})]},ee.id)})})]}),l.jsx(pn,{isOpen:S,onClose:()=>w(!1),title:"  ",footer:l.jsxs(l.Fragment,{children:[l.jsx(Ze,{variant:"ghost",onClick:()=>w(!1),children:""}),l.jsx(Ze,{variant:"primary",onClick:F,disabled:!v.trim()||Z,isLoading:Z,children:""})]}),children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(st,{label:" ",placeholder:":   ",value:v,onChange:ee=>D(ee.target.value),autoFocus:!0}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(st,{type:"date",label:" ()",value:x,onChange:ee=>y(ee.target.value)}),l.jsx(st,{type:"date",label:" ()",value:T,onChange:ee=>k(ee.target.value)})]}),G&&l.jsx("p",{className:"text-sm text-red-500",children:G})]})}),l.jsx(pn,{isOpen:A,onClose:()=>b(!1),title:"  ",footer:l.jsxs(l.Fragment,{children:[l.jsx(Ze,{variant:"ghost",onClick:()=>b(!1),children:""}),l.jsx(Ze,{variant:"primary",onClick:L,disabled:C.length<6||Z,isLoading:Z,children:""})]}),children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(st,{label:" ",placeholder:": ABC123",value:C,onChange:ee=>O(ee.target.value.toUpperCase()),maxLength:6,autoFocus:!0,className:"font-mono uppercase tracking-widest text-center text-lg"}),G&&l.jsx("p",{className:"text-sm text-red-500 text-center",children:G})]})})]})}function qx(c,o){if(!c&&!o)return null;const d=new Date;if(d.setHours(0,0,0,0),c){const u=new Date(c);u.setHours(0,0,0,0);const f=Math.ceil((u.getTime()-d.getTime())/(1e3*60*60*24));if(f>0)return`D-${f}`;if(f===0)return"D-Day!"}if(o){const u=new Date(o);return u.setHours(0,0,0,0),Math.ceil((u.getTime()-d.getTime())/(1e3*60*60*24))>=0?" ":""}return null}function Yx({onSelectTrip:c}={}){const{disableDemoMode:o,demoUser:d}=Hi(),u=sh(),[f,g]=m.useState(!1),[j,h]=m.useState(""),[N,S]=m.useState(""),[w,A]=m.useState(""),[b,v]=m.useState(!1),[D,x]=m.useState(!1),y=async()=>{if(j.trim()){v(!0);try{const Z=await u.createTrip(j.trim(),N||void 0,w||void 0);g(!1),h(""),S(""),A(""),c?c(Z):u.setCurrentTrip(Z)}catch(Z){ue.error("  :",Z)}finally{v(!1)}}},T=Z=>{c?c(Z):u.setCurrentTrip(Z)},k=async(Z,Q)=>{Z.stopPropagation(),confirm("  ?")&&await u.archiveTrip(Q)},C=async(Z,Q)=>{Z.stopPropagation();const q=prompt("   :",`${Q.name} ()`);q&&await u.duplicateTrip(Q.id,q)},O=u.trips.filter(Z=>!Z.archived),G=u.trips.filter(Z=>Z.archived),P=D?G:O;return l.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 px-4 py-6 md:p-8 space-y-8",children:[l.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 max-w-5xl mx-auto",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center text-2xl border-2 border-white shadow-sm",children:""}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:d?.displayName||" "}),l.jsx("span",{className:"text-sm text-indigo-500 dark:text-indigo-400 font-medium",children:"     "})]})]}),l.jsxs("div",{className:"flex items-center gap-3 self-end md:self-auto",children:[l.jsx(Yi,{className:"bg-white dark:bg-slate-800 p-2 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm"}),l.jsx(Ze,{variant:"ghost",size:"sm",onClick:o,className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:" "})]})]}),l.jsxs("main",{className:"max-w-5xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h1",{className:"text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-indigo-600",children:["   ",l.jsx("span",{className:"text-sm font-normal text-slate-400 ml-2 border border-slate-200 dark:border-slate-700 rounded-full px-2 py-0.5 align-middle",children:"DEMO"})]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.jsx(Ze,{variant:"primary",size:"lg",className:"h-auto py-6",onClick:()=>g(!0),children:l.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l.jsx("span",{className:"text-xl",children:"+"}),l.jsx("span",{children:"  "})]})})}),G.length>0&&l.jsxs("div",{className:"flex p-1 bg-slate-200 dark:bg-slate-800 rounded-xl w-fit",children:[l.jsxs("button",{className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${D?"text-slate-500 dark:text-slate-400":"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white"}`,onClick:()=>x(!1),children:["  (",O.length,")"]}),l.jsxs("button",{className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${D?"bg-white dark:bg-slate-700 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400"}`,onClick:()=>x(!0),children:[" (",G.length,")"]})]}),P.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:[l.jsx("div",{className:"text-6xl mb-4 opacity-50",children:""}),l.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:D?"  ":"  "}),l.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:D?"":"   !"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(Z=>{const Q=qx(Z.startDate,Z.endDate);return l.jsxs(Gi,{hoverable:!0,className:`relative group ${Z.archived?"opacity-75 grayscale":""}`,onClick:()=>T(Z),children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 dark:bg-primary/20 rounded-2xl flex items-center justify-center text-2xl",children:""}),l.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx("button",{className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",onClick:q=>C(q,Z),title:"",children:""}),!Z.archived&&l.jsx("button",{className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",onClick:q=>k(q,Z.id),title:"",children:""})]})]}),l.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2 line-clamp-1",children:Z.name}),l.jsx("div",{className:"flex flex-col gap-1 text-sm text-slate-500 dark:text-slate-400",children:Z.startDate&&l.jsxs("span",{className:"text-xs",children:[" ",Z.startDate,Z.endDate&&` ~ ${Z.endDate}`]})}),Q&&l.jsx("div",{className:`absolute top-4 right-4 px-2 py-1 rounded-full text-xs font-bold ${Q==="D-Day!"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400 animate-pulse":"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400"}`,children:Q})]},Z.id)})})]}),l.jsx(pn,{isOpen:f,onClose:()=>g(!1),title:"  ",footer:l.jsxs(l.Fragment,{children:[l.jsx(Ze,{variant:"ghost",onClick:()=>g(!1),children:""}),l.jsx(Ze,{variant:"primary",onClick:y,disabled:!j.trim()||b,isLoading:b,children:""})]}),children:l.jsxs("div",{className:"space-y-4",children:[l.jsx(st,{label:" ",placeholder:":   ",value:j,onChange:Z=>h(Z.target.value),autoFocus:!0}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(st,{type:"date",label:" ()",value:N,onChange:Z=>S(Z.target.value)}),l.jsx(st,{type:"date",label:" ()",value:w,onChange:Z=>A(Z.target.value)})]})]})})]})}function ih({persons:c,expenses:o=[],onAddPerson:d,onRemovePerson:u,onUpdatePerson:f}){const[g,j]=m.useState(""),[h,N]=m.useState(null),[S,w]=m.useState(""),[A,b]=m.useState(null),[v,D]=m.useState(""),[x,y]=m.useState(null),[T,k]=m.useState({bankName:"",accountNumber:"",accountHolder:""}),C=m.useMemo(()=>{const L={};return c.forEach(ne=>{L[ne.id]=o.filter(ce=>ce.paidBy===ne.id||ce.sharedBy.includes(ne.id)).length}),L},[c,o]),O=async()=>{if(g.trim()){if(c.some(L=>L.name===g.trim())){alert("  .");return}await d(g.trim()),j("")}},G=L=>{L.nativeEvent.isComposing||L.key==="Enter"&&O()},P=L=>{if(C[L.id]>0){alert("      .");return}N(L.id),w(L.name)},Z=async()=>{if(h&&S.trim()){if(c.some(ne=>ne.id!==h&&ne.name===S.trim())){alert("  .");return}await f(h,{name:S.trim()}),N(null)}},Q=L=>{if(C[L]>0){b(L);const ce=c.find(ie=>ie.id!==L);ce&&D(ce.id)}else confirm(" ?")&&u(L)},q=async()=>{A&&v&&(await u(A,v),b(null))},H=L=>{if(x===L)y(null);else{y(L);const ne=c.find(ce=>ce.id===L);k({bankName:ne?.bankName||"",accountNumber:ne?.accountNumber||"",accountHolder:ne?.accountHolder||ne?.name||""})}},F=async L=>{await f(L,{bankName:T.bankName,accountNumber:T.accountNumber,accountHolder:T.accountHolder}),y(null)};return l.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(st,{placeholder:"  ",value:g,onChange:L=>j(L.target.value),onKeyDown:G}),l.jsx(Ze,{onClick:O,disabled:!g.trim(),children:""})]}),c.length===0?l.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-2xl",children:[l.jsx("div",{className:"text-4xl mb-3 opacity-50",children:""}),l.jsx("p",{className:"text-slate-900 dark:text-white font-medium",children:" "}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"   "})]}):l.jsx("ul",{className:"space-y-3",children:c.map(L=>l.jsxs(Gi,{padding:"none",className:`overflow-hidden transition-all duration-300 ${x===L.id?"ring-2 ring-primary ring-opacity-50":""}`,children:[l.jsxs("div",{className:"p-4 flex items-center justify-between cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",onClick:()=>H(L.id),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium shadow-sm shrink-0",style:{backgroundColor:L.color||"#ccc"},children:L.name.charAt(0)}),h===L.id?l.jsxs("div",{className:"flex items-center gap-2",onClick:ne=>ne.stopPropagation(),children:[l.jsx(st,{value:S,onChange:ne=>w(ne.target.value),autoFocus:!0,className:"h-8 py-1"}),l.jsx(Ze,{size:"sm",onClick:Z,children:""})]}):l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[L.name,L.isMe&&l.jsx("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 py-0.5 rounded-full font-bold",children:"ME"})]}),(L.bankName||L.accountNumber)&&l.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[" ",L.bankName," ",L.accountNumber]})]})]}),l.jsxs("div",{className:"flex items-center gap-1",onClick:ne=>ne.stopPropagation(),children:[l.jsx("button",{className:"p-2 text-slate-400 hover:text-primary transition-colors hover:bg-slate-100 dark:hover:bg-slate-700 rounded-full",onClick:()=>P(L),title:" ",disabled:C[L.id]>0,children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),l.jsx("button",{className:"p-2 text-slate-400 hover:text-red-500 transition-colors hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full",onClick:()=>Q(L.id),title:"",children:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("polyline",{points:"3 6 5 6 21 6"}),l.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]}),l.jsx("div",{className:`
                                    bg-slate-50 dark:bg-slate-900/50 border-t border-slate-100 dark:border-slate-800
                                    transition-all duration-300 ease-in-out
                                    ${x===L.id?"max-h-64 opacity-100":"max-h-0 opacity-0"}
                                    overflow-hidden
                                `,onClick:ne=>ne.stopPropagation(),children:l.jsxs("div",{className:"p-4 space-y-3",children:[l.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"  "}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsx(st,{placeholder:" (: )",value:T.bankName,onChange:ne=>k({...T,bankName:ne.target.value}),className:"bg-white dark:bg-slate-800",label:""}),l.jsx(st,{placeholder:"",value:T.accountNumber,onChange:ne=>k({...T,accountNumber:ne.target.value}),className:"bg-white dark:bg-slate-800",label:""})]}),l.jsxs("div",{className:"flex gap-3 items-end",children:[l.jsx(st,{placeholder:"",value:T.accountHolder,onChange:ne=>k({...T,accountHolder:ne.target.value}),className:"bg-white dark:bg-slate-800 flex-1",label:""}),l.jsx(Ze,{onClick:()=>F(L.id),children:""})]})]})})]},L.id))}),l.jsx("p",{className:"text-center text-sm text-slate-400 dark:text-slate-500 mt-4",children:"      "}),l.jsx(pn,{isOpen:!!A,onClose:()=>b(null),title:"   ",footer:l.jsxs(l.Fragment,{children:[l.jsx(Ze,{variant:"ghost",onClick:()=>b(null),children:""}),l.jsx(Ze,{variant:"danger",onClick:q,children:"  "})]}),children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200 p-4 rounded-xl text-sm",children:[l.jsx("p",{className:"font-medium",children:"  "}),l.jsx("p",{className:"mt-1",children:"     .       ."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"  "}),l.jsx("select",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 px-3 py-2.5 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 outline-none transition-all",value:v,onChange:L=>D(L.target.value),children:c.filter(L=>L.id!==A).map(L=>l.jsx("option",{value:L.id,children:L.name},L.id))})]})]})})]})}function Gx({expense:c,persons:o,currencies:d,onSave:u,onUploadReceipt:f,onClose:g}){const[j,h]=m.useState(c.description),[N,S]=m.useState(c.amount.toString()),[w,A]=m.useState(c.currency),[b,v]=m.useState(c.paidBy),[D,x]=m.useState(c.sharedBy),[y,T]=m.useState(c.category),[k,C]=m.useState(c.location||""),[O,G]=m.useState(c.receiptUrl||""),[P,Z]=m.useState(!1),[Q,q]=m.useState(!1),H=m.useRef(null),F=async ie=>{if(ie?.preventDefault(),!(!j.trim()||!N||!b||D.length===0)){q(!0);try{await u(c.id,{description:j.trim(),amount:parseFloat(N),currency:w,paidBy:b,sharedBy:D,category:y,location:k.trim()||void 0,receiptUrl:O||void 0}),g()}catch(R){ue.error("  :",R),alert(" .")}finally{q(!1)}}},L=async ie=>{const R=ie.target.files?.[0];if(R){if(R.size>5*1024*1024){alert("  5MB  .");return}Z(!0);try{const te=await f(R);G(te)}catch(te){ue.error("  :",te),alert(" .")}finally{Z(!1)}}},ne=ie=>{x(R=>R.includes(ie)?R.filter(te=>te!==ie):[...R,ie])},ce=()=>{D.length===o.length?x([]):x(o.map(ie=>ie.id))};return l.jsx(pn,{isOpen:!0,onClose:g,title:" ",footer:l.jsxs(l.Fragment,{children:[l.jsx(Ze,{variant:"ghost",onClick:g,children:""}),l.jsx(Ze,{variant:"primary",onClick:()=>F(),isLoading:Q,disabled:!j.trim()||!N||!b||D.length===0,children:""})]}),children:l.jsxs("form",{className:"space-y-6",onSubmit:F,children:[l.jsx(st,{label:"",value:j,onChange:ie=>h(ie.target.value),required:!0}),l.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[l.jsx("div",{className:"col-span-3",children:l.jsx(st,{type:"number",label:"",value:N,onChange:ie=>S(ie.target.value),min:"0",step:"0.01",required:!0})}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 ml-1 mb-1.5 block",children:""}),l.jsx("select",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",value:w,onChange:ie=>A(ie.target.value),children:d.map(ie=>l.jsxs("option",{value:ie.code,children:[ie.symbol," ",ie.code]},ie.code))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 ml-1 mb-2 block",children:""}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(ht).map(([ie,{label:R,icon:te}])=>l.jsxs("button",{type:"button",className:`flex flex-col items-center gap-1 p-2 rounded-xl border transition-all ${y===ie?"border-primary bg-primary/5 text-primary":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,onClick:()=>T(ie),children:[l.jsx("span",{className:"text-xl",children:te}),l.jsx("span",{className:"text-[10px]",children:R})]},ie))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 ml-1 mb-1.5 block",children:""}),l.jsxs("select",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",value:b,onChange:ie=>v(ie.target.value),required:!0,children:[l.jsx("option",{value:"",children:""}),o.map(ie=>l.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 ml-1",children:"  "}),l.jsx("button",{type:"button",className:"text-xs text-primary hover:text-primary-dark transition-colors px-2 py-1 rounded-lg hover:bg-primary/5",onClick:ce,children:D.length===o.length?" ":" "})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(ie=>l.jsxs("button",{type:"button",className:`flex items-center gap-1.5 px-3 py-2 rounded-lg border text-sm transition-all ${D.includes(ie.id)?"border-slate-800 bg-slate-800 text-white dark:border-slate-600 dark:bg-slate-700":"border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,onClick:()=>ne(ie.id),children:[l.jsx("span",{className:"w-4 h-4 rounded-full flex items-center justify-center text-[8px] font-bold bg-white text-slate-900 border border-current opacity-80",style:{color:ie.color,borderColor:ie.color},children:ie.name.charAt(0)}),l.jsx("span",{children:ie.name})]},ie.id))})]}),l.jsx(st,{label:" ()",placeholder:":  ",value:k,onChange:ie=>C(ie.target.value)}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 ml-1 mb-2 block",children:" ()"}),l.jsx("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl p-4 text-center",children:O?l.jsxs("div",{className:"relative inline-block group",children:[l.jsx("img",{src:O,alt:"",className:"max-h-40 rounded-lg shadow-sm"}),l.jsx("button",{type:"button",className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>G(""),children:""})]}):P?l.jsxs("div",{className:"flex flex-col items-center gap-2 py-4",children:[l.jsx("div",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"text-sm text-slate-500",children:" ..."})]}):l.jsxs("label",{className:"flex flex-col items-center gap-2 cursor-pointer py-4 hover:bg-slate-50 dark:hover:bg-slate-800/50 rounded-lg transition-colors",children:[l.jsx("input",{ref:H,type:"file",accept:"image/*",className:"hidden",onChange:L}),l.jsx("span",{className:"text-2xl",children:""}),l.jsx("span",{className:"text-sm text-slate-500",children:"   "})]})})]})]})})}const Qx=m.memo(function({persons:o,filters:d,onFilterChange:u,onClose:f}){const[g,j]=m.useState(d),[h,N]=m.useState(!1),S=(y,T)=>{const k={...g,[y]:T};j(k),u(k)},w=y=>{const T=g.categories.includes(y)?g.categories.filter(k=>k!==y):[...g.categories,y];S("categories",T)},A=y=>{const T=g.payers.includes(y)?g.payers.filter(k=>k!==y):[...g.payers,y];S("payers",T)},b=y=>{const T=g.currencies.includes(y)?g.currencies.filter(k=>k!==y):[...g.currencies,y];S("currencies",T)},v=()=>{const y={searchQuery:"",categories:[],payers:[],dateFrom:"",dateTo:"",amountMin:null,amountMax:null,currencies:[],hasReceipt:null};j(y),u(y)},D=g.searchQuery||g.categories.length>0||g.payers.length>0||g.dateFrom||g.dateTo||g.amountMin!==null||g.amountMax!==null||g.currencies.length>0||g.hasReceipt!==null,x=[g.searchQuery,g.categories.length>0,g.payers.length>0,g.dateFrom||g.dateTo,g.amountMin!==null||g.amountMax!==null,g.currencies.length>0,g.hasReceipt!==null].filter(Boolean).length;return l.jsxs("div",{className:"expense-filter",children:[l.jsxs("div",{className:"filter-header",children:[l.jsxs("h4",{children:[" ",x>0&&l.jsx("span",{className:"filter-count-badge",children:x})]}),D&&l.jsx("button",{className:"filter-clear",onClick:v,children:" "})]}),l.jsxs("div",{className:"filter-section",children:[l.jsx("label",{children:""}),l.jsx("div",{className:"filter-search-wrapper",children:l.jsx("input",{type:"text",className:"filter-search",placeholder:"   ...",value:g.searchQuery,onChange:y=>S("searchQuery",y.target.value)})})]}),l.jsxs("div",{className:"filter-section",children:[l.jsx("label",{children:""}),l.jsx("div",{className:"filter-categories",children:Object.entries(ht).map(([y,{label:T,icon:k}])=>l.jsxs("button",{className:`filter-category-btn ${g.categories.includes(y)?"active":""}`,onClick:()=>w(y),children:[l.jsx("span",{children:k}),l.jsx("span",{children:T})]},y))})]}),l.jsxs("div",{className:"filter-section",children:[l.jsx("label",{children:""}),l.jsx("div",{className:"filter-payers",children:o.map(y=>l.jsxs("button",{className:`filter-payer-btn ${g.payers.includes(y.id)?"active":""}`,onClick:()=>A(y.id),children:[l.jsx("span",{className:"avatar",style:{backgroundColor:y.color},children:y.name.charAt(0)}),l.jsx("span",{children:y.name})]},y.id))})]}),l.jsxs("div",{className:"filter-section",children:[l.jsx("label",{children:""}),l.jsxs("div",{className:"filter-date-range",children:[l.jsx("input",{type:"date",value:g.dateFrom,onChange:y=>S("dateFrom",y.target.value)}),l.jsx("span",{children:"~"}),l.jsx("input",{type:"date",value:g.dateTo,onChange:y=>S("dateTo",y.target.value)})]})]}),l.jsx("button",{className:"filter-advanced-toggle",onClick:()=>N(!h),children:h?"   ":"   "}),h&&l.jsxs("div",{className:"filter-advanced",children:[l.jsxs("div",{className:"filter-section",children:[l.jsx("label",{children:"  ()"}),l.jsxs("div",{className:"filter-amount-range",children:[l.jsx("input",{type:"number",placeholder:"",value:g.amountMin??"",onChange:y=>S("amountMin",y.target.value?parseInt(y.target.value):null)}),l.jsx("span",{children:"~"}),l.jsx("input",{type:"number",placeholder:"",value:g.amountMax??"",onChange:y=>S("amountMax",y.target.value?parseInt(y.target.value):null)})]}),l.jsx("div",{className:"filter-amount-presets",children:[1e4,5e4,1e5,5e5].map(y=>l.jsxs("button",{className:"filter-preset-btn",onClick:()=>S("amountMax",y),children:["~",y/1e4,""]},y))})]}),l.jsxs("div",{className:"filter-section",children:[l.jsx("label",{children:" "}),l.jsx("div",{className:"filter-currencies",children:Wt.map(y=>l.jsxs("button",{className:`filter-currency-btn ${g.currencies.includes(y.code)?"active":""}`,onClick:()=>b(y.code),children:[y.symbol," ",y.code]},y.code))})]}),l.jsxs("div",{className:"filter-section",children:[l.jsx("label",{children:""}),l.jsxs("div",{className:"filter-receipt-options",children:[l.jsx("button",{className:`filter-receipt-btn ${g.hasReceipt===null?"active":""}`,onClick:()=>S("hasReceipt",null),children:""}),l.jsx("button",{className:`filter-receipt-btn ${g.hasReceipt===!0?"active":""}`,onClick:()=>S("hasReceipt",!0),children:" "}),l.jsx("button",{className:`filter-receipt-btn ${g.hasReceipt===!1?"active":""}`,onClick:()=>S("hasReceipt",!1),children:""})]})]})]})]})}),Xx={searchQuery:"",categories:[],payers:[],dateFrom:"",dateTo:"",amountMin:null,amountMax:null,currencies:[],hasReceipt:null};function Vx(c,o,d){return c.filter(u=>{if(o.searchQuery){const f=o.searchQuery.toLowerCase(),g=u.description.toLowerCase().includes(f),j=u.location?.toLowerCase().includes(f);if(!g&&!j)return!1}if(o.categories.length>0&&!o.categories.includes(u.category)||o.payers.length>0&&!o.payers.includes(u.paidBy)||o.dateFrom&&u.date.split("T")[0]<o.dateFrom||o.dateTo&&u.date.split("T")[0]>o.dateTo)return!1;if((o.amountMin!==null||o.amountMax!==null)&&u.amount!==void 0){const f=u.amount;if(o.amountMin!==null&&f<o.amountMin||o.amountMax!==null&&f>o.amountMax)return!1}if(o.currencies.length>0&&u.currency&&!o.currencies.includes(u.currency))return!1;if(o.hasReceipt!==null){const f=!!u.receiptUrl;if(o.hasReceipt!==f)return!1}return!0})}Gf.register(Qf,Xf,Vf,Kf,Zf,$f,Jf);const ki=["rgba(102, 126, 234, 0.8)","rgba(240, 147, 251, 0.8)","rgba(79, 172, 254, 0.8)","rgba(67, 233, 123, 0.8)","rgba(250, 112, 154, 0.8)","rgba(254, 225, 64, 0.8)","rgba(48, 207, 208, 0.8)","rgba(168, 237, 234, 0.8)"],Kx=m.memo(function({expensesByCategory:o,expensesByDate:d,expensesByPerson:u,persons:f,totalExpenses:g}){const[j,h]=m.useState("category"),N=g>0,S={labels:Object.keys(o).map(x=>ht[x]?.label||x),datasets:[{data:Object.values(o),backgroundColor:ki.slice(0,Object.keys(o).length),borderWidth:0}]},w=Object.keys(d).sort().slice(-7),A={labels:w.map(x=>{const y=new Date(x);return`${y.getMonth()+1}/${y.getDate()}`}),datasets:[{label:"",data:w.map(x=>d[x]||0),backgroundColor:"rgba(102, 126, 234, 0.8)",borderRadius:6}]},b={labels:Object.keys(u).map(x=>f.find(T=>T.id===x)?.name||"  "),datasets:[{data:Object.values(u),backgroundColor:Object.keys(u).map(x=>f.find(T=>T.id===x)?.color||ki[0]),borderWidth:0}]},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(x){return`${x.raw.toLocaleString()}`}}}}},D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(x){return`${x.raw.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(x){return typeof x=="number"&&x>=1e4?`${(x/1e4).toFixed(0)}`:typeof x=="number"?x.toLocaleString():x}}}}};return l.jsxs("div",{className:"expense-chart",children:[l.jsxs("div",{className:"chart-header",children:[l.jsx("h4",{children:"  "}),l.jsxs("div",{className:"chart-tabs",children:[l.jsx("button",{className:`chart-tab ${j==="category"?"active":""}`,onClick:()=>h("category"),children:""}),l.jsx("button",{className:`chart-tab ${j==="date"?"active":""}`,onClick:()=>h("date"),children:""}),l.jsx("button",{className:`chart-tab ${j==="person"?"active":""}`,onClick:()=>h("person"),children:""})]})]}),N?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"chart-container",children:[j==="category"&&l.jsx(vf,{data:S,options:v}),j==="date"&&l.jsx(Ff,{data:A,options:D}),j==="person"&&l.jsx(vf,{data:b,options:v})]}),(j==="category"||j==="person")&&l.jsxs("div",{className:"chart-legend",children:[j==="category"&&Object.entries(o).map(([x,y],T)=>l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color",style:{backgroundColor:ki[T]}}),l.jsxs("span",{children:[ht[x]?.label||x,": ",y.toLocaleString()]})]},x)),j==="person"&&Object.entries(u).map(([x,y])=>{const T=f.find(k=>k.id===x);return l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color",style:{backgroundColor:T?.color||ki[0]}}),l.jsxs("span",{children:[T?.name||"  ",": ",y.toLocaleString()]})]},x)})]}),l.jsxs("div",{className:"chart-total",children:[l.jsx("span",{className:"chart-total-label",children:" "}),l.jsxs("span",{className:"chart-total-value",children:["",g.toLocaleString()]})]})]}):l.jsxs("div",{className:"chart-empty",children:[l.jsx("div",{className:"chart-empty-icon",children:""}),l.jsx("p",{children:"  "})]})]})});function Zx({templates:c,persons:o,onSaveTemplate:d,onDeleteTemplate:u,onApplyTemplate:f,onClose:g}){const[j,h]=m.useState(!1),[N,S]=m.useState(""),[w,A]=m.useState({description:"",amount:0,currency:"KRW",category:"other"}),b=()=>{N.trim()&&(d(N.trim(),w),S(""),A({description:"",amount:0,currency:"KRW",category:"other"}),h(!1))},v=x=>x?ht[x]||{icon:"",label:x}:{icon:"",label:""},D=x=>x&&o.find(y=>y.id===x)?.name||"-";return l.jsx("div",{className:"templates-overlay",onClick:g,children:l.jsxs("div",{className:"templates-panel",onClick:x=>x.stopPropagation(),children:[l.jsxs("header",{className:"templates-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:g,children:""})]}),l.jsxs("div",{className:"templates-content",children:[l.jsx("div",{className:"templates-list",children:c.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("span",{className:"empty-icon",children:""}),l.jsx("p",{children:"  "}),l.jsx("p",{className:"empty-hint",children:"     "})]}):c.map(x=>{const y=v(x.expense.category);return l.jsxs("div",{className:"template-card",children:[l.jsxs("div",{className:"template-info",children:[l.jsxs("div",{className:"template-header-row",children:[l.jsx("span",{className:"template-icon",children:y.icon}),l.jsx("span",{className:"template-name",children:x.name})]}),l.jsxs("div",{className:"template-details",children:[x.expense.description&&l.jsxs("span",{className:"detail-item",children:[" ",x.expense.description]}),x.expense.amount&&l.jsxs("span",{className:"detail-item",children:[" ",x.expense.amount?.toLocaleString()]}),x.expense.paidBy&&l.jsxs("span",{className:"detail-item",children:[" ",D(x.expense.paidBy)]})]})]}),l.jsxs("div",{className:"template-actions",children:[l.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>f(x),children:""}),l.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>u(x.id),children:""})]})]},x.id)})}),j?l.jsxs("div",{className:"add-template-form",children:[l.jsx("h3",{children:"  "}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:" "}),l.jsx("input",{type:"text",className:"input-field",value:N,onChange:x=>S(x.target.value),placeholder:":  "})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:""}),l.jsx("input",{type:"text",className:"input-field",value:w.description||"",onChange:x=>A(y=>({...y,description:x.target.value})),placeholder:" "})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group flex-1",children:[l.jsx("label",{children:""}),l.jsx("input",{type:"number",className:"input-field",value:w.amount||"",onChange:x=>A(y=>({...y,amount:parseFloat(x.target.value)||0}))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:""}),l.jsx("select",{className:"input-field",value:w.category||"other",onChange:x=>A(y=>({...y,category:x.target.value})),children:Object.entries(ht).map(([x,y])=>l.jsxs("option",{value:x,children:[y.icon," ",y.label]},x))})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{className:"btn btn-secondary",onClick:()=>h(!1),children:""}),l.jsx("button",{className:"btn btn-primary",onClick:b,children:""})]})]}):l.jsx("button",{className:"btn btn-add-template",onClick:()=>h(!0),children:"   "})]})]})})}const $x={daily:"",weekly:"",monthly:""};function Jx({recurringExpenses:c,persons:o,onAdd:d,onDelete:u,onToggle:f,onClose:g}){const[j,h]=m.useState(!1),[N,S]=m.useState({name:"",description:"",amount:0,currency:"KRW",category:"other",paidBy:o[0]?.id||"",frequency:"daily",startDate:new Date().toISOString().split("T")[0],endDate:""}),w=()=>{!N.name.trim()||!N.paidBy||(d(N.name,{description:N.description,amount:N.amount,currency:N.currency,category:N.category,paidBy:N.paidBy,sharedBy:o.map(v=>v.id)},N.frequency,N.startDate,N.endDate||void 0),S({name:"",description:"",amount:0,currency:"KRW",category:"other",paidBy:o[0]?.id||"",frequency:"daily",startDate:new Date().toISOString().split("T")[0],endDate:""}),h(!1))},A=v=>ht[v]||{icon:"",label:v},b=v=>o.find(D=>D.id===v)?.name||"-";return l.jsx("div",{className:"recurring-overlay",onClick:g,children:l.jsxs("div",{className:"recurring-panel",onClick:v=>v.stopPropagation(),children:[l.jsxs("header",{className:"recurring-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:g,children:""})]}),l.jsxs("div",{className:"recurring-content",children:[l.jsxs("div",{className:"info-banner",children:[l.jsx("span",{className:"info-icon",children:""}),l.jsx("p",{children:"       ."})]}),l.jsx("div",{className:"recurring-list",children:c.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx("span",{className:"empty-icon",children:""}),l.jsx("p",{children:"  "}),l.jsx("p",{className:"empty-hint",children:",     "})]}):c.map(v=>{const D=A(v.expense.category);return l.jsxs("div",{className:`recurring-card ${v.enabled?"":"disabled"}`,children:[l.jsx("div",{className:"recurring-toggle",children:l.jsx("button",{className:`toggle-btn ${v.enabled?"active":""}`,onClick:()=>f(v.id),children:v.enabled?"":""})}),l.jsxs("div",{className:"recurring-info",children:[l.jsxs("div",{className:"recurring-header-row",children:[l.jsx("span",{className:"recurring-icon",children:D.icon}),l.jsx("span",{className:"recurring-name",children:v.name}),l.jsx("span",{className:"recurring-frequency",children:$x[v.frequency]})]}),l.jsxs("div",{className:"recurring-details",children:[l.jsxs("span",{children:["",v.expense.amount?.toLocaleString()]}),l.jsx("span",{children:""}),l.jsx("span",{children:b(v.expense.paidBy)}),l.jsx("span",{children:""}),l.jsxs("span",{children:[v.startDate," ~"]})]}),v.lastApplied&&l.jsxs("div",{className:"last-applied",children:[" : ",v.lastApplied]})]}),l.jsx("button",{className:"btn-delete",onClick:()=>u(v.id),children:""})]},v.id)})}),j?l.jsxs("div",{className:"add-recurring-form",children:[l.jsx("h3",{children:"  "}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:""}),l.jsx("input",{type:"text",className:"input-field",value:N.name,onChange:v=>S(D=>({...D,name:v.target.value})),placeholder:": "})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:""}),l.jsx("input",{type:"text",className:"input-field",value:N.description,onChange:v=>S(D=>({...D,description:v.target.value})),placeholder:" "})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group flex-1",children:[l.jsx("label",{children:""}),l.jsx("input",{type:"number",className:"input-field",value:N.amount||"",onChange:v=>S(D=>({...D,amount:parseFloat(v.target.value)||0}))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:""}),l.jsx("select",{className:"input-field",value:N.category,onChange:v=>S(D=>({...D,category:v.target.value})),children:Object.entries(ht).map(([v,D])=>l.jsxs("option",{value:v,children:[D.icon," ",D.label]},v))})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group flex-1",children:[l.jsx("label",{children:""}),l.jsx("select",{className:"input-field",value:N.paidBy,onChange:v=>S(D=>({...D,paidBy:v.target.value})),children:o.map(v=>l.jsx("option",{value:v.id,children:v.name},v.id))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:" "}),l.jsxs("select",{className:"input-field",value:N.frequency,onChange:v=>S(D=>({...D,frequency:v.target.value})),children:[l.jsx("option",{value:"daily",children:""}),l.jsx("option",{value:"weekly",children:""}),l.jsx("option",{value:"monthly",children:""})]})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group flex-1",children:[l.jsx("label",{children:""}),l.jsx("input",{type:"date",className:"input-field",value:N.startDate,onChange:v=>S(D=>({...D,startDate:v.target.value}))})]}),l.jsxs("div",{className:"form-group flex-1",children:[l.jsx("label",{children:" ()"}),l.jsx("input",{type:"date",className:"input-field",value:N.endDate,onChange:v=>S(D=>({...D,endDate:v.target.value}))})]})]}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{className:"btn btn-secondary",onClick:()=>h(!1),children:""}),l.jsx("button",{className:"btn btn-primary",onClick:w,children:""})]})]}):l.jsx("button",{className:"btn btn-add-recurring",onClick:()=>h(!0),children:"    "})]})]})})}function Fx({scheduledExpenses:c,persons:o,onApply:d,onCancel:u,onDelete:f,onClose:g}){const j=b=>ht[b]||{icon:"",label:b},h=b=>o.find(v=>v.id===b)?.name||"-",N=b=>{switch(b){case"pending":return{label:" ",className:"pending",icon:""};case"applied":return{label:"",className:"applied",icon:""};case"cancelled":return{label:"",className:"cancelled",icon:""}}},S=new Date().toISOString().split("T")[0],w=c.filter(b=>b.status==="pending"),A=c.filter(b=>b.status!=="pending");return l.jsx("div",{className:"scheduled-overlay",onClick:g,children:l.jsxs("div",{className:"scheduled-panel",onClick:b=>b.stopPropagation(),children:[l.jsxs("header",{className:"scheduled-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:g,children:""})]}),l.jsxs("div",{className:"scheduled-content",children:[l.jsxs("section",{className:"scheduled-section",children:[l.jsxs("h3",{children:["  (",w.length,")"]}),w.length===0?l.jsx("div",{className:"empty-mini",children:"  "}):l.jsx("div",{className:"scheduled-list",children:w.map(b=>{const v=j(b.expense.category),D=b.scheduledDate<=S;return l.jsxs("div",{className:`scheduled-card ${D?"overdue":""}`,children:[l.jsx("div",{className:"scheduled-icon",children:v.icon}),l.jsxs("div",{className:"scheduled-info",children:[l.jsxs("div",{className:"scheduled-header-row",children:[l.jsx("span",{className:"scheduled-desc",children:b.expense.description}),l.jsxs("span",{className:"scheduled-amount",children:["",b.expense.amount.toLocaleString()]})]}),l.jsxs("div",{className:"scheduled-meta",children:[l.jsxs("span",{children:[" ",b.scheduledDate]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[" ",h(b.expense.paidBy)]})]}),b.note&&l.jsxs("div",{className:"scheduled-note",children:[" ",b.note]}),D&&l.jsx("div",{className:"overdue-badge",children:"  "})]}),l.jsxs("div",{className:"scheduled-actions",children:[l.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>d(b.id),children:""}),l.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>u(b.id),children:""})]})]},b.id)})})]}),A.length>0&&l.jsxs("section",{className:"scheduled-section",children:[l.jsx("h3",{children:" "}),l.jsx("div",{className:"scheduled-list history",children:A.slice(0,10).map(b=>{const v=j(b.expense.category),D=N(b.status);return l.jsxs("div",{className:`scheduled-card history ${b.status}`,children:[l.jsx("div",{className:"scheduled-icon",children:v.icon}),l.jsxs("div",{className:"scheduled-info",children:[l.jsxs("div",{className:"scheduled-header-row",children:[l.jsx("span",{className:"scheduled-desc",children:b.expense.description}),l.jsxs("span",{className:`status-badge ${D.className}`,children:[D.icon," ",D.label]})]}),l.jsxs("div",{className:"scheduled-meta",children:[l.jsxs("span",{children:["",b.expense.amount.toLocaleString()]}),l.jsx("span",{children:""}),l.jsx("span",{children:b.scheduledDate})]})]}),l.jsx("button",{className:"btn-delete",onClick:()=>f(b.id),children:""})]},b.id)})})]})]})]})})}function Wx(){const c=m.useCallback((j,h,N,S="expenses")=>{const w=T=>h.find(k=>k.id===T)?.name||T,A=T=>N.find(k=>k.code===T)?.symbol||T,b=["","","","","","","","",""],v=j.map(T=>[T.date,`"${T.description.replace(/"/g,'""')}"`,T.amount.toString(),A(T.currency),w(T.paidBy),`"${T.sharedBy.map(w).join(", ")}"`,T.category,T.location||"",T.receiptMemo||""]),D=[b.join(","),...v.map(T=>T.join(","))].join(`
`),x="\uFEFF",y=new Blob([x+D],{type:"text/csv;charset=utf-8;"});Oi(y,`${S}_${new Date().toISOString().split("T")[0]}.csv`)},[]),o=m.useCallback((j,h="backup")=>{const N={...j,version:"1.0.0",exportedAt:new Date().toISOString()},S=new Blob([JSON.stringify(N,null,2)],{type:"application/json"});Oi(S,`${h}_${new Date().toISOString().split("T")[0]}.json`)},[]),d=m.useCallback(async(j,h,N,S=" ")=>{try{const w=new _i;w.setFont("helvetica"),w.setFontSize(20),w.text(S,105,20,{align:"center"}),w.setFontSize(10),w.text(`Generated: ${new Date().toLocaleDateString("ko-KR")}`,105,28,{align:"center"}),w.setFontSize(14),w.text("Summary",20,45),w.setFontSize(10);const A=j.reduce((v,D)=>{const x=N.find(y=>y.code===D.currency);return v+D.amount*(x?.rate||1)},0);w.text(`Total Participants: ${h.length}`,20,55),w.text(`Total Expenses: ${j.length}`,20,62),w.text(`Total Amount: ${A.toLocaleString("ko-KR")} KRW`,20,69),w.setFontSize(14),w.text("Expense List",20,85);let b=95;w.setFontSize(9),w.setFont("helvetica","bold"),w.text("Date",20,b),w.text("Description",45,b),w.text("Amount",110,b),w.text("Paid By",145,b),b+=7,w.setFont("helvetica","normal"),j.slice(0,30).forEach(v=>{b>270&&(w.addPage(),b=20);const D=N.find(y=>y.code===v.currency),x=h.find(y=>y.id===v.paidBy);w.text(v.date,20,b),w.text(v.description.substring(0,25),45,b),w.text(`${D?.symbol||""}${v.amount.toLocaleString()}`,110,b),w.text(x?.name||"-",145,b),b+=6}),j.length>30&&w.text(`... and ${j.length-30} more expenses`,20,b+5),w.save(`${S}_report.pdf`)}catch(w){ue.error("Failed to export PDF:",w),alert("PDF    .")}},[]),u=m.useCallback((j,h,N="")=>{const S=new _i,w=b=>h.find(v=>v.id===b)?.name||b;S.setFontSize(20),S.text(`${N} - Settlement`,105,20,{align:"center"}),S.setFontSize(10),S.text(`Date: ${new Date().toLocaleDateString("ko-KR")}`,105,28,{align:"center"});let A=50;S.setFontSize(12),j.forEach((b,v)=>{const D=`${v+1}. ${w(b.from)}  ${w(b.to)}: ${b.amount.toLocaleString()}`;S.text(D,20,A),A+=10}),S.save(`${N}_settlement.pdf`)},[]),f=m.useCallback((j,h,N,S="")=>{const w=C=>h.find(O=>O.id===C)?.name||C,A=C=>N.find(O=>O.code===C)?.symbol||C,b=C=>N.find(O=>O.code===C)?.rate||1,v=["","","","","","","","","",""],D=j.map(C=>[C.date,C.description.replace(/\t/g," "),C.amount.toString(),A(C.currency),Math.round(C.amount*b(C.currency)).toString(),w(C.paidBy),C.sharedBy.map(w).join(", "),C.category,(C.tags||[]).join(", "),C.location||""]),x=[v.join(","),...D.map(C=>C.map(O=>`"${O.replace(/"/g,'""')}"`).join(","))].join(`
`),y="\uFEFF",T=new Blob([y+x],{type:"text/csv;charset=utf-8;"}),k=`${S}_${new Date().toISOString().split("T")[0]}.csv`;Oi(T,k),setTimeout(()=>{confirm("  Google Sheets ?")&&window.open("https://sheets.google.com/create","_blank")},500)},[]),g=m.useCallback((j,h,N,S="")=>{const w=x=>h.find(y=>y.id===x)?.name||x,A=x=>N.find(y=>y.code===x)?.symbol||x,b=x=>N.find(y=>y.code===x)?.rate||1;let v=`<?xml version="1.0" encoding="UTF-8"?>
`;v+=`<?mso-application progid="Excel.Sheet"?>
`,v+=`<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet"
`,v+=`  xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet">
`,v+=`<Worksheet ss:Name="">
<Table>
`,v+=`<Row>
`,["","","","","","","","",""].forEach(x=>{v+=`  <Cell><Data ss:Type="String">${x}</Data></Cell>
`}),v+=`</Row>
`,j.forEach(x=>{v+=`<Row>
`,v+=`  <Cell><Data ss:Type="String">${x.date}</Data></Cell>
`,v+=`  <Cell><Data ss:Type="String">${Ix(x.description)}</Data></Cell>
`,v+=`  <Cell><Data ss:Type="Number">${x.amount}</Data></Cell>
`,v+=`  <Cell><Data ss:Type="String">${A(x.currency)}</Data></Cell>
`,v+=`  <Cell><Data ss:Type="Number">${Math.round(x.amount*b(x.currency))}</Data></Cell>
`,v+=`  <Cell><Data ss:Type="String">${w(x.paidBy)}</Data></Cell>
`,v+=`  <Cell><Data ss:Type="String">${x.sharedBy.map(w).join(", ")}</Data></Cell>
`,v+=`  <Cell><Data ss:Type="String">${x.category}</Data></Cell>
`,v+=`  <Cell><Data ss:Type="String">${(x.tags||[]).join(", ")}</Data></Cell>
`,v+=`</Row>
`}),v+=`</Table>
</Worksheet>
</Workbook>`;const D=new Blob([v],{type:"application/vnd.ms-excel"});Oi(D,`${S}_${new Date().toISOString().split("T")[0]}.xls`)},[]);return{exportToCSV:c,exportToJSON:o,exportToPDF:d,exportSettlementPDF:u,exportToGoogleSheets:f,exportToExcel:g}}function Oi(c,o){const d=URL.createObjectURL(c),u=document.createElement("a");u.href=d,u.download=o,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d)}function Ix(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Px(c,o=hx.MAX_AMOUNT){const d=typeof c=="string"?parseFloat(c):c;return!isNaN(d)&&isFinite(d)&&d>0&&d<=o}function Of(c){return["KRW","USD","EUR","JPY","CNY","THB","VND","PHP"].includes(c)}function e0(c){const o=new Date(c);return!isNaN(o.getTime())}function t0(c){if(!e0(c))return{valid:!1,error:"   "};const o=new Date(c),d=new Date,u=new Date(d);u.setFullYear(d.getFullYear()-1);const f=new Date(d);return f.setDate(d.getDate()+30),o<u?{valid:!1,error:"1      "}:o>f?{valid:!1,error:"30      "}:{valid:!0}}function a0(){const[c,o]=m.useState(!1),[d,u]=m.useState(0),f=m.useCallback(async(j,h)=>{o(!0),u(0);const N={success:!1,data:{expenses:[],persons:[]},errors:[],warnings:[]};try{const w=(await j.text()).split(`
`).filter(H=>H.trim());if(w.length<2)return N.errors.push("CSV   "),N;const A=uo(w[0]).map(H=>H.toLowerCase().trim());u(10);const v=["","","",""].filter(H=>!A.includes(H));if(v.length>0){const H={:"date",:"description",:"amount",:"paidby"},F=v.filter(L=>!A.includes(H[L]));if(F.length>0)return N.errors.push(`  : ${F.join(", ")}`),N}const D=H=>{for(const F of H){const L=A.indexOf(F.toLowerCase());if(L!==-1)return L}return-1},x=D(["","date"]),y=D(["","description","desc"]),T=D(["","amount"]),k=D(["","currency"]),C=D(["","paidby","paid by"]),O=D(["","sharedby","shared by"]),G=D(["","category"]),P=D(["","location"]),Z=D(["","memo",""]),Q=new Set,q=new Set(h.map(H=>H.name.toLowerCase()));for(let H=1;H<w.length;H++){const F=uo(w[H]);if(C!==-1&&F[C]){const L=F[C].trim();L&&!q.has(L.toLowerCase())&&Q.add(L)}O!==-1&&F[O]&&F[O].split(",").forEach(L=>{const ne=L.trim();ne&&!q.has(ne.toLowerCase())&&Q.add(ne)})}N.data.persons=Array.from(Q).map(H=>({name:H})),Q.size>0&&N.warnings.push(`  ${Q.size} `),u(30);for(let H=1;H<w.length;H++){const F=uo(w[H]);try{const L=F[T]?.replace(/[^0-9.-]/g,"")||"0",ne=parseFloat(L),ce=F[k]?.trim().toUpperCase()||"KRW",ie=F[x]||new Date().toISOString().split("T")[0];if(!Px(ne)){N.warnings.push(` ${H+1}:    (${L})`);continue}const R=t0(ie);R.valid||N.warnings.push(` ${H+1}: ${R.error} (${ie})`),Of(ce)||N.warnings.push(` ${H+1}:      "${ce}", KRW `);let te=O!==-1&&F[O]?F[O].split(",").map(ee=>ee.trim()).filter(ee=>ee):[];const K={date:R.valid?ie:new Date().toISOString().split("T")[0],description:F[y]?.trim()||` ${H}`,amount:ne,currency:Of(ce)?ce:"KRW",paidBy:F[C]?.trim()||"",sharedBy:te,category:F[G]||"other",location:P!==-1?F[P]?.trim():void 0,receiptMemo:Z!==-1?F[Z]?.trim():void 0};if(!K.paidBy){N.warnings.push(` ${H+1}:  `);continue}K.sharedBy.length===0&&(K.sharedBy=[K.paidBy],N.warnings.push(` ${H+1}:   (${K.paidBy}) `)),N.data.expenses.push(K)}catch(L){N.warnings.push(` ${H+1}:   - ${L instanceof Error?L.message:"   "}`)}u(30+Math.floor(H/w.length*60))}u(100),N.success=N.data.expenses.length>0,N.success||N.errors.push("    ")}catch(S){N.errors.push(`  : ${S instanceof Error?S.message:"   "}`)}finally{o(!1)}return N},[]),g=m.useCallback(async j=>{o(!0);const h={success:!1,errors:[],warnings:[]};try{const N=await j.text(),S=JSON.parse(N);if(!S.version)return h.errors.push("   "),h;h.data={expenses:S.expenses||[],persons:S.persons||[]},h.success=!0,h.warnings.push(`${S.exportedAt?new Date(S.exportedAt).toLocaleDateString("ko-KR"):"   "}  `)}catch(N){h.errors.push(`JSON  : ${N instanceof Error?N.message:"   "}`)}finally{o(!1)}return h},[]);return{importing:c,progress:d,importFromCSV:f,importFromJSON:g}}function uo(c){const o=[];let d="",u=!1;for(let f=0;f<c.length;f++){const g=c[f];g==='"'?u&&c[f+1]==='"'?(d+='"',f++):u=!u:g===","&&!u?(o.push(d.trim()),d=""):d+=g}return o.push(d.trim()),o}function l0({expenses:c,persons:o,currencies:d,tripName:u="",onImportExpenses:f,onImportPersons:g,onClose:j}){const{exportToCSV:h,exportToJSON:N,exportToPDF:S}=Wx(),{importing:w,progress:A,importFromCSV:b,importFromJSON:v}=a0(),[D,x]=m.useState("export"),[y,T]=m.useState(null),k=m.useRef(null),C=()=>{h(c,o,d,u)},O=async()=>{await S(c,o,d,u)},G=()=>{N({version:"1.0.0",exportedAt:new Date().toISOString(),persons:o,expenses:c,currencies:d},`${u}_backup`)},P=async Q=>{const q=Q.target.files?.[0];if(q){if(T(null),q.name.endsWith(".csv")){const H=await b(q,o);T({success:H.success,message:H.success?`${H.data?.expenses.length}    `:H.errors.join(", "),data:H.data})}else if(q.name.endsWith(".json")){const H=await v(q);T({success:H.success,message:H.success?`    (${H.data?.expenses.length} , ${H.data?.persons.length})`:H.errors.join(", "),data:H.data})}else T({success:!1,message:"CSV  JSON  "});Q.target.value=""}},Z=()=>{y?.data&&(g&&y.data.persons.length>0&&g(y.data.persons),f&&y.data.expenses.length>0&&f(y.data.expenses),T({success:!0,message:"  !"}))};return l.jsx("div",{className:"data-overlay",onClick:j,children:l.jsxs("div",{className:"data-panel",onClick:Q=>Q.stopPropagation(),children:[l.jsxs("header",{className:"data-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:j,children:""})]}),l.jsxs("nav",{className:"data-tabs",children:[l.jsx("button",{className:`tab-btn ${D==="export"?"active":""}`,onClick:()=>x("export"),children:" "}),l.jsx("button",{className:`tab-btn ${D==="import"?"active":""}`,onClick:()=>x("import"),children:" "}),l.jsx("button",{className:`tab-btn ${D==="backup"?"active":""}`,onClick:()=>x("backup"),children:" /"})]}),l.jsxs("div",{className:"data-content",children:[D==="export"&&l.jsxs("div",{className:"tab-content",children:[l.jsx("p",{className:"tab-description",children:"      ."}),l.jsxs("div",{className:"export-options",children:[l.jsxs("button",{className:"export-btn",onClick:C,children:[l.jsx("span",{className:"export-icon",children:""}),l.jsx("span",{className:"export-label",children:"CSV "}),l.jsx("span",{className:"export-desc",children:"Excel    "})]}),l.jsxs("button",{className:"export-btn",onClick:O,children:[l.jsx("span",{className:"export-icon",children:""}),l.jsx("span",{className:"export-label",children:"PDF "}),l.jsx("span",{className:"export-desc",children:"  "})]})]}),l.jsxs("div",{className:"export-stats",children:[l.jsxs("div",{className:"stat",children:[l.jsx("span",{className:"stat-value",children:c.length}),l.jsx("span",{className:"stat-label",children:""})]}),l.jsxs("div",{className:"stat",children:[l.jsx("span",{className:"stat-value",children:o.length}),l.jsx("span",{className:"stat-label",children:""})]})]})]}),D==="import"&&l.jsxs("div",{className:"tab-content",children:[l.jsx("p",{className:"tab-description",children:"CSV      ."}),l.jsxs("div",{className:"import-zone",children:[l.jsx("input",{ref:k,type:"file",accept:".csv",onChange:P,style:{display:"none"}}),l.jsx("button",{className:"import-dropzone",onClick:()=>k.current?.click(),disabled:w,children:w?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"import-icon",children:""}),l.jsxs("span",{children:[" ... ",A,"%"]})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"import-icon",children:""}),l.jsx("span",{children:"CSV  "}),l.jsx("span",{className:"import-hint",children:"  "})]})})]}),y&&l.jsxs("div",{className:`import-result ${y.success?"success":"error"}`,children:[l.jsx("span",{className:"result-icon",children:y.success?"":""}),l.jsx("span",{className:"result-message",children:y.message}),y.success&&y.data&&l.jsx("button",{className:"btn btn-primary",onClick:Z,children:" "})]}),l.jsxs("div",{className:"import-help",children:[l.jsx("h4",{children:"CSV  "}),l.jsx("p",{children:"    :"}),l.jsx("code",{children:",,,,,,"})]})]}),D==="backup"&&l.jsxs("div",{className:"tab-content",children:[l.jsx("p",{className:"tab-description",children:"     ."}),l.jsxs("div",{className:"backup-section",children:[l.jsx("h3",{children:" "}),l.jsx("p",{children:"  JSON  ."}),l.jsx("button",{className:"btn btn-primary",onClick:G,children:"  "})]}),l.jsxs("div",{className:"backup-section",children:[l.jsx("h3",{children:" "}),l.jsx("p",{children:"    ."}),l.jsx("input",{type:"file",accept:".json",onChange:P,className:"file-input"})]}),y&&D==="backup"&&l.jsxs("div",{className:`import-result ${y.success?"success":"error"}`,children:[l.jsx("span",{className:"result-icon",children:y.success?"":""}),l.jsx("span",{className:"result-message",children:y.message}),y.success&&y.data&&l.jsx("button",{className:"btn btn-primary",onClick:Z,children:""})]}),l.jsxs("div",{className:"backup-warning",children:[l.jsx("span",{children:""}),l.jsx("span",{children:"    ,   ."})]})]})]})]})})}function n0({expenses:c,persons:o,onExpenseClick:d,onUpdateMemo:u,onClose:f}){const[g,j]=m.useState("date"),[h,N]=m.useState("with-receipt"),[S,w]=m.useState(null),[A,b]=m.useState(""),v=m.useMemo(()=>{let C=[...c];switch(h){case"with-receipt":C=C.filter(O=>O.receiptUrl);break;case"without-receipt":C=C.filter(O=>!O.receiptUrl);break;case"with-memo":C=C.filter(O=>O.receiptMemo);break}switch(g){case"date":C.sort((O,G)=>G.date.localeCompare(O.date));break;case"amount":C.sort((O,G)=>G.amount-O.amount);break;case"category":C.sort((O,G)=>O.category.localeCompare(G.category));break}return C},[c,g,h]),D=C=>ht[C]||{icon:"",label:C},x=C=>o.find(O=>O.id===C)?.name||"-",y=C=>{w(C),b(C.receiptMemo||"")},T=()=>{S&&u&&(u(S.id,A),w(null))},k=m.useMemo(()=>({total:c.length,withReceipt:c.filter(C=>C.receiptUrl).length,withMemo:c.filter(C=>C.receiptMemo).length}),[c]);return l.jsx("div",{className:"gallery-overlay",onClick:f,children:l.jsxs("div",{className:"gallery-panel",onClick:C=>C.stopPropagation(),children:[l.jsxs("header",{className:"gallery-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:f,children:""})]}),l.jsxs("div",{className:"gallery-content",children:[l.jsxs("div",{className:"gallery-stats",children:[l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value",children:k.total}),l.jsx("span",{className:"stat-label",children:" "})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value",children:k.withReceipt}),l.jsx("span",{className:"stat-label",children:" "})]}),l.jsxs("div",{className:"stat-item",children:[l.jsx("span",{className:"stat-value",children:k.withMemo}),l.jsx("span",{className:"stat-label",children:" "})]}),l.jsxs("div",{className:"stat-item",children:[l.jsxs("span",{className:"stat-value",children:[Math.round(k.withReceipt/k.total*100)||0,"%"]}),l.jsx("span",{className:"stat-label",children:" "})]})]}),l.jsxs("div",{className:"gallery-controls",children:[l.jsxs("div",{className:"control-group",children:[l.jsx("label",{children:""}),l.jsxs("select",{className:"control-select",value:h,onChange:C=>N(C.target.value),children:[l.jsx("option",{value:"all",children:""}),l.jsx("option",{value:"with-receipt",children:" "}),l.jsx("option",{value:"without-receipt",children:" "}),l.jsx("option",{value:"with-memo",children:" "})]})]}),l.jsxs("div",{className:"control-group",children:[l.jsx("label",{children:""}),l.jsxs("select",{className:"control-select",value:g,onChange:C=>j(C.target.value),children:[l.jsx("option",{value:"date",children:""}),l.jsx("option",{value:"amount",children:""}),l.jsx("option",{value:"category",children:""})]})]})]}),v.length===0?l.jsxs("div",{className:"empty-gallery",children:[l.jsx("span",{className:"empty-icon",children:""}),l.jsx("p",{children:"  "})]}):l.jsx("div",{className:"receipt-grid",children:v.map(C=>{const O=D(C.category);return l.jsxs("div",{className:"receipt-card",onClick:()=>y(C),children:[l.jsxs("div",{className:"receipt-image",children:[C.receiptUrl?l.jsx("img",{src:C.receiptUrl,alt:""}):l.jsxs("div",{className:"receipt-placeholder",children:[l.jsx("span",{children:O.icon}),l.jsx("span",{className:"no-receipt",children:" "})]}),C.receiptMemo&&l.jsx("div",{className:"memo-badge",children:""})]}),l.jsxs("div",{className:"receipt-info",children:[l.jsx("span",{className:"receipt-desc",children:C.description}),l.jsxs("span",{className:"receipt-meta",children:[C.date,"  ",C.amount.toLocaleString()]})]})]},C.id)})})]}),S&&l.jsx("div",{className:"receipt-detail-modal",onClick:()=>w(null),children:l.jsxs("div",{className:"detail-content",onClick:C=>C.stopPropagation(),children:[l.jsxs("div",{className:"detail-header",children:[l.jsx("h3",{children:S.description}),l.jsx("button",{className:"btn-close",onClick:()=>w(null),children:""})]}),S.receiptUrl&&l.jsx("div",{className:"detail-image",children:l.jsx("img",{src:S.receiptUrl,alt:""})}),l.jsxs("div",{className:"detail-info",children:[l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:""}),l.jsx("span",{className:"info-value",children:S.date})]}),l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:""}),l.jsxs("span",{className:"info-value",children:["",S.amount.toLocaleString()]})]}),l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:""}),l.jsx("span",{className:"info-value",children:x(S.paidBy)})]}),S.location&&l.jsxs("div",{className:"info-row",children:[l.jsx("span",{className:"info-label",children:""}),l.jsx("span",{className:"info-value",children:S.location})]})]}),l.jsxs("div",{className:"detail-memo",children:[l.jsx("label",{children:" "}),l.jsx("textarea",{className:"memo-textarea",value:A,onChange:C=>b(C.target.value),placeholder:"   ...",rows:3}),l.jsxs("div",{className:"memo-actions",children:[l.jsx("button",{className:"btn btn-secondary",onClick:()=>w(null),children:""}),l.jsx("button",{className:"btn btn-primary",onClick:T,children:""})]})]})]})})]})})}function s0({trip:c,expenses:o,schedules:d,convertToKRW:u,onDateClick:f,onExpenseClick:g,onClose:j}){const[h,N]=m.useState(()=>c.startDate?new Date(c.startDate):new Date),S=m.useMemo(()=>{const v=h.getFullYear(),D=h.getMonth(),x=new Date(v,D,1),y=new Date(v,D+1,0),T=c.startDate?new Date(c.startDate):null,k=c.endDate?new Date(c.endDate):null,C=new Map;o.forEach(Q=>{C.has(Q.date)||C.set(Q.date,[]),C.get(Q.date).push(Q)});const O=new Map;d.forEach(Q=>{O.set(Q.date,Q)});const G=[];let P=[];const Z=x.getDay();for(let Q=0;Q<Z;Q++){const H=new Date(v,D,1-(Z-Q)).toISOString().split("T")[0];P.push({date:H,isInTrip:!1,expenses:[],totalKRW:0})}for(let Q=1;Q<=y.getDate();Q++){const q=new Date(v,D,Q),H=q.toISOString().split("T")[0],F=T&&k?q>=T&&q<=k:!1,L=C.get(H)||[],ne=L.reduce((ce,ie)=>ce+u(ie.amount,ie.currency),0);P.push({date:H,isInTrip:F,expenses:L,totalKRW:ne,schedule:O.get(H)}),P.length===7&&(G.push(P),P=[])}if(P.length>0){for(;P.length<7;){const q=new Date(v,D+1,P.length-6+(7-P.length)).toISOString().split("T")[0];P.push({date:q,isInTrip:!1,expenses:[],totalKRW:0})}G.push(P)}return G},[h,c,o,d,u]),w=v=>{N(D=>new Date(D.getFullYear(),D.getMonth()+v,1))},A=new Date().toISOString().split("T")[0],b=v=>v>=1e4?`${(v/1e4).toFixed(0)}`:v.toLocaleString();return l.jsx("div",{className:"calendar-overlay",onClick:j,children:l.jsxs("div",{className:"calendar-panel",onClick:v=>v.stopPropagation(),children:[l.jsxs("header",{className:"calendar-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:j,children:""})]}),l.jsxs("div",{className:"calendar-nav",children:[l.jsx("button",{className:"nav-btn",onClick:()=>w(-1),children:""}),l.jsxs("span",{className:"nav-title",children:[h.getFullYear()," ",h.getMonth()+1,""]}),l.jsx("button",{className:"nav-btn",onClick:()=>w(1),children:""})]}),l.jsxs("div",{className:"calendar-content",children:[l.jsx("div",{className:"weekday-header",children:["","","","","","",""].map((v,D)=>l.jsx("div",{className:`weekday ${D===0?"sunday":D===6?"saturday":""}`,children:v},v))}),l.jsx("div",{className:"calendar-grid",children:S.map((v,D)=>l.jsx("div",{className:"week-row",children:v.map((x,y)=>{const T=new Date(x.date).getDate(),k=new Date(x.date).getMonth()===h.getMonth();return l.jsxs("div",{className:`day-cell 
                                                ${k?"":"other-month"} 
                                                ${x.isInTrip?"in-trip":""} 
                                                ${x.date===A?"today":""}
                                                ${x.expenses.length>0?"has-expenses":""}
                                                ${y===0?"sunday":y===6?"saturday":""}
                                            `,onClick:()=>f?.(x.date),children:[l.jsx("span",{className:"day-num",children:T}),x.schedule&&l.jsxs("div",{className:"day-schedule",title:x.schedule.title,children:[" ",x.schedule.title.substring(0,6)]}),x.totalKRW>0&&l.jsxs("div",{className:"day-amount",children:["",b(x.totalKRW)]}),x.expenses.length>0&&l.jsxs("div",{className:"expense-dots",children:[x.expenses.slice(0,3).map((C,O)=>l.jsx("span",{className:"expense-dot",title:C.description,children:ht[C.category]?.icon||""},O)),x.expenses.length>3&&l.jsxs("span",{className:"more-dot",children:["+",x.expenses.length-3]})]})]},x.date)})},D))})]}),l.jsxs("div",{className:"calendar-legend",children:[l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color in-trip"}),l.jsx("span",{children:" "})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color today"}),l.jsx("span",{children:""})]}),l.jsxs("div",{className:"legend-item",children:[l.jsx("span",{className:"legend-color has-expense"}),l.jsx("span",{children:" "})]})]})]})})}const zf=ra.TEMPLATES,Rf=ra.RECURRING_EXPENSES,Bf=ra.SCHEDULED_EXPENSES;function i0(c){const[o,d]=m.useState({templates:[],recurringExpenses:[],scheduledExpenses:[]});m.useEffect(()=>{try{const O=localStorage.getItem(zf),G=localStorage.getItem(Rf),P=localStorage.getItem(Bf);d({templates:O?JSON.parse(O):[],recurringExpenses:G?JSON.parse(G):[],scheduledExpenses:P?JSON.parse(P):[]})}catch(O){ue.error("Failed to load expense management data:",O)}},[]);const u=m.useCallback(O=>{localStorage.setItem(zf,JSON.stringify(O)),d(G=>({...G,templates:O}))},[]),f=m.useCallback(O=>{localStorage.setItem(Rf,JSON.stringify(O)),d(G=>({...G,recurringExpenses:O}))},[]),g=m.useCallback(O=>{localStorage.setItem(Bf,JSON.stringify(O)),d(G=>({...G,scheduledExpenses:O}))},[]),j=m.useCallback((O,G)=>{const P={id:ro(),name:O,expense:G,createdAt:new Date().toISOString()};return u([...o.templates,P]),P.id},[o.templates,u]),h=m.useCallback(O=>{u(o.templates.filter(G=>G.id!==O))},[o.templates,u]),N=m.useCallback((O,G)=>{u(o.templates.map(P=>P.id===O?{...P,...G}:P))},[o.templates,u]),S=m.useCallback(O=>{const{id:G,...P}=O;return{...P,date:new Date().toISOString().split("T")[0]}},[]),w=m.useCallback((O,G,P,Z,Q)=>{const q={id:ro(),name:O,expense:G,frequency:P,startDate:Z,endDate:Q,enabled:!0};return f([...o.recurringExpenses,q]),q.id},[o.recurringExpenses,f]),A=m.useCallback(O=>{f(o.recurringExpenses.filter(G=>G.id!==O))},[o.recurringExpenses,f]),b=m.useCallback(O=>{f(o.recurringExpenses.map(G=>G.id===O?{...G,enabled:!G.enabled}:G))},[o.recurringExpenses,f]),v=m.useCallback(async()=>{},[o.recurringExpenses,c,f]),D=m.useCallback((O,G,P)=>{const Z={id:ro(),expense:O,scheduledDate:G,status:"pending",note:P};return g([...o.scheduledExpenses,Z]),Z.id},[o.scheduledExpenses,g]),x=m.useCallback(O=>{g(o.scheduledExpenses.filter(G=>G.id!==O))},[o.scheduledExpenses,g]),y=m.useCallback(O=>{g(o.scheduledExpenses.map(G=>G.id===O?{...G,status:"cancelled"}:G))},[o.scheduledExpenses,g]),T=m.useCallback(async O=>!1,[o.scheduledExpenses,c,g]),k=m.useCallback(async()=>{},[o.scheduledExpenses,T,c]),C=m.useMemo(()=>o.scheduledExpenses.filter(O=>O.status==="pending").length,[o.scheduledExpenses]);return{...o,addTemplate:j,removeTemplate:h,updateTemplate:N,duplicateExpense:S,addRecurringExpense:w,removeRecurringExpense:A,toggleRecurringExpense:b,checkAndApplyRecurring:v,addScheduledExpense:D,removeScheduledExpense:x,cancelScheduledExpense:y,applyScheduledExpense:T,checkAndApplyScheduled:k,pendingScheduledCount:C}}const c0=m.memo(function({expense:o,currencies:d,persons:u,convertToKRW:f,onRemove:g,onEdit:j,onCopy:h,onToggleBookmark:N,draggable:S,onDragStart:w,onDragEnd:A,onDragOver:b}){const v=(x,y)=>`${d.find(k=>k.code===y)?.symbol||""}${x.toLocaleString()}`,D=x=>u.find(y=>y.id===x)?.name||"  ";return l.jsxs(Gi,{className:`relative group transition-all ${o.bookmarked?"ring-2 ring-yellow-400 bg-yellow-50/50 dark:bg-yellow-900/10":""}`,onClick:()=>j(o),hoverable:!0,draggable:S,...S?{onDragStart:x=>w?.(x,o.id),onDragEnd:x=>A?.(x),onDragOver:x=>{x.preventDefault(),b?.(x,o.id)}}:{},children:[l.jsxs("div",{className:"flex justify-between items-start gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-xl shrink-0",children:ht[o.category]?.icon||""}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white truncate",children:o.description}),o.location&&l.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400 truncate flex items-center gap-0.5",children:[" ",o.location]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-slate-500 dark:text-slate-400",children:[l.jsx("span",{className:"font-medium text-slate-600 dark:text-slate-300",children:D(o.paidBy)}),l.jsx("span",{children:""}),l.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:""}),l.jsxs("span",{children:[o.sharedBy.length," "]}),o.receiptUrl&&l.jsx("span",{title:" ",children:""}),o.tags&&o.tags.length>0&&l.jsxs("span",{className:"bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-[10px]",children:["#",o.tags.length]})]})]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:v(o.amount,o.currency)}),o.currency!=="KRW"&&l.jsxs("div",{className:"text-xs text-slate-400",children:[" ",f(o.amount,o.currency).toLocaleString()]})]})]}),l.jsxs("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/80 dark:bg-slate-900/80 backdrop-blur rounded-lg p-1",children:[l.jsx("button",{className:`p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors ${o.bookmarked?"text-yellow-400":"text-slate-400"}`,onClick:x=>{x.stopPropagation(),N?.(o.id)},children:o.bookmarked?"":""}),l.jsx("button",{className:"p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",onClick:x=>{x.stopPropagation(),h?.(o)},children:""}),l.jsx("button",{className:"p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-red-900/30 text-slate-400 hover:text-red-500 transition-colors",onClick:x=>{x.stopPropagation(),g(o.id)},children:""})]})]})});function ch({persons:c,expenses:o,currencies:d,onAddExpense:u,onRemoveExpense:f,onUpdateExpense:g,onReorderExpenses:j,onUploadReceipt:h,convertToKRW:N,getExpensesByCategory:S,getExpensesByDate:w,getExpensesByPerson:A}){const[b,v]=m.useState(!1),[D,x]=m.useState(""),[y,T]=m.useState(""),[k,C]=m.useState("KRW"),[O,G]=m.useState(""),[P,Z]=m.useState([]),[Q,q]=m.useState("food"),[H,F]=m.useState(""),[L,ne]=m.useState(!1),[ce,ie]=m.useState(""),[R,te]=m.useState(!1),[K,ee]=m.useState(!1),[fe,xe]=m.useState(Xx),[Ce,be]=m.useState(null),[$,re]=m.useState(!0),[pe,ve]=m.useState(null),[V,X]=m.useState(null),[ae,se]=m.useState(!1),[de,we]=m.useState(!1),[Ne,je]=m.useState(!1),[He,rt]=m.useState(!1),[Pt,Mt]=m.useState(!1),[ll,nl]=m.useState(!1),[gn,ea]=m.useState(!1),Xe=i0(),oa=m.useMemo(()=>{let le=Vx(o,fe);if(ce.trim()){const De=ce.toLowerCase();le=le.filter(Je=>Je.description.toLowerCase().includes(De)||Je.location?.toLowerCase().includes(De)||Je.tags?.some(jt=>jt.toLowerCase().includes(De)))}return R&&(le=le.filter(De=>De.bookmarked)),le},[o,fe,ce,R]),ua=m.useMemo(()=>{let le=0;return fe.searchQuery&&le++,fe.categories.length>0&&le++,fe.payers.length>0&&le++,(fe.dateFrom||fe.dateTo)&&le++,ce&&le++,R&&le++,le},[fe,ce,R]),xn=m.useMemo(()=>oa.reduce((le,De)=>le+N(De.amount,De.currency),0),[oa,N]),wl=m.useCallback(le=>{const{id:De,...Je}=le;u({...Je,description:`${le.description} ()`,date:new Date().toISOString(),bookmarked:!1})},[u]),Qi=m.useCallback(le=>{const De=o.find(Je=>Je.id===le);De&&g(le,{bookmarked:!De.bookmarked})},[o,g]),ps=m.useCallback((le,De)=>{ve(De),le.dataTransfer.effectAllowed="move"},[]),Xi=m.useCallback(async()=>{if(pe&&V&&pe!==V){const le=oa.map(jt=>jt.id),De=le.indexOf(pe),Je=le.indexOf(V);if(De!==-1&&Je!==-1){const jt=[...le];if(jt.splice(De,1),jt.splice(Je,0,pe),j)try{await j(jt)}catch{}}}ve(null),X(null)},[pe,V,oa,j]),Vi=m.useCallback((le,De)=>{X(De)},[]),ta=m.useCallback(()=>{x(""),T(""),C("KRW"),G(""),Z([]),q("food"),F(""),v(!1),ne(!1)},[]),pt=m.useCallback(async le=>{le&&le.preventDefault();const De=parseFloat(y);if(!D.trim()){alert(" ");return}if(!y||isNaN(De)||De<=0){alert("   (0  )");return}if(!O){alert(" ");return}if(P.length===0){alert("   ");return}ne(!0);try{await u({description:D.trim(),amount:De,currency:k,paidBy:O,sharedBy:P,date:new Date().toISOString(),category:Q,location:H.trim()||void 0}),ta()}catch(Je){console.error(Je),alert("    .")}finally{ne(!1)}},[D,y,k,O,P,Q,H,u,ta]),aa=m.useCallback(le=>{Z(De=>De.includes(le)?De.filter(Je=>Je!==le):[...De,le])},[]),gt=m.useCallback(()=>{Z(c.map(le=>le.id))},[c]),Ki=m.useCallback(le=>{be(le)},[]);return l.jsxs("div",{className:"space-y-6 pb-24 md:pb-6",children:[l.jsxs("div",{className:"flex gap-2",children:[l.jsx(st,{leftIcon:l.jsx("span",{children:""}),placeholder:" ...",value:ce,onChange:le=>ie(le.target.value),rightIcon:ce?l.jsx("button",{onClick:()=>ie(""),children:""}):void 0}),l.jsx(Ze,{variant:"secondary",className:`shrink-0 w-11 ${R?"text-yellow-400 bg-yellow-50 dark:bg-yellow-900/20":"text-slate-400"}`,onClick:()=>te(!R),children:R?"":""})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[l.jsx(Ze,{variant:"primary",fullWidth:!0,onClick:()=>{P.length===0&&gt(),v(!0)},disabled:c.length<2,className:"md:w-auto",children:"+  "}),l.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 md:pb-0 scrollbar-hide",children:[l.jsxs(Ze,{variant:"secondary",size:"sm",className:ua>0?"border-primary text-primary bg-primary/5":"",onClick:()=>ee(!K),children:[" ",ua>0&&l.jsx("span",{className:"ml-1.5 bg-primary text-white text-[10px] px-1.5 rounded-full",children:ua})]}),l.jsx(Ze,{variant:"secondary",size:"sm",className:$?"bg-slate-100 dark:bg-slate-800":"",onClick:()=>re(!$),children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ze,{variant:"secondary",size:"sm",className:gn?"bg-slate-100 dark:bg-slate-800":"",onClick:()=>ea(!gn),children:" "}),gn&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>ea(!1)}),l.jsxs("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden z-20 flex flex-col py-1",children:[l.jsx("button",{className:"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left",onClick:()=>{se(!0),ea(!1)},children:" "}),l.jsx("button",{className:"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left",onClick:()=>{we(!0),ea(!1)},children:"  "}),l.jsx("button",{className:"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left",onClick:()=>{je(!0),ea(!1)},children:"  "}),l.jsx("button",{className:"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left",onClick:()=>{nl(!0),ea(!1)},children:"  "}),l.jsx("button",{className:"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left",onClick:()=>{Mt(!0),ea(!1)},children:"  "}),l.jsx("button",{className:"flex items-center gap-3 px-4 py-2.5 text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-left",onClick:()=>{rt(!0),ea(!1)},children:"  "})]})]})]})]})]}),K&&l.jsx(Qx,{persons:c,filters:fe,onFilterChange:xe,onClose:()=>ee(!1)}),$&&o.length>0&&l.jsx(Kx,{expensesByCategory:S(),expensesByDate:w(),expensesByPerson:A(),persons:c,totalExpenses:xn}),l.jsx(pn,{isOpen:b,onClose:ta,title:"  ",footer:l.jsxs(l.Fragment,{children:[l.jsx(Ze,{variant:"ghost",onClick:ta,children:""}),l.jsx(Ze,{variant:"primary",onClick:()=>pt(),isLoading:L,children:""})]}),children:l.jsxs("form",{className:"space-y-5",onSubmit:pt,children:[l.jsx(st,{label:"",placeholder:":  ",value:D,onChange:le=>x(le.target.value),required:!0}),l.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[l.jsx("div",{className:"col-span-3",children:l.jsx(st,{type:"number",label:"",placeholder:"0",value:y,onChange:le=>T(le.target.value),min:"0",step:"0.01",required:!0})}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 ml-1 mb-1.5 block",children:""}),l.jsx("select",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",value:k,onChange:le=>C(le.target.value),children:d.map(le=>l.jsxs("option",{value:le.code,children:[le.symbol," ",le.code]},le.code))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 ml-1 mb-2 block",children:""}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.entries(ht).map(([le,{label:De,icon:Je}])=>l.jsxs("button",{type:"button",className:`flex flex-col items-center gap-1 p-2 rounded-xl border transition-all ${Q===le?"border-primary bg-primary/5 text-primary":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,onClick:()=>q(le),children:[l.jsx("span",{className:"text-xl",children:Je}),l.jsx("span",{className:"text-[10px]",children:De})]},le))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 ml-1 mb-1.5 block",children:""}),l.jsxs("select",{className:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",value:O,onChange:le=>G(le.target.value),required:!0,children:[l.jsx("option",{value:"",children:""}),c.map(le=>l.jsx("option",{value:le.id,children:le.name},le.id))]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between items-center mb-2 px-1",children:[l.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"  "}),l.jsx("button",{type:"button",className:"text-xs text-primary hover:underline",onClick:gt,children:" "})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(le=>l.jsxs("button",{type:"button",className:`flex items-center gap-2 px-3 py-1.5 rounded-full border transition-all text-sm ${P.includes(le.id)?"border-primary bg-primary/5 text-primary font-medium":"border-slate-200 dark:border-slate-700 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,onClick:()=>aa(le.id),children:[l.jsx("span",{className:"w-4 h-4 rounded-full flex items-center justify-center text-[8px] text-white",style:{backgroundColor:le.color},children:le.name.charAt(0)}),le.name]},le.id))})]}),l.jsx(st,{label:" ()",placeholder:":  ",value:H,onChange:le=>F(le.target.value)})]})}),c.length<2&&l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 p-4 rounded-xl text-sm font-medium flex items-center gap-2",children:[l.jsx("span",{children:""}),"   2  "]}),oa.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-3xl",children:[l.jsx("div",{className:"text-4xl mb-3 opacity-50",children:""}),l.jsx("p",{className:"text-slate-900 dark:text-white font-medium mb-1",children:ua>0?"    ":"   "}),l.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:ua>0?" ":"  "})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between items-end px-1",children:[l.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:ua>0?`  (${oa.length})`:" "}),l.jsxs("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["",xn.toLocaleString()]})]}),l.jsx("ul",{className:"space-y-3",children:oa.map(le=>l.jsx(c0,{expense:le,currencies:d,persons:c,convertToKRW:N,onRemove:f,onEdit:Ki,onCopy:wl,onToggleBookmark:Qi,draggable:!0,onDragStart:ps,onDragEnd:Xi,onDragOver:Vi},le.id))})]}),Ce&&l.jsx(Gx,{expense:Ce,persons:c,currencies:d,onSave:g,onUploadReceipt:h,onClose:()=>be(null)}),ae&&l.jsx(Zx,{templates:Xe.templates,persons:c,onApplyTemplate:le=>{le.expense&&u({description:le.expense.description||"",amount:le.expense.amount||0,currency:le.expense.currency||"KRW",paidBy:le.expense.paidBy||"",sharedBy:le.expense.sharedBy||[],date:new Date().toISOString(),category:le.expense.category||"other"}),se(!1)},onSaveTemplate:(le,De)=>{Xe.addTemplate(le,De)},onDeleteTemplate:Xe.removeTemplate,onClose:()=>se(!1)}),de&&l.jsx(Jx,{recurringExpenses:Xe.recurringExpenses,persons:c,onAdd:(le,De,Je,jt,sl)=>Xe.addRecurringExpense(le,De,Je,jt,sl),onDelete:Xe.removeRecurringExpense,onToggle:Xe.toggleRecurringExpense,onClose:()=>we(!1)}),Ne&&l.jsx(Fx,{scheduledExpenses:Xe.scheduledExpenses,persons:c,onApply:Xe.applyScheduledExpense,onCancel:Xe.cancelScheduledExpense,onDelete:Xe.removeScheduledExpense,onClose:()=>je(!1)}),He&&l.jsx(l0,{expenses:o,persons:c,currencies:d,onImportExpenses:le=>{le.forEach(De=>u(De))},onClose:()=>rt(!1)}),Pt&&l.jsx(n0,{expenses:o,persons:c,onExpenseClick:le=>{Mt(!1),be(le)},onUpdateMemo:(le,De)=>g(le,{receiptMemo:De}),onClose:()=>Mt(!1)}),ll&&l.jsx(s0,{trip:{startDate:"",endDate:"",name:" "},expenses:o,schedules:[],convertToKRW:N,onExpenseClick:le=>{nl(!1),be(le)},onClose:()=>nl(!1)})]})}function r0({fromName:c,toName:o,amount:d,bankInfo:u,tossId:f,kakaopayId:g,onClose:j}){const[h,N]=m.useState("text"),[S,w]=m.useState(!1),A=u?.bankName&&u?.accountNumber,b=m.useMemo(()=>typeof window>"u"?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),[]),v=()=>{switch(h){case"toss":return A?`supertoss://send?bank=${encodeURIComponent(u.bankName)}&accountNo=${u.accountNumber}&amount=${d}&origin=travel-expense`:`supertoss://send?amount=${d}`;case"kakaopay":return`kakaotalk://kakaopay/money/to/friend?amount=${d}`;default:return A?`${u.bankName} ${u.accountNumber} ${u.accountHolder||o} ${d}`:`: ${c}  ${o} ${d.toLocaleString()}`}},D=async()=>{if(A){const x=`${u.bankName} ${u.accountNumber} (${u.accountHolder||o})`;await navigator.clipboard.writeText(x),w(!0),setTimeout(()=>w(!1),2e3)}};return l.jsx("div",{className:"qr-modal",onClick:j,children:l.jsxs("div",{className:"qr-content",onClick:x=>x.stopPropagation(),children:[l.jsx("h3",{className:"qr-title",children:"  "}),l.jsxs("p",{className:"qr-subtitle",children:[c,"  ",o]}),l.jsxs("div",{className:"qr-type-selector",children:[l.jsx("button",{className:`qr-type-btn ${h==="text"?"active":""}`,onClick:()=>N("text"),children:" "}),l.jsx("button",{className:`qr-type-btn ${h==="toss"?"active":""}`,onClick:()=>N("toss"),children:" "}),l.jsx("button",{className:`qr-type-btn ${h==="kakaopay"?"active":""}`,onClick:()=>N("kakaopay"),children:" "})]}),l.jsx("div",{className:"qr-code-wrapper",children:l.jsx(Wg,{value:v(),size:180,level:"H",includeMargin:!1})}),l.jsxs("div",{className:"qr-amount",children:["",d.toLocaleString()]}),h!=="text"&&l.jsxs("div",{className:"qr-deeplink-info",children:[l.jsx("p",{className:"qr-deeplink-hint",children:"  QR     "}),!b&&l.jsxs("p",{className:"qr-platform-warning",children:["  PC .",h==="toss"?"":"","   .",l.jsx("br",{}),l.jsx("small",{children:"    ."})]})]}),A?l.jsxs("div",{className:"qr-bank-info",children:[l.jsxs("div",{className:"qr-bank-header",children:[l.jsx("span",{className:"bank-icon",children:""}),l.jsx("span",{children:"  "})]}),l.jsxs("div",{className:"qr-bank-details",children:[l.jsx("span",{className:"bank-name",children:u.bankName}),l.jsx("span",{className:"bank-account",children:u.accountNumber}),l.jsxs("span",{className:"bank-holder",children:["(",u.accountHolder||o,")"]})]}),l.jsx("button",{className:`btn btn-secondary btn-sm ${S?"copied":""}`,onClick:D,children:S?" ":"  "})]}):l.jsxs("div",{className:"qr-no-bank",children:[l.jsxs("p",{className:"qr-hint",children:[" ",o,"   "]}),l.jsxs("p",{className:"qr-hint-sub",children:["    ",l.jsx("br",{}),"    ."]})]}),l.jsx("div",{className:"qr-actions",children:l.jsx("button",{className:"btn btn-primary",onClick:j,children:""})})]})})}const _f="settlement_reminder";function o0({persons:c,pendingSettlements:o,onClose:d}){const[u,f]=m.useState(()=>{const b=localStorage.getItem(_f);if(b)try{return JSON.parse(b)}catch{}return{enabled:!1,frequency:"daily",customDays:3,notifyAt:"20:00"}}),[g,j]=m.useState(!1);m.useEffect(()=>{localStorage.setItem(_f,JSON.stringify(u))},[u]);const h=b=>{f(v=>({...v,...b}))},N=b=>c.find(v=>v.id===b)?.name||"-",S=m.useCallback(async()=>{if(!("Notification"in window)){alert("    .");return}if(Notification.permission!=="granted"&&await Notification.requestPermission()!=="granted"){alert("  .");return}const b=o.filter(D=>!D.completed),v=b.length>0?` ${b.length} !`:"  !";new Notification(" ",{body:v,icon:"/icon-192.png",badge:"/icon-192.png"}),j(!0),setTimeout(()=>j(!1),3e3)},[o]),w=o.filter(b=>!b.completed).length,A=o.filter(b=>!b.completed).reduce((b,v)=>b+v.amount,0);return l.jsx("div",{className:"reminder-overlay",onClick:d,children:l.jsxs("div",{className:"reminder-panel",onClick:b=>b.stopPropagation(),children:[l.jsxs("header",{className:"reminder-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:d,children:""})]}),l.jsxs("div",{className:"reminder-content",children:[l.jsx("div",{className:"reminder-status",children:w>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"status-icon pending",children:""}),l.jsxs("div",{className:"status-text",children:[l.jsxs("span",{className:"status-count",children:[w,""]}),l.jsx("span",{className:"status-label",children:"  "})]}),l.jsxs("div",{className:"status-amount",children:["",A.toLocaleString()]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"status-icon complete",children:""}),l.jsx("div",{className:"status-text",children:l.jsx("span",{className:"status-label",children:"  !"})})]})}),w>0&&l.jsxs("div",{className:"pending-list",children:[l.jsx("h3",{children:"  "}),o.filter(b=>!b.completed).map((b,v)=>l.jsxs("div",{className:"pending-item",children:[l.jsx("span",{className:"pending-from",children:N(b.from)}),l.jsx("span",{className:"pending-arrow",children:""}),l.jsx("span",{className:"pending-to",children:N(b.to)}),l.jsxs("span",{className:"pending-amount",children:["",b.amount.toLocaleString()]})]},v))]}),l.jsxs("div",{className:"reminder-settings",children:[l.jsx("h3",{children:" "}),l.jsxs("div",{className:"setting-row",children:[l.jsxs("div",{className:"setting-info",children:[l.jsx("span",{className:"setting-label",children:" "}),l.jsx("span",{className:"setting-desc",children:"   "})]}),l.jsx("button",{className:`toggle-switch ${u.enabled?"on":""}`,onClick:()=>h({enabled:!u.enabled}),children:l.jsx("span",{className:"toggle-thumb"})})]}),u.enabled&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"setting-group",children:[l.jsx("label",{children:" "}),l.jsx("div",{className:"frequency-options",children:["daily","weekly","custom"].map(b=>l.jsxs("button",{className:`freq-btn ${u.frequency===b?"active":""}`,onClick:()=>h({frequency:b}),children:[b==="daily"&&"",b==="weekly"&&"",b==="custom"&&" "]},b))})]}),u.frequency==="custom"&&l.jsxs("div",{className:"setting-group",children:[l.jsx("label",{children:"  ()"}),l.jsx("input",{type:"number",className:"input-field",value:u.customDays||3,onChange:b=>h({customDays:Math.max(1,parseInt(b.target.value)||3)}),min:"1",max:"30"})]}),l.jsxs("div",{className:"setting-group",children:[l.jsx("label",{children:" "}),l.jsx("input",{type:"time",className:"input-field",value:u.notifyAt||"20:00",onChange:b=>h({notifyAt:b.target.value})})]})]}),l.jsx("button",{className:`btn btn-test ${g?"sent":""}`,onClick:S,children:g?"   ":"   "})]})]})]})})}function u0({fromPerson:c,toPerson:o,amount:d,onClose:u}){const[f,g]=m.useState(null),j=m.useCallback(()=>(encodeURIComponent(`${c.name}${o.name} : ${d.toLocaleString()}`),`kakaotalk://kakaopay/home?amount=${d}`),[c,o,d]),h=m.useCallback(()=>{const b=o.bankName||"",v=o.accountNumber||"";return o.accountHolder||o.name,b&&v?`supertoss://send?bank=${encodeURIComponent(b)}&accountNo=${v}&amount=${d}&origin=travel-expense`:`supertoss://send?amount=${d}`},[o,d]),N=m.useCallback(()=>o.bankName&&o.accountNumber?`${o.bankName} ${o.accountNumber} (${o.accountHolder||o.name})`:null,[o]),S=async(b,v)=>{try{await navigator.clipboard.writeText(b),g(v),setTimeout(()=>g(null),2e3)}catch(D){ue.error(" :",D)}},w=()=>{const b=N();let v=`[ ] ${c.name}  ${o.name}
`;return v+=`: ${d.toLocaleString()}
`,b&&(v+=`: ${b}`),v},A=N();return l.jsx("div",{className:"modal-overlay",onClick:u,children:l.jsxs("div",{className:"modal-content payment-links-modal",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:" "}),l.jsx("button",{className:"btn-close",onClick:u,children:""})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"payment-summary",children:[l.jsxs("div",{className:"payment-from",children:[l.jsx("div",{className:"payment-avatar",style:{backgroundColor:c.color},children:c.name.charAt(0)}),l.jsx("span",{children:c.name})]}),l.jsxs("div",{className:"payment-arrow",children:[l.jsxs("span",{className:"arrow-amount",children:["",d.toLocaleString()]}),l.jsx("span",{className:"arrow-icon",children:""})]}),l.jsxs("div",{className:"payment-to",children:[l.jsx("div",{className:"payment-avatar",style:{backgroundColor:o.color},children:o.name.charAt(0)}),l.jsx("span",{children:o.name})]})]}),A&&l.jsxs("div",{className:"account-info-card",children:[l.jsxs("div",{className:"account-info-header",children:[l.jsx("span",{className:"account-icon",children:""}),l.jsx("span",{children:"  "})]}),l.jsxs("div",{className:"account-info-content",children:[l.jsx("span",{className:"account-text",children:A}),l.jsx("button",{className:`btn-copy ${f==="account"?"copied":""}`,onClick:()=>S(o.accountNumber||"","account"),children:f==="account"?" ":" "})]})]}),l.jsxs("div",{className:"payment-apps",children:[l.jsx("h4",{children:" "}),l.jsxs("div",{className:"payment-app-buttons",children:[l.jsxs("button",{className:"payment-app-btn kakaopay",onClick:()=>{const b=j(),v=Date.now(),D=document.createElement("iframe");D.style.display="none",D.src=b,document.body.appendChild(D),setTimeout(()=>{document.body.removeChild(D),Date.now()-v<1500&&window.open("https://kakaopay.com","_blank")},1e3)},children:[l.jsx("span",{className:"app-icon",children:""}),l.jsx("span",{className:"app-name",children:""})]}),l.jsxs("button",{className:"payment-app-btn toss",onClick:()=>{const b=h(),v=Date.now();window.location.href=b,setTimeout(()=>{Date.now()-v<1500&&window.open("https://toss.im","_blank")},1e3)},children:[l.jsx("span",{className:"app-icon",children:""}),l.jsx("span",{className:"app-name",children:""})]})]}),l.jsx("p",{className:"payment-hint",children:"      "})]}),l.jsxs("div",{className:"message-copy",children:[l.jsx("h4",{children:" "}),l.jsx("div",{className:"message-preview",children:l.jsx("pre",{children:w()})}),l.jsx("button",{className:`btn btn-secondary ${f==="message"?"copied":""}`,onClick:()=>S(w(),"message"),children:f==="message"?" ":"  "})]})]})]})})}function d0({settlement:c,fromPerson:o,toPerson:d,onPartialPay:u,onClose:f}){const[g,j]=m.useState(""),[h,N]=m.useState(""),[S,w]=m.useState(!1),[A,b]=m.useState(""),v=c.totalPaid||0,D=c.amount-v,x=async T=>{T.preventDefault(),b("");const k=parseFloat(g);if(isNaN(k)||k<=0){b("  .");return}if(k>D){b(` (${D.toLocaleString()}) .`);return}w(!0);try{await u(c.from,c.to,k,h||void 0),f()}catch{b("    .")}finally{w(!1)}},y=Math.round(v/c.amount*100);return l.jsx("div",{className:"modal-overlay",onClick:f,children:l.jsxs("div",{className:"modal-content partial-settlement-modal",onClick:T=>T.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:" "}),l.jsx("button",{className:"btn-close",onClick:f,children:""})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"settlement-info",children:[l.jsxs("div",{className:"settlement-parties",children:[l.jsxs("div",{className:"party from",children:[l.jsx("div",{className:"party-avatar",style:{backgroundColor:o.color},children:o.name.charAt(0)}),l.jsx("span",{children:o.name})]}),l.jsx("div",{className:"arrow",children:""}),l.jsxs("div",{className:"party to",children:[l.jsx("div",{className:"party-avatar",style:{backgroundColor:d.color},children:d.name.charAt(0)}),l.jsx("span",{children:d.name})]})]}),l.jsxs("div",{className:"progress-section",children:[l.jsxs("div",{className:"progress-header",children:[l.jsx("span",{children:" "}),l.jsxs("span",{children:[y,"%"]})]}),l.jsx("div",{className:"progress-bar",children:l.jsx("div",{className:"progress-fill",style:{width:`${y}%`}})}),l.jsxs("div",{className:"progress-amounts",children:[l.jsxs("span",{children:[": ",v.toLocaleString()]}),l.jsxs("span",{children:[": ",D.toLocaleString()]})]})]})]}),c.partialPayments&&c.partialPayments.length>0&&l.jsxs("div",{className:"payment-history",children:[l.jsx("h4",{children:" "}),l.jsx("ul",{children:c.partialPayments.map(T=>l.jsxs("li",{className:"payment-item",children:[l.jsxs("div",{className:"payment-info",children:[l.jsxs("span",{className:"payment-amount",children:["",T.amount.toLocaleString()]}),T.note&&l.jsx("span",{className:"payment-note",children:T.note})]}),l.jsx("span",{className:"payment-date",children:new Date(T.paidAt).toLocaleDateString()})]},T.id))})]}),D>0&&l.jsxs("form",{className:"partial-pay-form",onSubmit:x,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:" "}),l.jsxs("div",{className:"amount-input-wrapper",children:[l.jsx("span",{className:"currency-symbol",children:""}),l.jsx("input",{type:"number",className:"input-field",placeholder:D.toString(),value:g,onChange:T=>j(T.target.value),min:"1",max:D})]}),l.jsxs("div",{className:"quick-amounts",children:[l.jsx("button",{type:"button",onClick:()=>j(Math.floor(D*.5).toString()),children:"50%"}),l.jsx("button",{type:"button",onClick:()=>j(Math.floor(D*.25).toString()),children:"25%"}),l.jsx("button",{type:"button",onClick:()=>j(D.toString()),children:""})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:" ()"}),l.jsx("input",{type:"text",className:"input-field",placeholder:":  ",value:h,onChange:T=>N(T.target.value)})]}),A&&l.jsx("p",{className:"error-message",children:A}),l.jsxs("div",{className:"form-actions",children:[l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:f,disabled:S,children:""}),l.jsx("button",{type:"submit",className:"btn btn-primary",disabled:S||!g,children:S?" ...":" "})]})]}),D<=0&&l.jsxs("div",{className:"completed-message",children:[l.jsx("div",{className:"check-icon",children:""}),l.jsx("p",{children:" !"})]})]})]})})}function m0({history:c,persons:o,onClose:d}){const u=h=>o.find(N=>N.id===h),f=m.useMemo(()=>[...c].sort((h,N)=>new Date(N.paidAt).getTime()-new Date(h.paidAt).getTime()),[c]),g=m.useMemo(()=>c.reduce((h,N)=>h+N.amount,0),[c]),j=h=>new Date(h).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return l.jsx("div",{className:"modal-overlay",onClick:d,children:l.jsxs("div",{className:"modal-content settlement-history-modal",onClick:h=>h.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:d,children:""})]}),l.jsxs("div",{className:"modal-body",children:[l.jsxs("div",{className:"history-summary",children:[l.jsxs("div",{className:"summary-stat",children:[l.jsx("span",{className:"stat-value",children:c.length}),l.jsx("span",{className:"stat-label",children:"  "})]}),l.jsxs("div",{className:"summary-stat",children:[l.jsxs("span",{className:"stat-value",children:["",g.toLocaleString()]}),l.jsx("span",{className:"stat-label",children:"  "})]})]}),f.length===0?l.jsxs("div",{className:"empty-history",children:[l.jsx("div",{className:"empty-icon",children:""}),l.jsx("p",{children:"  "})]}):l.jsx("ul",{className:"history-list",children:f.map(h=>{const N=u(h.from),S=u(h.to);return l.jsxs("li",{className:`history-item ${h.type}`,children:[l.jsxs("div",{className:"history-main",children:[l.jsxs("div",{className:"history-parties",children:[l.jsx("div",{className:"history-avatar",style:{backgroundColor:N?.color||"#888"},children:N?.name.charAt(0)||"?"}),l.jsx("span",{className:"history-arrow",children:""}),l.jsx("div",{className:"history-avatar",style:{backgroundColor:S?.color||"#888"},children:S?.name.charAt(0)||"?"})]}),l.jsxs("div",{className:"history-details",children:[l.jsxs("div",{className:"history-names",children:[N?.name||"  ","  ",S?.name||"  "]}),l.jsxs("div",{className:"history-meta",children:[l.jsx("span",{className:`history-type ${h.type}`,children:h.type==="full"?"":""}),h.note&&l.jsx("span",{className:"history-note",children:h.note})]})]})]}),l.jsxs("div",{className:"history-right",children:[l.jsxs("div",{className:"history-amount",children:["",h.amount.toLocaleString()]}),l.jsx("div",{className:"history-date",children:j(h.paidAt)})]})]},h.id)})})]})]})})}function f0({person:c,paid:o,shouldPay:d,expenses:u,currencies:f,convertToKRW:g,getPersonById:j,onClose:h}){const N=o-d,S=m.useMemo(()=>u.filter(b=>b.paidBy===c.id),[u,c.id]),w=m.useMemo(()=>u.filter(b=>b.sharedBy.includes(c.id)),[u,c.id]),A=b=>f.find(D=>D.code===b)?.symbol||"";return l.jsx("div",{className:"modal-overlay",onClick:h,children:l.jsxs("div",{className:"modal-content detail-modal",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsxs("div",{className:"detail-header-info",children:[l.jsx("div",{className:"detail-avatar",style:{backgroundColor:c.color},children:c.name.charAt(0)}),l.jsxs("div",{children:[l.jsxs("h2",{children:[c.name,"  "]}),l.jsxs("div",{className:`detail-balance ${N>=0?"positive":"negative"}`,children:[": ",N>=0?"+":"-","",Math.abs(N).toLocaleString()]})]})]}),l.jsx("button",{className:"btn-close",onClick:h,children:""})]}),l.jsxs("div",{className:"modal-body detail-body",children:[l.jsxs("section",{className:"detail-section",children:[l.jsxs("h3",{children:["   ",l.jsxs("span",{className:"detail-total positive",children:["",o.toLocaleString()]})]}),S.length===0?l.jsx("p",{className:"detail-empty",children:"  "}):l.jsx("ul",{className:"detail-list",children:S.map(b=>l.jsxs("li",{className:"detail-item",children:[l.jsx("div",{className:"detail-item-icon",children:ht[b.category]?.icon||""}),l.jsxs("div",{className:"detail-item-info",children:[l.jsx("span",{className:"detail-item-desc",children:b.description}),l.jsxs("span",{className:"detail-item-meta",children:[b.sharedBy.length," "]})]}),l.jsxs("div",{className:"detail-item-amount",children:[l.jsxs("span",{children:[A(b.currency),b.amount.toLocaleString()]}),b.currency!=="KRW"&&l.jsxs("span",{className:"detail-item-krw",children:[" ",g(b.amount,b.currency).toLocaleString()]})]})]},b.id))})]}),l.jsxs("section",{className:"detail-section",children:[l.jsxs("h3",{children:["   ",l.jsxs("span",{className:"detail-total warning",children:["",d.toLocaleString()]})]}),w.length===0?l.jsx("p",{className:"detail-empty",children:"  "}):l.jsx("ul",{className:"detail-list",children:w.map(b=>{const v=vo(g(b.amount,b.currency),b.sharedBy.length),D=j(b.paidBy);return l.jsxs("li",{className:"detail-item",children:[l.jsx("div",{className:"detail-item-icon",children:ht[b.category]?.icon||""}),l.jsxs("div",{className:"detail-item-info",children:[l.jsx("span",{className:"detail-item-desc",children:b.description}),l.jsxs("span",{className:"detail-item-meta",children:[D?.name||"  ","   1/",b.sharedBy.length," "]})]}),l.jsx("div",{className:"detail-item-amount share",children:l.jsxs("span",{children:["",Math.round(v).toLocaleString()]})})]},b.id)})})]}),l.jsxs("section",{className:"detail-summary",children:[l.jsxs("div",{className:"detail-summary-row",children:[l.jsx("span",{children:" "}),l.jsxs("span",{className:"positive",children:["",o.toLocaleString()]})]}),l.jsxs("div",{className:"detail-summary-row",children:[l.jsx("span",{children:" "}),l.jsxs("span",{className:"warning",children:["",d.toLocaleString()]})]}),l.jsx("div",{className:"detail-summary-divider"}),l.jsxs("div",{className:`detail-summary-row final ${N>=0?"positive":"negative"}`,children:[l.jsx("span",{children:N>=0?" ":" "}),l.jsxs("span",{children:["",Math.abs(N).toLocaleString()]})]})]})]})]})})}async function h0(c,o){try{ue.info("Starting image export...");const u=(await yo(c,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!1,logging:!1})).toDataURL("image/png"),f=document.createElement("a");f.download=`${o}.png`,f.href=u,document.body.appendChild(f),f.click(),document.body.removeChild(f),ue.info("Image export completed")}catch(d){throw ue.error("  :",d),d}}async function p0(c,o){try{ue.info("Starting PDF export...");const d=await yo(c,{backgroundColor:"#ffffff",scale:2,useCORS:!0,allowTaint:!1,logging:!1}),u=d.toDataURL("image/png"),f=new _i("p","mm","a4"),g=f.internal.pageSize.getWidth(),j=d.height*g/d.width,h=f.internal.pageSize.getHeight();f.addImage(u,"PNG",0,0,g,j),f.save(`${o}.pdf`),ue.info("PDF export completed")}catch(d){throw ue.error("PDF  :",d),d}}const rh=m.createContext(null);function oh(){const c=m.useContext(rh);if(!c)throw new Error("useToast must be used within ToastProvider");return c}function g0({children:c}){const[o,d]=m.useState([]),u=m.useCallback(g=>{const j=Math.random().toString(36).substring(2,9),h={...g,id:j,duration:g.duration??4e3};d(N=>[...N,h])},[]),f=m.useCallback(g=>{d(j=>j.filter(h=>h.id!==g))},[]);return l.jsxs(rh.Provider,{value:{toasts:o,showToast:u,hideToast:f},children:[c,l.jsx(x0,{toasts:o,onDismiss:f})]})}function x0({toasts:c,onDismiss:o}){return l.jsx("div",{className:"toast-container",children:c.map(d=>l.jsx(y0,{toast:d,onDismiss:()=>o(d.id)},d.id))})}function y0({toast:c,onDismiss:o}){const[d,u]=m.useState(!1);m.useEffect(()=>{if(c.duration&&c.duration>0){const j=setTimeout(()=>{u(!0),setTimeout(o,300)},c.duration);return()=>clearTimeout(j)}},[c.duration,o]);const f=()=>{u(!0),setTimeout(o,300)},g={success:"",error:"",warning:"",info:""};return l.jsxs("div",{className:`toast toast-${c.type} ${d?"toast-exit":""}`,children:[l.jsx("div",{className:"toast-icon",children:g[c.type]}),l.jsxs("div",{className:"toast-content",children:[l.jsx("div",{className:"toast-title",children:c.title}),c.message&&l.jsx("div",{className:"toast-message",children:c.message})]}),l.jsx("button",{className:"toast-close",onClick:f,children:""}),c.duration&&c.duration>0&&l.jsx("div",{className:"toast-progress",style:{animationDuration:`${c.duration}ms`}})]})}function uh({persons:c,settlements:o,expenses:d,currencies:u,settlementHistory:f=[],getTotalByPerson:g,convertToKRW:j,onMarkComplete:h,onMarkIncomplete:N,onPartialPay:S}){const[w,A]=m.useState(null),[b,v]=m.useState(!1),[D,x]=m.useState(!1),[y,T]=m.useState(null),[k,C]=m.useState(null),[O,G]=m.useState(null),[P,Z]=m.useState(!1),Q=m.useRef(null),{showToast:q}=oh(),H=m.useMemo(()=>new Map(c.map(K=>[K.id,K])),[c]),F=m.useCallback(K=>H.get(K),[H]),L=m.useCallback(async K=>{try{K.completed?await N(K.from,K.to):await h(K.from,K.to)}catch(ee){ue.error("   :",ee),q({type:"error",title:"",message:"  ."})}},[h,N,q]),ne=m.useCallback((K,ee,fe)=>{const xe=F(K),Ce=F(ee);xe&&Ce&&A({from:xe.name,to:Ce.name,amount:fe,bankInfo:{bankName:Ce.bankName,accountNumber:Ce.accountNumber,accountHolder:Ce.accountHolder}})},[F]),ce=m.useCallback(async()=>{if(!Q.current){ue.warn("settlementRef.current is null");return}v(!0);try{const K=`_${new Date().toLocaleDateString().replace(/\//g,"-")}`;await h0(Q.current,K),q({type:"success",title:" ",message:" ."})}catch(K){ue.error("Export failed:",K),q({type:"error",title:" ",message:"  ."})}finally{v(!1)}},[q]),ie=m.useCallback(async()=>{if(!Q.current){ue.warn("settlementRef.current is null");return}v(!0);try{const K=`_${new Date().toLocaleDateString().replace(/\//g,"-")}`;await p0(Q.current,K),q({type:"success",title:" ",message:"PDF ."})}catch(K){ue.error("Export failed:",K),q({type:"error",title:" ",message:"PDF  ."})}finally{v(!1)}},[q]);if(c.length===0)return l.jsx("div",{className:"settlement-tab",children:l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:""}),l.jsx("p",{children:"  "})]})});const R=y?F(y):null,te=y?g(y):null;return l.jsxs("div",{className:"settlement-tab",children:[l.jsxs("div",{ref:Q,children:[l.jsxs("section",{className:"summary-section",children:[l.jsx("h3",{children:" "}),l.jsx("div",{className:"summary-grid",children:c.map(K=>{const{paid:ee,shouldPay:fe}=g(K.id),xe=ee-fe;return l.jsxs("div",{className:"summary-card",children:[l.jsxs("div",{className:"summary-header",children:[l.jsx("div",{className:"summary-avatar",style:{backgroundColor:K.color},children:K.name.charAt(0)}),l.jsx("span",{className:"summary-name",children:K.name})]}),l.jsxs("div",{className:"summary-details",children:[l.jsxs("div",{className:"summary-row",children:[l.jsx("span",{children:" "}),l.jsxs("span",{className:"amount paid",children:["",ee.toLocaleString()]})]}),l.jsxs("div",{className:"summary-row",children:[l.jsx("span",{children:"  "}),l.jsxs("span",{className:"amount should-pay",children:["",fe.toLocaleString()]})]}),l.jsx("div",{className:"summary-divider"}),l.jsxs("div",{className:"summary-row balance-row",children:[l.jsx("span",{children:""}),l.jsxs("span",{className:`amount balance ${xe>=0?"positive":"negative"}`,children:[xe>=0?"+":"-","",Math.abs(xe).toLocaleString()]})]})]}),l.jsx("button",{className:"btn-detail-view",onClick:()=>T(K.id),children:" "})]},K.id)})})]}),l.jsxs("section",{className:"settlement-section",children:[l.jsx("h3",{children:"  "}),o.length===0?l.jsxs("div",{className:"empty-settlement",children:[l.jsx("div",{className:"check-icon",children:""}),l.jsx("p",{children:"  "}),l.jsx("p",{className:"hint",children:"   ,   ."})]}):l.jsx("ul",{className:"settlement-list",children:o.map((K,ee)=>{const fe=F(K.from),xe=F(K.to);return!fe||!xe?null:l.jsxs("li",{className:`settlement-item ${K.completed?"completed":""}`,role:"listitem","aria-label":`${fe.name} ${xe.name} ${K.amount.toLocaleString()} ${K.completed?" - ":""}`,children:[l.jsxs("div",{className:"settlement-transfer",children:[l.jsxs("div",{className:"settlement-from",children:[l.jsx("div",{className:"settlement-avatar",style:{backgroundColor:fe.color},"aria-hidden":"true",children:fe.name.charAt(0)}),l.jsx("span",{children:fe.name})]}),l.jsxs("div",{className:"settlement-arrow","aria-hidden":"true",children:[l.jsx("span",{className:"arrow-icon",children:""}),l.jsxs("div",{className:"arrow-amount",children:["",K.amount.toLocaleString()]}),l.jsx("span",{className:"arrow-icon",children:""})]}),l.jsxs("div",{className:"settlement-to",children:[l.jsx("div",{className:"settlement-avatar",style:{backgroundColor:xe.color},"aria-hidden":"true",children:xe.name.charAt(0)}),l.jsx("span",{children:xe.name})]})]}),l.jsxs("div",{className:"settlement-actions",children:[l.jsx("button",{className:`btn-sm settlement-complete-btn ${K.completed?"completed":""}`,onClick:()=>L(K),"aria-label":K.completed?"  ":"  ","aria-pressed":K.completed,children:K.completed?" ":" "}),S&&!K.completed&&l.jsx("button",{className:"btn-sm settlement-partial-btn",onClick:()=>G(K),"aria-label":" ",children:" "}),l.jsx("button",{className:"btn-sm settlement-send-btn",onClick:()=>C({from:fe,to:xe,amount:K.amount}),"aria-label":`${xe.name} `,children:" "}),l.jsx("button",{className:"btn-sm settlement-qr-btn",onClick:()=>ne(K.from,K.to,K.amount),"aria-label":`${xe.name}  QR `,children:"QR"})]})]},ee)})})]})]}),o.length>0&&l.jsxs("section",{className:"export-section",children:[l.jsx("h4",{children:" "}),l.jsxs("div",{className:"export-buttons",children:[l.jsx("button",{className:"export-btn",onClick:ce,disabled:b,children:"  "}),l.jsx("button",{className:"export-btn",onClick:ie,disabled:b,children:" PDF "}),l.jsx("button",{className:"export-btn reminder-btn",onClick:()=>x(!0),children:"  "}),f.length>0&&l.jsx("button",{className:"export-btn history-btn",onClick:()=>Z(!0),children:"  "})]})]}),w&&l.jsx(r0,{fromName:w.from,toName:w.to,amount:w.amount,bankInfo:w.bankInfo,onClose:()=>A(null)}),D&&l.jsx(o0,{persons:c,pendingSettlements:o,onClose:()=>x(!1)}),R&&te&&l.jsx(f0,{person:R,paid:te.paid,shouldPay:te.shouldPay,expenses:d,currencies:u,convertToKRW:j,getPersonById:F,onClose:()=>T(null)}),k&&l.jsx(u0,{fromPerson:k.from,toPerson:k.to,amount:k.amount,onClose:()=>C(null)}),O&&S&&l.jsx(d0,{settlement:O,fromPerson:F(O.from),toPerson:F(O.to),onPartialPay:S,onClose:()=>G(null)}),P&&l.jsx(m0,{history:f,persons:c,onClose:()=>Z(!1)})]})}function b0({totalBudget:c,totalSpent:o,totalRemaining:d,totalPercentage:u,dailyBudget:f,todaySpent:g,todayRemaining:j,todayPercentage:h,isOverBudget:N,isNearBudget:S,isTodayOverBudget:w,recommendedDailyBudget:A,daysRemaining:b,avgDailySpending:v,projectedTotal:D,onClose:x}){if(c<=0)return l.jsx("div",{className:"budget-alert-container",children:l.jsxs("div",{className:"budget-empty",children:[l.jsx("span",{className:"budget-empty-icon",children:""}),l.jsx("p",{children:"  "}),l.jsx("p",{className:"budget-empty-hint",children:"   "})]})});const y=()=>N?"status-critical":S?"status-warning":"status-good",T=()=>N?"":S?"":"",k=()=>N?" ":S?" ":"";return l.jsxs("div",{className:"budget-alert-container",children:[l.jsxs("div",{className:`budget-status-banner ${y()}`,children:[l.jsx("span",{className:"status-icon",children:T()}),l.jsx("span",{className:"status-text",children:k()}),N&&l.jsxs("span",{className:"status-detail",children:["",Math.abs(d).toLocaleString()," "]})]}),l.jsxs("div",{className:"budget-card",children:[l.jsxs("div",{className:"budget-card-header",children:[l.jsx("h4",{children:"  "}),l.jsxs("span",{className:"budget-amount",children:["",c.toLocaleString()]})]}),l.jsxs("div",{className:"budget-progress-container",children:[l.jsxs("div",{className:"budget-progress-bar",children:[l.jsx("div",{className:`budget-progress-fill ${y()}`,style:{width:`${Math.min(100,u)}%`}}),u>100&&l.jsx("div",{className:"budget-progress-overflow",style:{width:`${Math.min(50,u-100)}%`}})]}),l.jsxs("span",{className:"budget-percentage",children:[u,"%"]})]}),l.jsxs("div",{className:"budget-stats",children:[l.jsxs("div",{className:"budget-stat",children:[l.jsx("span",{className:"stat-label",children:""}),l.jsxs("span",{className:"stat-value spent",children:["",o.toLocaleString()]})]}),l.jsxs("div",{className:"budget-stat",children:[l.jsx("span",{className:"stat-label",children:""}),l.jsxs("span",{className:`stat-value ${d>=0?"remaining":"over"}`,children:[d>=0?"":"-","",Math.abs(d).toLocaleString()]})]})]})]}),l.jsxs("div",{className:"budget-card today",children:[l.jsxs("div",{className:"budget-card-header",children:[l.jsx("h4",{children:"  "}),l.jsxs("span",{className:"budget-amount",children:["",f.toLocaleString()]})]}),l.jsxs("div",{className:"budget-progress-container",children:[l.jsx("div",{className:"budget-progress-bar",children:l.jsx("div",{className:`budget-progress-fill ${w?"status-critical":"status-good"}`,style:{width:`${Math.min(100,h)}%`}})}),l.jsxs("span",{className:"budget-percentage",children:[h,"%"]})]}),l.jsxs("div",{className:"budget-stats",children:[l.jsxs("div",{className:"budget-stat",children:[l.jsx("span",{className:"stat-label",children:" "}),l.jsxs("span",{className:"stat-value spent",children:["",g.toLocaleString()]})]}),l.jsxs("div",{className:"budget-stat",children:[l.jsx("span",{className:"stat-label",children:" "}),l.jsxs("span",{className:`stat-value ${j>=0?"remaining":"over"}`,children:[j>=0?"":"-","",Math.abs(j).toLocaleString()]})]})]})]}),l.jsxs("div",{className:"budget-card forecast",children:[l.jsx("h4",{children:"  "}),l.jsxs("div",{className:"forecast-grid",children:[l.jsxs("div",{className:"forecast-item",children:[l.jsx("span",{className:"forecast-label",children:"  "}),l.jsxs("span",{className:"forecast-value",children:["",v.toLocaleString()]})]}),l.jsxs("div",{className:"forecast-item",children:[l.jsx("span",{className:"forecast-label",children:" "}),l.jsxs("span",{className:"forecast-value",children:[b,""]})]}),l.jsxs("div",{className:"forecast-item highlight",children:[l.jsx("span",{className:"forecast-label",children:" "}),l.jsxs("span",{className:`forecast-value ${D>c?"over":""}`,children:["",D.toLocaleString()]})]}),l.jsxs("div",{className:"forecast-item recommendation",children:[l.jsx("span",{className:"forecast-label",children:"  "}),l.jsxs("span",{className:"forecast-value",children:["",A>0?A.toLocaleString():"-"]})]})]})]}),S&&!N&&l.jsxs("div",{className:"budget-tip warning",children:[l.jsx("span",{className:"tip-icon",children:""}),l.jsxs("p",{children:[" 80% .     ",A.toLocaleString(),"  ."]})]}),N&&l.jsxs("div",{className:"budget-tip critical",children:[l.jsx("span",{className:"tip-icon",children:""}),l.jsx("p",{children:" .    ."})]})]})}function v0({expenses:c,persons:o,currencies:d,convertToKRW:u,tripName:f="",startDate:g,endDate:j,onClose:h}){const N=m.useRef(null),S=m.useMemo(()=>c.reduce((x,y)=>x+u(y.amount,y.currency),0),[c,u]),w=m.useMemo(()=>{const x={};return c.forEach(y=>{const T=y.category,k=ht[T]||{label:"",icon:""};x[T]||(x[T]={amount:0,count:0,label:k.label,icon:k.icon}),x[T].amount+=u(y.amount,y.currency),x[T].count++}),Object.entries(x).map(([y,T])=>({key:y,...T})).sort((y,T)=>T.amount-y.amount)},[c,u]),A=m.useMemo(()=>{const x={};return o.forEach(y=>{x[y.id]={paid:0,shouldPay:0,count:0}}),c.forEach(y=>{const T=u(y.amount,y.currency),k=T/y.sharedBy.length;x[y.paidBy]&&(x[y.paidBy].paid+=T,x[y.paidBy].count++),y.sharedBy.forEach(C=>{x[C]&&(x[C].shouldPay+=k)})}),o.map(y=>({person:y,...x[y.id],balance:x[y.id].paid-x[y.id].shouldPay})).sort((y,T)=>T.paid-y.paid)},[c,o,u]),b=m.useMemo(()=>{const x={};return c.forEach(y=>{const T=y.date;x[T]||(x[T]=0),x[T]+=u(y.amount,y.currency)}),Object.entries(x).map(([y,T])=>({date:y,amount:T})).sort((y,T)=>y.date.localeCompare(T.date))},[c,u]),v=b.length>0?Math.round(S/b.length):0,D=async()=>{if(N.current)try{const x=await yo(N.current,{backgroundColor:"#ffffff",scale:2}),y=x.toDataURL("image/png"),T=new _i("p","mm","a4"),k=T.internal.pageSize.getWidth(),C=x.height*k/x.width;let O=C,G=0;const P=T.internal.pageSize.getHeight();for(;O>0;)T.addImage(y,"PNG",0,G,k,C),O-=P,O>0&&(G-=P,T.addPage());T.save(`${f}__${new Date().toLocaleDateString()}.pdf`)}catch(x){ue.error("PDF  :",x),alert("PDF  .")}};return l.jsx("div",{className:"expense-report-modal",children:l.jsxs("div",{className:"expense-report-container",children:[l.jsxs("div",{className:"report-header-actions",children:[l.jsx("h2",{children:"   "}),l.jsxs("div",{className:"report-actions",children:[l.jsx("button",{className:"btn-export",onClick:D,children:" PDF "}),h&&l.jsx("button",{className:"btn-close",onClick:h,children:""})]})]}),l.jsxs("div",{className:"report-content",ref:N,children:[l.jsxs("section",{className:"report-section trip-info",children:[l.jsx("h3",{children:f}),(g||j)&&l.jsx("p",{className:"trip-dates",children:g&&j?`${g} ~ ${j}`:g||j}),l.jsxs("p",{className:"report-generated",children:[" : ",new Date().toLocaleDateString()]})]}),l.jsxs("section",{className:"report-section summary",children:[l.jsxs("div",{className:"summary-card main",children:[l.jsx("span",{className:"summary-label",children:" "}),l.jsxs("span",{className:"summary-value",children:["",S.toLocaleString()]})]}),l.jsxs("div",{className:"summary-grid",children:[l.jsxs("div",{className:"summary-card",children:[l.jsx("span",{className:"summary-label",children:" "}),l.jsxs("span",{className:"summary-value",children:[c.length,""]})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("span",{className:"summary-label",children:""}),l.jsxs("span",{className:"summary-value",children:[o.length,""]})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("span",{className:"summary-label",children:" "}),l.jsxs("span",{className:"summary-value",children:["",v.toLocaleString()]})]}),l.jsxs("div",{className:"summary-card",children:[l.jsx("span",{className:"summary-label",children:"1 "}),l.jsxs("span",{className:"summary-value",children:["",o.length>0?Math.round(S/o.length).toLocaleString():0]})]})]})]}),l.jsxs("section",{className:"report-section",children:[l.jsx("h4",{children:"  "}),l.jsx("div",{className:"category-breakdown",children:w.map(({key:x,icon:y,label:T,amount:k,count:C})=>{const O=S>0?k/S*100:0;return l.jsxs("div",{className:"breakdown-item",children:[l.jsx("div",{className:"breakdown-icon",children:y}),l.jsxs("div",{className:"breakdown-info",children:[l.jsx("span",{className:"breakdown-label",children:T}),l.jsxs("span",{className:"breakdown-count",children:[C,""]})]}),l.jsx("div",{className:"breakdown-bar-container",children:l.jsx("div",{className:"breakdown-bar",style:{width:`${O}%`}})}),l.jsxs("div",{className:"breakdown-amount",children:[l.jsxs("span",{children:["",k.toLocaleString()]}),l.jsxs("span",{className:"breakdown-percentage",children:[O.toFixed(1),"%"]})]})]},x)})})]}),l.jsxs("section",{className:"report-section",children:[l.jsx("h4",{children:"  "}),l.jsx("div",{className:"person-breakdown",children:A.map(({person:x,paid:y,shouldPay:T,count:k,balance:C})=>l.jsxs("div",{className:"person-item",children:[l.jsx("div",{className:"person-avatar",style:{backgroundColor:x.color},children:x.name.charAt(0)}),l.jsxs("div",{className:"person-info",children:[l.jsx("span",{className:"person-name",children:x.name}),l.jsxs("span",{className:"person-count",children:[k," "]})]}),l.jsxs("div",{className:"person-stats",children:[l.jsxs("div",{className:"stat-row",children:[l.jsx("span",{className:"stat-label",children:""}),l.jsxs("span",{className:"stat-value paid",children:["",y.toLocaleString()]})]}),l.jsxs("div",{className:"stat-row",children:[l.jsx("span",{className:"stat-label",children:""}),l.jsxs("span",{className:"stat-value should",children:["",Math.round(T).toLocaleString()]})]}),l.jsxs("div",{className:`stat-row balance ${C>=0?"positive":"negative"}`,children:[l.jsx("span",{className:"stat-label",children:""}),l.jsxs("span",{className:"stat-value",children:[C>=0?"+":"","",Math.round(C).toLocaleString()]})]})]})]},x.id))})]}),b.length>0&&l.jsxs("section",{className:"report-section",children:[l.jsx("h4",{children:"  "}),l.jsx("div",{className:"daily-breakdown",children:b.map(({date:x,amount:y})=>{const T=Math.max(...b.map(C=>C.amount)),k=T>0?y/T*100:0;return l.jsxs("div",{className:"daily-item",children:[l.jsx("span",{className:"daily-date",children:x}),l.jsx("div",{className:"daily-bar-container",children:l.jsx("div",{className:"daily-bar",style:{width:`${k}%`}})}),l.jsxs("span",{className:"daily-amount",children:["",y.toLocaleString()]})]},x)})})]})]})]})})}const j0={warningThreshold:80,criticalThreshold:100,stagedThresholds:[50,75,90,100],emergencyReservePercent:10};function N0(c,o,d,u=0,f,g,j=j0){const h=m.useMemo(()=>{const D=new Date;D.setHours(0,0,0,0);const x=D.toISOString().split("T")[0],y=c.reduce((K,ee)=>K+d(ee.amount,ee.currency),0),T=c.filter(K=>K.date===x).reduce((K,ee)=>K+d(ee.amount,ee.currency),0);if(u<=0)return{totalBudget:0,totalSpent:Math.round(y),totalRemaining:-Math.round(y),totalPercentage:0,dailyBudget:0,todaySpent:Math.round(T),todayRemaining:-Math.round(T),todayPercentage:0,isOverBudget:!1,isNearBudget:!1,isTodayOverBudget:!1,isTodayNearBudget:!1,projectedTotal:0,daysElapsed:1,daysRemaining:0,avgDailySpending:Math.round(y)};let k=1,C=0,O=1;if(f){const K=new Date(f);if(K.setHours(0,0,0,0),g){const ee=new Date(g);ee.setHours(0,0,0,0),O=Math.max(1,Math.ceil((ee.getTime()-K.getTime())/864e5)+1),k=Math.max(1,Math.min(O,Math.ceil((D.getTime()-K.getTime())/864e5)+1)),C=Math.max(0,O-k)}else k=Math.max(1,Math.ceil((D.getTime()-K.getTime())/864e5)+1)}const G=Math.round(u*(j.emergencyReservePercent/100)),P=u-G,Z=P>0?Math.round(P/O):0,Q=Z-T,q=u-y,H=u>0?Math.round(y/u*100):0,F=Z>0?Math.round(T/Z*100):0,L=k>0?Math.round(y/k):0,ne=L*O,ce=H>=j.criticalThreshold,ie=H>=j.warningThreshold&&!ce,R=F>=j.criticalThreshold,te=F>=j.warningThreshold&&!R;return{totalBudget:u,totalSpent:Math.round(y),totalRemaining:Math.round(q),totalPercentage:H,dailyBudget:Z,todaySpent:Math.round(T),todayRemaining:Math.round(Q),todayPercentage:F,isOverBudget:ce,isNearBudget:ie,isTodayOverBudget:R,isTodayNearBudget:te,projectedTotal:Math.round(ne),daysElapsed:k,daysRemaining:C,avgDailySpending:L}},[c,d,u,f,g,j]),N=m.useMemo(()=>h.isOverBudget?{type:"critical",title:"  !",message:`  ${h.totalBudget.toLocaleString()} ${Math.abs(h.totalRemaining).toLocaleString()} .`}:h.isNearBudget?{type:"warning",title:"  ",message:` ${h.totalPercentage}% .  : ${h.totalRemaining.toLocaleString()}`}:h.isTodayOverBudget?{type:"warning",title:"   ",message:`   ${h.dailyBudget.toLocaleString()} .`}:h.isTodayNearBudget?{type:"info",title:"   ",message:`   ${h.todayPercentage}% .`}:null,[h]),S=m.useMemo(()=>{if(h.daysRemaining<=0)return 0;const D=Math.round(u*(j.emergencyReservePercent/100)),x=h.totalRemaining-D;return Math.max(0,Math.round(x/h.daysRemaining))},[h,u,j.emergencyReservePercent]),w=m.useMemo(()=>{const D=h.totalPercentage;return j.stagedThresholds.map(x=>{const y=D>=x;let T="info",k="#10b981",C="";return x<=50?(T="info",k="#10b981",C=y?"  .":""):x<=75?(T="warning",k="#f59e0b",C=y?" 3/4 .  !":""):x<=90?(T="critical",k="#f97316",C=y?"  !":""):(T="danger",k="#ef4444",C=y?"  !":""),{stage:x,reached:y,type:T,color:k,message:C}})},[h.totalPercentage,j.stagedThresholds]),A=m.useMemo(()=>{const D=w.filter(x=>x.reached);return D.length>0?D[D.length-1]:null},[w]),b=m.useMemo(()=>{const D=Math.round(u*(j.emergencyReservePercent/100)),x=u-D;return h.totalSpent>x},[h.totalSpent,u,j.emergencyReservePercent]),v=m.useMemo(()=>{const D=Math.round(u*(j.emergencyReservePercent/100)),x=Math.max(0,h.totalSpent-(u-D));return{amount:D,percent:j.emergencyReservePercent,used:x,remaining:D-x}},[u,j.emergencyReservePercent,h.totalSpent]);return{...h,alertMessage:N,recommendedDailyBudget:S,config:j,stagedAlerts:w,currentStage:A,isUsingEmergencyReserve:b,emergencyReserveInfo:v}}Gf.register(Xf,Vf,Rg,Bg,Kf,Qf,Zf,$f,Jf,_g);function dh({expenses:c,persons:o,currencies:d,convertToKRW:u,totalBudget:f,tripName:g,startDate:j,endDate:h}){const[N,S]=m.useState(!1),[w,A]=m.useState(!1),b=N0(c,d,u,f||0,j,h),v=m.useMemo(()=>c.reduce((Q,q)=>Q+u(q.amount,q.currency),0),[c,u]),D=m.useMemo(()=>{const Q=new Map;c.forEach(H=>{const F=Q.get(H.date)||0;Q.set(H.date,F+u(H.amount,H.currency))});const q=Array.from(Q.entries()).sort((H,F)=>H[0].localeCompare(F[0]));return{labels:q.map(([H])=>H.slice(5)),values:q.map(([H,F])=>F)}},[c,u]),x=m.useMemo(()=>{const Q=new Map;c.forEach(H=>{const F=H.category||"other",L=Q.get(F)||0;Q.set(F,L+u(H.amount,H.currency))});const q=Array.from(Q.entries());return{labels:q.map(([H])=>ht[H]?.label||H),values:q.map(([H,F])=>F),colors:["#667eea","#f093fb","#4facfe","#43e97b","#fa709a","#fee140"]}},[c,u]),y=m.useMemo(()=>{const Q=new Map;return c.forEach(q=>{const H=Q.get(q.paidBy)||0;Q.set(q.paidBy,H+u(q.amount,q.currency))}),o.map(q=>({name:q.name,color:q.color,amount:Q.get(q.id)||0}))},[c,o,u]),T=m.useMemo(()=>{const Q=new Map;return c.forEach(q=>{(q.tags||[]).forEach(H=>{Q.set(H,(Q.get(H)||0)+1)})}),Array.from(Q.entries()).sort((q,H)=>H[1]-q[1]).slice(0,5)},[c]),k=c.length>0?Math.round(v/c.length):0,C=c.length>0?Math.max(...c.map(Q=>u(Q.amount,Q.currency))):0,O=f?Math.min(v/f*100,100):0,G={labels:D.labels,datasets:[{label:" ",data:D.values,fill:!0,borderColor:"#667eea",backgroundColor:"rgba(102, 126, 234, 0.1)",tension:.4,pointRadius:4,pointBackgroundColor:"#667eea"}]},P={labels:x.labels,datasets:[{data:x.values,backgroundColor:x.colors,borderWidth:0,hoverOffset:10}]},Z={labels:y.map(Q=>Q.name),datasets:[{label:" ",data:y.map(Q=>Q.amount),backgroundColor:y.map(Q=>Q.color),borderRadius:8}]};return c.length===0?l.jsx("div",{className:"dashboard-tab",children:l.jsxs("div",{className:"empty-state",children:[l.jsx("div",{className:"empty-icon",children:""}),l.jsx("p",{children:"   "})]})}):l.jsxs("div",{className:"dashboard-tab",children:[l.jsxs("section",{className:"summary-cards",children:[l.jsxs("div",{className:"stat-card total",children:[l.jsx("div",{className:"stat-icon",children:""}),l.jsxs("div",{className:"stat-content",children:[l.jsx("span",{className:"stat-label",children:" "}),l.jsxs("span",{className:"stat-value",children:["",v.toLocaleString()]})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:""}),l.jsxs("div",{className:"stat-content",children:[l.jsx("span",{className:"stat-label",children:" "}),l.jsxs("span",{className:"stat-value",children:[c.length,""]})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:""}),l.jsxs("div",{className:"stat-content",children:[l.jsx("span",{className:"stat-label",children:" "}),l.jsxs("span",{className:"stat-value",children:["",k.toLocaleString()]})]})]}),l.jsxs("div",{className:"stat-card",children:[l.jsx("div",{className:"stat-icon",children:""}),l.jsxs("div",{className:"stat-content",children:[l.jsx("span",{className:"stat-label",children:" "}),l.jsxs("span",{className:"stat-value",children:["",Math.round(C).toLocaleString()]})]})]})]}),f&&f>0&&l.jsxs("section",{className:"budget-progress-section",children:[l.jsx("h3",{children:"  "}),l.jsxs("div",{className:"budget-progress-card",children:[l.jsxs("div",{className:"budget-info",children:[l.jsxs("span",{children:[": ",v.toLocaleString()]}),l.jsxs("span",{children:[": ",f.toLocaleString()]})]}),l.jsx("div",{className:"budget-bar",children:l.jsx("div",{className:`budget-fill ${O>=90?"danger":O>=70?"warning":""}`,style:{width:`${O}%`}})}),l.jsx("div",{className:"budget-remaining",children:f-v>=0?` : ${(f-v).toLocaleString()}`:` : ${(v-f).toLocaleString()}`})]})]}),l.jsxs("section",{className:"chart-section",children:[l.jsx("h3",{children:"   "}),l.jsx("div",{className:"chart-container",children:l.jsx(Ug,{data:G,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:Q=>`${Number(Q).toLocaleString()}`}}}}})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("section",{className:"chart-section",children:[l.jsx("h3",{children:"  "}),l.jsx("div",{className:"chart-container doughnut",children:l.jsx(Hg,{data:P,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,usePointStyle:!0}}}}})})]}),l.jsxs("section",{className:"chart-section",children:[l.jsx("h3",{children:"  "}),l.jsx("div",{className:"chart-container",children:l.jsx(Ff,{data:Z,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:Q=>`${(Number(Q)/1e3).toFixed(0)}K`}}}}})})]})]}),T.length>0&&l.jsxs("section",{className:"tag-stats-section",children:[l.jsx("h3",{children:"  "}),l.jsx("div",{className:"tag-list",children:T.map(([Q,q])=>l.jsxs("div",{className:"tag-stat",children:[l.jsxs("span",{className:"tag-name",children:["#",Q]}),l.jsxs("span",{className:"tag-count",children:[q,""]})]},Q))})]}),l.jsxs("section",{className:"flex flex-col md:flex-row gap-3 mt-2",children:[l.jsx("button",{className:"btn-dashboard-action report",onClick:()=>S(!0),children:"  "}),f&&f>0&&l.jsx("button",{className:"btn-dashboard-action budget",onClick:()=>A(!w),children:"  "})]}),w&&f&&f>0&&l.jsx("section",{className:"budget-alert-section",children:l.jsx(b0,{...b,onClose:()=>A(!1)})}),b.alertMessage&&l.jsxs("div",{className:`budget-warning-banner ${b.alertMessage.type}`,children:[l.jsx("span",{children:b.alertMessage.title}),l.jsx("span",{children:b.alertMessage.message})]}),N&&l.jsx(v0,{expenses:c,persons:o,currencies:d,convertToKRW:u,tripName:g,startDate:j,endDate:h,onClose:()=>S(!1)})]})}function mh({currencies:c,onUpdateRate:o,onClose:d}){const[u,f]=m.useState(null),[g,j]=m.useState(""),h=S=>{f(S.code),j(S.rate.toString())},N=()=>{if(u&&g){const S=parseFloat(g);S>0&&o(u,S)}f(null),j("")};return l.jsx("div",{className:"modal-overlay",onClick:d,children:l.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:d,children:""})]}),l.jsx("p",{className:"modal-description",children:"  KRW  . (1  = ? KRW)"}),l.jsx("ul",{className:"currency-list",children:c.map(S=>l.jsxs("li",{className:"currency-item",children:[l.jsxs("div",{className:"currency-info",children:[l.jsx("span",{className:"currency-symbol",children:S.symbol}),l.jsxs("div",{className:"currency-details",children:[l.jsx("span",{className:"currency-code",children:S.code}),l.jsx("span",{className:"currency-name",children:S.name})]})]}),l.jsx("div",{className:"currency-rate",children:u===S.code?l.jsxs("div",{className:"rate-edit",children:[l.jsx("input",{type:"number",className:"input-field rate-input",value:g,onChange:w=>j(w.target.value),onBlur:N,onKeyDown:w=>w.key==="Enter"&&N(),autoFocus:!0,min:"0",step:"0.01"}),l.jsx("span",{className:"rate-unit",children:"KRW"})]}):l.jsxs("button",{className:"rate-display",onClick:()=>h(S),disabled:S.code==="KRW",children:[S.rate.toLocaleString()," KRW"]})})]},S.code))}),l.jsx("div",{className:"modal-footer",children:l.jsx("button",{className:"btn btn-primary",onClick:d,children:""})})]})})}function S0({onEnableDemoMode:c}){return l.jsx("div",{className:"config-error",children:l.jsxs("div",{className:"config-error-content",children:[l.jsx("div",{className:"config-error-icon",children:""}),l.jsx("h1",{children:"Firebase  "}),l.jsx("p",{children:"  Firebase   ."}),c&&l.jsxs("div",{className:"demo-mode-section",children:[l.jsx("button",{className:"btn btn-demo",onClick:c,children:"   "}),l.jsx("p",{className:"demo-hint",children:"Firebase    "})]}),l.jsx("div",{className:"config-divider",children:l.jsx("span",{children:""})}),l.jsxs("div",{className:"config-steps",children:[l.jsx("h3",{children:"Firebase  :"}),l.jsxs("ol",{children:[l.jsxs("li",{children:[l.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",children:"Firebase Console"}),"  "]}),l.jsx("li",{children:"        "}),l.jsxs("li",{children:["  ",l.jsx("code",{children:".env"}),"  "]}),l.jsx("li",{children:"  :"})]}),l.jsx("pre",{className:"config-example",children:`VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abcdef`}),l.jsxs("p",{className:"config-note",children:[" ",l.jsx("code",{children:".env.example"}),"   ."]})]}),l.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.reload(),children:"   "})]})})}class C0 extends m.Component{constructor(d){super(d);bf(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(d){return{hasError:!0,error:d}}componentDidCatch(d,u){this.setState({errorInfo:u}),ue.error("ErrorBoundary caught an error:",d,u),xo(d,{componentStack:u.componentStack,timestamp:new Date().toISOString()}),this.props.onError?.(d,u)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:l.jsx("div",{className:"error-boundary",children:l.jsxs("div",{className:"error-boundary-content",children:[l.jsx("div",{className:"error-icon",children:""}),l.jsx("h2",{children:" "}),l.jsx("p",{children:"   ."}),!1,l.jsxs("div",{className:"error-actions",children:[l.jsx("button",{className:"btn btn-primary",onClick:this.handleRetry,children:" "}),l.jsx("button",{className:"btn btn-secondary",onClick:()=>window.location.reload(),children:" "})]})]})}):this.props.children}}const Uf="app_error_logs",Hf=50;function xo(c,o){const d={name:c.name,message:c.message,stack:c.stack,context:o,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};ue.error("[ErrorLogger]",d);try{const u=JSON.parse(localStorage.getItem(Uf)||"[]");u.unshift(d),u.length>Hf&&u.splice(Hf),localStorage.setItem(Uf,JSON.stringify(u))}catch(u){ue.warn("Failed to save error log to localStorage:",u)}}function E0(){window.onerror=(c,o,d,u,f)=>(xo(f||new Error(String(c)),{source:o,lineno:d,colno:u}),!1),window.onunhandledrejection=c=>{const o=c.reason instanceof Error?c.reason:new Error(String(c.reason));xo(o,{type:"unhandledrejection"})}}const Lf="exchange_rates_cache",qf="exchange_rates_history",zi="exchange_rate_alerts",w0=1440*60*1e3,Yf=3,D0=2e3,T0="https://api.frankfurter.app";function M0(){const[c,o]=m.useState({rates:{KRW:1,USD:1350,EUR:1450,JPY:9,CNY:185,THB:38,VND:.054,PHP:24},lastUpdated:null,loading:!1,error:null,isCacheStale:!1}),[d,u]=m.useState([]),[f,g]=m.useState([]),[j,h]=m.useState(new Map),[N,S]=m.useState(new Map),w=m.useRef([]);m.useEffect(()=>{w.current=f},[f]),m.useEffect(()=>{const q=localStorage.getItem(Lf);if(q)try{const{rates:L,lastUpdated:ne}=JSON.parse(q),ce=new Date(ne).getTime(),ie=Date.now()-ce>=w0;o(R=>({...R,rates:L,lastUpdated:ne,isCacheStale:ie}))}catch(L){ue.error("Failed to parse cached rates:",L)}const H=localStorage.getItem(qf);if(H)try{u(JSON.parse(H))}catch(L){ue.error("Failed to parse history:",L)}const F=localStorage.getItem(zi);if(F)try{g(JSON.parse(F))}catch(L){ue.error("Failed to parse alerts:",L)}},[]),m.useEffect(()=>{const q=()=>{c.isCacheStale&&!c.loading&&A()};return window.addEventListener("online",q),()=>window.removeEventListener("online",q)},[c.isCacheStale,c.loading]);const A=m.useCallback(async(q="KRW")=>{o(F=>({...F,loading:!0,error:null}));let H=0;for(;H<Yf;)try{const F=await fetch(`${T0}/latest?from=EUR`);if(!F.ok)throw new Error("Failed to fetch exchange rates");const ne=(await F.json()).rates,ce=ne.KRW||1450,ie={KRW:1,USD:ce/(ne.USD||1.08),EUR:ce,JPY:ce/(ne.JPY||160),CNY:ce/(ne.CNY||7.8),THB:ce/(ne.THB||38),VND:ce/(ne.VND||26e3),PHP:ce/(ne.PHP||61)},R=new Date().toISOString();o({rates:ie,lastUpdated:R,loading:!1,error:null,isCacheStale:!1}),localStorage.setItem(Lf,JSON.stringify({rates:ie,lastUpdated:R}));const te=Object.entries(ie).map(([K,ee])=>({code:K,rate:ee,timestamp:R}));return u(K=>{const ee=[...K,...te].slice(-500);return localStorage.setItem(qf,JSON.stringify(ee)),ee}),b(ie),!0}catch(F){if(H++,H<Yf){await new Promise(ne=>setTimeout(ne,D0*H));continue}const L=F instanceof Error?F.message:"Unknown error";return o(ne=>({...ne,loading:!1,error:`   (${H} ).   . (${L})`,isCacheStale:!0})),!1}return!1},[]),b=m.useCallback(q=>{w.current.forEach(H=>{if(!H.enabled)return;const F=q[H.fromCurrency]||1,L=q[H.toCurrency]||1,ne=F/L;(H.condition==="above"?ne>=H.targetRate:ne<=H.targetRate)&&"Notification"in window&&Notification.permission==="granted"&&new Notification(" ",{body:`${H.fromCurrency}/${H.toCurrency}  ${H.targetRate}${H.condition==="above"?" ":" "}.`,icon:"/icon-192.png"})})},[]),v=m.useCallback(async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?!1:await Notification.requestPermission()==="granted":!1,[]),D=m.useCallback(q=>{v();const H=Math.random().toString(36).substring(2,11),F={...q,id:H};return g(L=>{const ne=[...L,F];return localStorage.setItem(zi,JSON.stringify(ne)),ne}),H},[v]),x=m.useCallback(q=>{g(H=>{const F=H.filter(L=>L.id!==q);return localStorage.setItem(zi,JSON.stringify(F)),F})},[]),y=m.useCallback(q=>{g(H=>{const F=H.map(L=>L.id===q?{...L,enabled:!L.enabled}:L);return localStorage.setItem(zi,JSON.stringify(F)),F})},[]),T=m.useCallback((q,H,F)=>{const L=c.rates[H]||1,ne=c.rates[F]||1;if(ne===0||!Number.isFinite(ne))return 0;const ce=q*L/ne;return Number.isFinite(ce)?ce:0},[c.rates]),k=m.useCallback((q,H)=>{const F=Date.now()-H*24*60*60*1e3;return d.filter(L=>L.code===q&&new Date(L.timestamp).getTime()>=F)},[d]),C=m.useCallback((q,H=7)=>{const F=k(q,H);if(F.length<2)return null;const L=F[0].rate,ne=F[F.length-1].rate;if(L===0||!Number.isFinite(L))return null;const ce=(ne-L)/L*100;return Number.isFinite(ce)?ce:null},[k]),O=m.useCallback((q,H)=>{const F=k(q,H);return F.length===0?null:F.reduce((ne,ce)=>ne+ce.rate,0)/F.length},[k]),G=m.useCallback(q=>{const H=c.rates[q];if(!H)return null;const F=C(q,7);C(q,30);const L=O(q,7),ne=O(q,30);if(F===null||L===null)return null;let ce="stable";F>1?ce="up":F<-1&&(ce="down");let ie="neutral",R="";q!=="KRW"&&(H<(ne||H)?(ie="buy",R=`  30 (${Math.round(ne||0).toLocaleString()}) .  !`):ce==="down"?(ie="wait",R="  .   ."):ce==="up"&&(ie="buy",R="  .    ."));const te={currency:q,trend:ce,changePercent:F,movingAverage7d:L,movingAverage30d:ne||H,recommendation:ie,reason:R};return S(K=>{const ee=new Map(K);return ee.set(q,te),ee}),te},[c.rates,C,O]),P=m.useCallback(()=>{const q=["USD","EUR","JPY","CNY","THB","VND","PHP"],H=[];return q.forEach(F=>{const L=G(F);L&&H.push(L)}),H},[G]),Z=m.useCallback(()=>P().filter(H=>H.recommendation==="buy"),[P]),Q=m.useCallback(q=>{const H=c.rates[q],F=k(q,30);if(!H||F.length<7)return null;const L=F.length,ne=(L-1)/2,ce=F.reduce((be,$)=>be+$.rate,0)/L;let ie=0,R=0;F.forEach((be,$)=>{ie+=($-ne)*(be.rate-ce),R+=($-ne)**2});const te=R!==0?ie/R:0,K=ce-te*ne,ee=K+te*(L+7),fe=K+te*(L+30),xe=Math.min(100,Math.round(L/30*100)),Ce={currency:q,currentRate:H,predictedRate7d:Math.max(0,ee),predictedRate30d:Math.max(0,fe),confidence:xe,updatedAt:new Date().toISOString()};return h(be=>{const $=new Map(be);return $.set(q,Ce),$}),Ce},[c.rates,k]);return{...c,history:d,alerts:f,predictions:j,trendAnalysis:N,fetchRates:A,convert:T,addAlert:D,removeAlert:x,toggleAlert:y,getHistoryByPeriod:k,getChangeRate:C,calculateMovingAverage:O,analyzeTrend:G,analyzeAllTrends:P,getFavorableCurrencies:Z,predictRate:Q}}function fh({onClose:c}){const{lastUpdated:o,loading:d,error:u,fetchRates:f,convert:g,getChangeRate:j}=M0(),[h,N]=m.useState("10000"),[S,w]=m.useState("KRW"),[A,b]=m.useState("USD"),v=m.useMemo(()=>{const C=parseFloat(h)||0;return g(C,S,A)},[h,S,A,g]),D=m.useMemo(()=>g(1,S,A),[S,A,g]),x=j(A,7),y=()=>{w(A),b(S)},T=(C,O)=>{const G=Wt.find(Z=>Z.code===O),P=["JPY","KRW","VND"].includes(O)?0:2;return`${G?.symbol||""}${C.toLocaleString("ko-KR",{minimumFractionDigits:P,maximumFractionDigits:P})}`},k=C=>C?new Date(C).toLocaleString("ko-KR"):"-";return l.jsx("div",{className:"calculator-overlay",onClick:c,children:l.jsxs("div",{className:"calculator-panel",onClick:C=>C.stopPropagation(),children:[l.jsxs("header",{className:"calculator-header",children:[l.jsx("h2",{children:"  "}),l.jsx("button",{className:"btn-close",onClick:c,children:""})]}),l.jsxs("div",{className:"calculator-content",children:[l.jsxs("div",{className:"rate-info",children:[l.jsxs("div",{className:"rate-display",children:[l.jsx("span",{className:"rate-label",children:" "}),l.jsxs("span",{className:"rate-value",children:["1 ",S," = ",D.toFixed(4)," ",A]})]}),x!==null&&l.jsxs("div",{className:`rate-change ${x>=0?"positive":"negative"}`,children:[x>=0?"":""," 7 ",x>=0?"+":"",x.toFixed(2),"%"]}),l.jsxs("div",{className:"last-updated",children:[" : ",k(o)]}),l.jsx("button",{className:"btn btn-refresh",onClick:()=>f(),disabled:d,children:d?"  ...":" "}),u&&l.jsxs("div",{className:"rate-error",children:[" ",u]})]}),l.jsxs("div",{className:"conversion-section",children:[l.jsxs("div",{className:"currency-input-group",children:[l.jsx("label",{children:" "}),l.jsxs("div",{className:"input-with-select",children:[l.jsx("input",{type:"number",value:h,onChange:C=>N(C.target.value),className:"input-field",min:"0"}),l.jsx("select",{value:S,onChange:C=>w(C.target.value),className:"currency-select",children:Wt.map(C=>l.jsxs("option",{value:C.code,children:[C.symbol," ",C.code]},C.code))})]})]}),l.jsx("button",{className:"btn-swap",onClick:y,title:" ",children:""}),l.jsxs("div",{className:"currency-input-group",children:[l.jsx("label",{children:" "}),l.jsxs("div",{className:"input-with-select",children:[l.jsx("div",{className:"result-display",children:T(v,A)}),l.jsx("select",{value:A,onChange:C=>b(C.target.value),className:"currency-select",children:Wt.map(C=>l.jsxs("option",{value:C.code,children:[C.symbol," ",C.code]},C.code))})]})]})]}),l.jsxs("div",{className:"quick-conversions",children:[l.jsx("h3",{children:" "}),l.jsx("div",{className:"quick-list",children:[1e3,5e3,1e4,5e4,1e5].map(C=>l.jsx("button",{className:"quick-btn",onClick:()=>N(C.toString()),children:T(C,S)},C))})]}),l.jsxs("div",{className:"all-rates",children:[l.jsxs("h3",{children:["  (",S," )"]}),l.jsxs("table",{className:"rates-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:""}),l.jsx("th",{children:""}),l.jsx("th",{children:"7 "})]})}),l.jsx("tbody",{children:Wt.filter(C=>C.code!==S).map(C=>{const O=g(1,S,C.code),G=j(C.code,7);return l.jsxs("tr",{children:[l.jsxs("td",{children:[l.jsxs("span",{className:"currency-name",children:[C.symbol," ",C.code]}),l.jsx("span",{className:"currency-full-name",children:C.name})]}),l.jsx("td",{className:"rate-cell",children:O.toFixed(4)}),l.jsx("td",{className:`change-cell ${G!==null&&G>=0?"positive":"negative"}`,children:G!==null?`${G>=0?"+":""}${G.toFixed(2)}%`:"-"})]},C.code)})})]})]})]})]})})}function A0(){const[c,o]=m.useState({isSupported:!1,permission:"default",isSubscribed:!1});m.useEffect(()=>{const j="Notification"in window&&"serviceWorker"in navigator;o(h=>({...h,isSupported:j,permission:j?Notification.permission:"denied"})),j&&"PushManager"in window&&navigator.serviceWorker.ready.then(h=>{h.pushManager.getSubscription().then(N=>{o(S=>({...S,isSubscribed:!!N}))})})},[]);const d=m.useCallback(async()=>{if(!c.isSupported)return!1;try{const j=await Notification.requestPermission();return o(h=>({...h,permission:j})),j==="granted"}catch(j){return ue.error("Failed to request notification permission:",j),!1}},[c.isSupported]),u=m.useCallback(async j=>{if(!c.isSupported||c.permission!=="granted")return!1;try{return await(await navigator.serviceWorker.ready).showNotification(j.title,{body:j.body,icon:j.icon||"/icon-192.png",badge:"/icon-192.png",tag:j.tag||"expense-notification",data:j.data}),!0}catch(h){return ue.error("Failed to show notification:",h),!1}},[c.isSupported,c.permission]),f=m.useCallback(async()=>{if(!c.isSupported||c.permission!=="granted")return null;try{const j=await navigator.serviceWorker.ready,h=void 0;if(!h)return ue.warn("VAPID Public Key is missing. Push notifications disabled."),null;const N=await j.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:k0(h)});return o(S=>({...S,isSubscribed:!0})),N}catch(j){return ue.error("Failed to subscribe to push:",j),null}},[c.isSupported,c.permission]),g=m.useCallback(async()=>{try{const h=await(await navigator.serviceWorker.ready).pushManager.getSubscription();return h?(await h.unsubscribe(),o(N=>({...N,isSubscribed:!1})),!0):!1}catch(j){return ue.error("Failed to unsubscribe from push:",j),!1}},[]);return{...c,requestPermission:d,showNotification:u,subscribe:f,unsubscribe:g}}function k0(c){const o="=".repeat((4-c.length%4)%4),d=(c+o).replace(/-/g,"+").replace(/_/g,"/"),u=window.atob(d),f=new Uint8Array(u.length);for(let g=0;g<u.length;++g)f[g]=u.charCodeAt(g);return f}function O0(c,o){return{...{expense_added:{title:"  ",body:`${o.userName} "${o.description}"  `,tag:"expense-added"},expense_updated:{title:" ",body:`"${o.description}"  `,tag:"expense-updated"},expense_deleted:{title:" ",body:`"${o.description}"  `,tag:"expense-deleted"},settlement_completed:{title:" ",body:`${o.fromName} ${o.toName} ${o.amount.toLocaleString()}  `,tag:"settlement-completed"},member_joined:{title:"  ",body:`${o.userName}  `,tag:"member-joined"},comment_added:{title:" ",body:`${o.userName}  : "${o.content}"`,tag:"comment-added"}}[c],data:{type:c,...o}}}const z0={expense_added:{icon:"",label:"  "},expense_updated:{icon:"",label:" "},expense_deleted:{icon:"",label:" "},settlement_completed:{icon:"",label:" "},member_joined:{icon:"",label:"  "},comment_added:{icon:"",label:" "}};function R0(){const{isSupported:c,permission:o,requestPermission:d,showNotification:u}=A0(),[f,g]=m.useState(()=>{const v=localStorage.getItem("notification_preferences");if(v)try{return JSON.parse(v)}catch{}return{expense_added:!0,expense_updated:!0,expense_deleted:!0,settlement_completed:!0,member_joined:!0,comment_added:!0}}),[j,h]=m.useState(!1),N=async()=>{h(!0);try{await d()}finally{h(!1)}},S=v=>{const D={...f,[v]:!f[v]};g(D),localStorage.setItem("notification_preferences",JSON.stringify(D))},w=async()=>{const v=O0("expense_added",{userName:" ",description:" "});await u(v)};if(!c)return l.jsx("div",{className:"notification-settings",children:l.jsxs("div",{className:"notification-not-supported",children:[l.jsx("div",{className:"icon",children:""}),l.jsx("h3",{children:" "}),l.jsx("p",{children:"      ."})]})});const b=(()=>{switch(o){case"granted":return{icon:"",iconClass:"enabled",title:" ",subtitle:"    "};case"denied":return{icon:"",iconClass:"disabled",title:" ",subtitle:"   "};default:return{icon:"",iconClass:"pending",title:"  ",subtitle:"   "}}})();return l.jsxs("div",{className:"notification-settings",children:[l.jsx("h3",{children:"  "}),l.jsx("p",{children:"     "}),l.jsxs("div",{className:"notification-status",children:[l.jsx("div",{className:`status-icon ${b.iconClass}`,children:b.icon}),l.jsxs("div",{className:"status-text",children:[l.jsx("strong",{children:b.title}),l.jsx("span",{children:b.subtitle})]})]}),o==="default"&&l.jsx("button",{className:"notification-permission-btn enable",onClick:N,disabled:j,children:j?" ...":"  "}),o==="granted"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"notification-types",children:[l.jsx("h4",{children:" "}),l.jsx("div",{className:"notification-type-list",children:Object.entries(z0).map(([v,{icon:D,label:x}])=>l.jsxs("div",{className:"notification-type-item",children:[l.jsxs("label",{children:[l.jsx("span",{children:D}),l.jsx("span",{children:x})]}),l.jsxs("label",{className:"toggle-switch",children:[l.jsx("input",{type:"checkbox",checked:f[v],onChange:()=>S(v)}),l.jsx("span",{className:"toggle-slider"})]})]},v))})]}),l.jsx("button",{className:"test-notification-btn",onClick:w,children:"   "})]}),o==="denied"&&l.jsx("div",{className:"notification-status",style:{background:"rgba(239, 68, 68, 0.1)"},children:l.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:"  .         ."})})]})}function B0(){const[c,o]=m.useState({isInstallable:!1,isInstalled:!1,isOnline:navigator.onLine,updateAvailable:!1}),[d,u]=m.useState(null);return m.useEffect(()=>{const j=A=>{A.preventDefault(),u(A),o(b=>({...b,isInstallable:!0}))},h=()=>{u(null),o(A=>({...A,isInstallable:!1,isInstalled:!0}))},N=()=>o(A=>({...A,isOnline:!0})),S=()=>o(A=>({...A,isOnline:!1}));return(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0)&&o(A=>({...A,isInstalled:!0})),window.addEventListener("beforeinstallprompt",j),window.addEventListener("appinstalled",h),window.addEventListener("online",N),window.addEventListener("offline",S),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(A=>{A.addEventListener("updatefound",()=>{const b=A.installing;b&&b.addEventListener("statechange",()=>{b.state==="installed"&&navigator.serviceWorker.controller&&o(v=>({...v,updateAvailable:!0}))})})}).catch(A=>{ue.error("Service Worker registration failed:",A)}),()=>{window.removeEventListener("beforeinstallprompt",j),window.removeEventListener("appinstalled",h),window.removeEventListener("online",N),window.removeEventListener("offline",S)}},[]),{...c,promptInstall:async()=>{if(!d)return!1;try{await d.prompt();const{outcome:j}=await d.userChoice;return j==="accepted"?(o(h=>({...h,isInstallable:!1,isInstalled:!0})),u(null),!0):!1}catch(j){return ue.error("Install prompt failed:",j),!1}},updateApp:()=>{"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(j=>{j.waiting&&(j.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())}).catch(j=>{ue.error("Failed to update app:",j)})}}}function _0(){const{isInstallable:c,isInstalled:o,promptInstall:d}=B0();return o?l.jsxs("div",{className:"install-status installed",children:[l.jsx("span",{className:"icon",children:""}),l.jsx("span",{children:"  "})]}):c?l.jsxs("button",{className:"btn btn-install-full",onClick:d,children:[l.jsx("span",{className:"icon",children:""}),l.jsx("span",{children:" "})]}):l.jsxs("div",{className:"install-status unavailable",children:[l.jsx("span",{className:"icon",children:""}),l.jsx("span",{children:"      "})]})}function hh({onClose:c,deadline:o,onUpdateDeadline:d}){const[u,f]=m.useState("general"),{theme:g,setTheme:j}=ah(),{isDemoMode:h,disableDemoMode:N}=Hi(),{locale:S,setLocale:w}=mx();return l.jsx("div",{className:"settings-overlay",onClick:c,children:l.jsxs("div",{className:"settings-panel",onClick:A=>A.stopPropagation(),children:[l.jsxs("header",{className:"settings-header",children:[l.jsx("h2",{children:" "}),l.jsx("button",{className:"btn-close",onClick:c,children:""})]}),l.jsxs("nav",{className:"settings-nav",children:[l.jsx("button",{className:`settings-nav-btn ${u==="general"?"active":""}`,onClick:()=>f("general"),children:" "}),l.jsx("button",{className:`settings-nav-btn ${u==="notifications"?"active":""}`,onClick:()=>f("notifications"),children:" "}),l.jsx("button",{className:`settings-nav-btn ${u==="about"?"active":""}`,onClick:()=>f("about"),children:" "})]}),l.jsxs("div",{className:"settings-content",children:[u==="general"&&l.jsxs("div",{className:"settings-section",children:[l.jsx("h3",{children:" "}),l.jsx("div",{className:"language-options",children:Object.entries(fx).map(([A,b])=>l.jsxs("button",{className:`language-option ${S===A?"active":""}`,onClick:()=>w(A),children:[l.jsxs("span",{className:"lang-flag",children:[A==="ko"&&"",A==="en"&&"",A==="ja"&&"",A==="zh"&&""]}),l.jsx("span",{children:b})]},A))}),l.jsx("h3",{children:" "}),l.jsxs("div",{className:"theme-options",children:[l.jsx("button",{className:`theme-option ${g==="light"?"active":""}`,onClick:()=>j("light"),children:" "}),l.jsx("button",{className:`theme-option ${g==="dark"?"active":""}`,onClick:()=>j("dark"),children:" "}),l.jsx("button",{className:`theme-option ${g==="system"?"active":""}`,onClick:()=>j("system"),children:" "})]}),l.jsx("h3",{children:"  "}),l.jsx(_0,{}),h&&l.jsxs(l.Fragment,{children:[l.jsx("h3",{children:"  "}),l.jsxs("div",{className:"demo-mode-info",children:[l.jsx("p",{children:"    .    ."}),l.jsx("button",{className:"btn btn-danger",onClick:N,children:"    "})]})]}),d&&l.jsxs("div",{className:"settings-section",children:[l.jsx("h3",{children:"   "}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{children:""}),l.jsx("input",{type:"date",className:"input-field",value:o?.date||"",min:new Date().toISOString().split("T")[0],onChange:A=>{const b=A.target.value;d({date:b,reminderDays:o?.reminderDays||[7,3,1],notified:o?.notified||[]})}}),l.jsxs("p",{className:"description-text",children:[" ",o?.reminderDays?.join(", "),"   ."]})]})]})]}),u==="notifications"&&l.jsx(R0,{}),u==="about"&&l.jsxs("div",{className:"settings-section about-section",children:[l.jsx("div",{className:"about-logo",children:""}),l.jsx("h3",{children:" "}),l.jsx("p",{className:"version",children:" 2.0.0"}),l.jsxs("div",{className:"about-features",children:[l.jsx("h4",{children:" "}),l.jsxs("ul",{children:[l.jsx("li",{children:"   "}),l.jsx("li",{children:"   "}),l.jsx("li",{children:"   "}),l.jsx("li",{children:" QR "}),l.jsx("li",{children:"  "}),l.jsx("li",{children:"  "})]})]}),l.jsxs("div",{className:"about-links",children:[l.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",children:" GitHub"}),l.jsx("a",{href:"mailto:support@example.com",children:" "})]}),l.jsx("p",{className:"copyright",children:" 2024-2026  "})]})]})]})})}function ph({startDate:c,endDate:o,tripName:d}){const u=m.useMemo(()=>{if(!c&&!o)return null;const f=new Date;f.setHours(0,0,0,0);const g=c?new Date(c):null,j=o?new Date(o):null;if(g&&g.setHours(0,0,0,0),j&&j.setHours(0,0,0,0),g&&f<g){const h=g.getTime()-f.getTime();return{status:"before",label:`D-${Math.ceil(h/(1e3*60*60*24))}`,detail:"",color:"#667eea"}}if(g&&j&&f>=g&&f<=j){const h=f.getTime()-g.getTime(),N=Math.floor(h/(1e3*60*60*24))+1,S=Math.floor((j.getTime()-g.getTime())/(1e3*60*60*24))+1;return{status:"during",label:`DAY ${N}`,detail:`${S} `,color:"#43e97b"}}if(j&&f>j){const h=f.getTime()-j.getTime(),N=Math.floor(h/(1e3*60*60*24));return{status:"after",label:"",detail:N===0?"":`${N} `,color:"#fa709a"}}if(g&&!j){if(f.getTime()===g.getTime())return{status:"during",label:"DAY 1",detail:" ",color:"#43e97b"};if(f>g){const h=f.getTime()-g.getTime();return{status:"during",label:`DAY ${Math.floor(h/(1e3*60*60*24))+1}`,detail:" ",color:"#43e97b"}}}return null},[c,o]);return u?l.jsxs("div",{className:`trip-countdown ${u.status}`,style:{"--countdown-color":u.color},children:[l.jsx("div",{className:"countdown-main",children:l.jsx("span",{className:"countdown-label",children:u.label})}),l.jsx("span",{className:"countdown-detail",children:u.detail})]}):null}const gh=({tabs:c,activeTab:o,onTabChange:d,badges:u={}})=>l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg border-t border-slate-200 dark:border-slate-800 pb-[env(safe-area-inset-bottom)] md:hidden transition-all duration-300",children:l.jsx("div",{className:"flex justify-around items-center h-16 max-w-lg mx-auto px-2",children:c.map(f=>{const g=o===f.id;return l.jsxs("button",{onClick:()=>d(f.id),className:`tab-btn relative flex flex-col items-center justify-center w-full h-full space-y-1 transition-all duration-200 ${g?"text-primary dark:text-primary-light":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[l.jsx("span",{className:`text-2xl transition-transform duration-200 ${g?"scale-110 -translate-y-0.5":""}`,children:f.icon}),l.jsx("span",{className:`text-[10px] font-medium transition-all duration-200 ${g?"opacity-100 font-bold":"opacity-80"}`,children:f.label}),g&&l.jsx("span",{className:"absolute top-1 w-1 h-1 bg-current rounded-full"}),u[f.id]>0&&l.jsx("span",{className:"absolute top-2 right-1/4 min-w-[16px] h-[16px] flex items-center justify-center text-[10px] font-bold text-white bg-red-500 rounded-full px-1 shadow-sm animate-pulse",children:u[f.id]})]},f.id)})})});function xh({tripId:c,deadline:o,settlements:d,persons:u,onUpdateDeadline:f}){const[g,j]=m.useState([]),[h,N]=m.useState(null),[S,w]=m.useState(!1),A=m.useMemo(()=>d.filter(y=>!y.completed&&y.amount>0).map(y=>({from:u.find(T=>T.id===y.from)?.name||y.from,to:u.find(T=>T.id===y.to)?.name||y.to,amount:y.amount})),[d,u]);m.useEffect(()=>{if(!o?.date){N(null),w(!1);return}const y=()=>{const k=new Date;k.setHours(0,0,0,0);const C=new Date(o.date);C.setHours(0,0,0,0);const O=C.getTime()-k.getTime(),G=Math.ceil(O/(1e3*60*60*24));N(G),w(G<0)};y();const T=setInterval(y,3600*1e3);return()=>clearInterval(T)},[o?.date]),m.useEffect(()=>{if(!o||h===null)return;(async()=>{const T=new Date().toISOString().split("T")[0];if(o.notified?.includes(T))return;if((o.reminderDays?.includes(h)||S&&h%3===0)&&A.length>0){const C=S?`  ${Math.abs(h)} ! ${A.length}  .`:h===0?`  ! ${A.length}  .`:`  D-${h}! ${A.length}  .`;"Notification"in window&&Notification.permission==="granted"&&new Notification("  ",{body:C,icon:"/icon-192.png",tag:`settlement-deadline-${c}`});const O={id:`notif-${Date.now()}`,type:S?"overdue":"reminder",daysUntil:h,message:C,timestamp:new Date().toISOString()};j(G=>[O,...G].slice(0,10)),f&&f({...o,notified:[...o.notified||[],T]})}})()},[h,o,S,A.length,c,f]);const b=m.useCallback((y,T=[7,3,1])=>{f&&f({date:y,reminderDays:T,notified:[]})},[f]),v=m.useCallback(()=>{f&&f({date:"",reminderDays:[],notified:[]})},[f]),D=m.useCallback(async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?(ue.warn("  ."),!1):await Notification.requestPermission()==="granted":(ue.warn("    ."),!1),[]),x=m.useCallback(()=>h===null?null:S?` ${Math.abs(h)} `:h===0?" ":h===1?" ":`D-${h}`,[h,S]);return{daysUntilDeadline:h,isOverdue:S,notifications:g,unsettledParticipants:A,deadlineText:x(),setDeadline:b,clearDeadline:v,requestNotificationPermission:D}}function U0({conflicts:c,onResolve:o,onResolveAll:d,onClose:u}){if(c.length===0)return null;const f=h=>new Date(h).toLocaleString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=h=>{switch(h){case"expense":return"";case"person":return"";case"settlement":return"";default:return h}},j=h=>{switch(h){case"add":return"";case"update":return"";case"delete":return"";default:return h}};return l.jsx("div",{className:"sync-conflict-overlay",onClick:u,children:l.jsxs("div",{className:"sync-conflict-modal",onClick:h=>h.stopPropagation(),children:[l.jsxs("div",{className:"sync-conflict-header",children:[l.jsx("h2",{children:"   "}),l.jsxs("p",{className:"sync-conflict-subtitle",children:["      .",l.jsx("br",{}),"     ."]})]}),l.jsx("div",{className:"sync-conflict-list",children:c.map(h=>l.jsxs("div",{className:`sync-conflict-item ${h.resolved?"resolved":""}`,children:[l.jsxs("div",{className:"conflict-info",children:[l.jsxs("span",{className:"conflict-type",children:[g(h.localItem.type)," - ",j(h.localItem.action)]}),l.jsxs("span",{className:"conflict-time",children:[": ",f(h.localItem.timestamp)]})]}),l.jsxs("div",{className:"conflict-comparison",children:[l.jsxs("div",{className:"conflict-local",children:[l.jsx("h4",{children:"   ()"}),l.jsx("pre",{children:JSON.stringify(h.localItem.data,null,2)})]}),l.jsx("div",{className:"conflict-divider",children:"VS"}),l.jsxs("div",{className:"conflict-remote",children:[l.jsx("h4",{children:" "}),l.jsx("pre",{children:JSON.stringify(h.remoteData,null,2)})]})]}),!h.resolved&&l.jsxs("div",{className:"conflict-actions",children:[l.jsx("button",{className:"btn btn-local",onClick:()=>o(h.id,"local"),children:"  "}),l.jsx("button",{className:"btn btn-remote",onClick:()=>o(h.id,"remote"),children:"  "})]}),h.resolved&&l.jsxs("div",{className:"conflict-resolved-badge",children:[" ",h.resolution==="local"?"":"","  "]})]},h.id))}),l.jsxs("div",{className:"sync-conflict-footer",children:[l.jsxs("div",{className:"bulk-actions",children:[l.jsx("button",{className:"btn btn-secondary",onClick:()=>d("local"),children:"  "}),l.jsx("button",{className:"btn btn-secondary",onClick:()=>d("remote"),children:"  "})]}),l.jsx("button",{className:"btn btn-primary",onClick:u,children:""})]})]})})}const Ui=[{id:"participants",label:"",icon:""},{id:"expenses",label:"",icon:""},{id:"settlement",label:"",icon:""},{id:"dashboard",label:"",icon:""}];function H0(){const c=sh(),{currentTrip:o,setCurrentTrip:d}=c,[u,f]=m.useState("participants"),[g,j]=m.useState(!1),[h,N]=m.useState(!1),[S,w]=m.useState(!1),{disableDemoMode:A}=Hi(),b=c.calculateSettlements(),{deadlineText:v}=xh({tripId:o?.id||"",deadline:o?.settlementDeadline,settlements:b,persons:c.persons,onUpdateDeadline:c.updateDeadline});if(!o)return l.jsx(Yx,{onSelectTrip:d});const D=()=>{d(null)};return l.jsxs("div",{className:"app",children:[l.jsx("header",{className:"app-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("button",{className:"btn-back",onClick:D,children:" "}),l.jsxs("div",{className:"header-title",children:[l.jsx("h1",{children:o?.name}),l.jsxs("div",{className:"header-badges",children:[l.jsx(ph,{startDate:o?.startDate,endDate:o?.endDate}),v&&l.jsx("span",{className:"deadline-badge",children:v}),l.jsx("div",{className:"demo-badge",children:" "})]})]}),l.jsxs("div",{className:"header-actions",children:[l.jsx(Yi,{}),l.jsx("button",{className:"btn-header",onClick:()=>N(!0),title:" ","data-tooltip":" ",children:""}),l.jsx("button",{className:"btn-header",onClick:()=>j(!0),title:" ","data-tooltip":" ",children:""}),l.jsx("button",{className:"btn-header",onClick:()=>w(!0),title:"","data-tooltip":"",children:""}),l.jsx("button",{className:"btn-header btn-exit-demo",onClick:A,title:" ","data-tooltip":" ",children:""})]})]})}),l.jsx("nav",{className:"tab-nav hidden md:flex",children:Ui.map(x=>l.jsxs("button",{className:`tab-btn ${u===x.id?"active":""}`,onClick:()=>f(x.id),children:[l.jsx("span",{className:"tab-icon",children:x.icon}),l.jsx("span",{className:"tab-label",children:x.label}),x.id==="settlement"&&b.length>0&&l.jsx("span",{className:"tab-badge",children:b.length})]},x.id))}),l.jsx("main",{className:"app-main",children:l.jsxs("div",{className:"tab-content",children:[u==="participants"&&l.jsx(ih,{persons:c.persons,expenses:c.expenses,onAddPerson:c.addPerson,onRemovePerson:c.removePerson,onUpdatePerson:c.updatePerson}),u==="expenses"&&l.jsx(ch,{persons:c.persons,expenses:c.expenses,currencies:c.currencies,onAddExpense:c.addExpense,onRemoveExpense:c.removeExpense,onUpdateExpense:c.updateExpense,onUploadReceipt:c.uploadReceipt,convertToKRW:c.convertToKRW,getExpensesByCategory:c.getExpensesByCategory,getExpensesByDate:c.getExpensesByDate,getExpensesByPerson:c.getExpensesByPerson}),u==="settlement"&&l.jsx(uh,{persons:c.persons,settlements:b,expenses:c.expenses,currencies:c.currencies,getTotalByPerson:c.getTotalByPerson,convertToKRW:c.convertToKRW,onMarkComplete:c.markSettlementComplete,onMarkIncomplete:c.markSettlementIncomplete,onPartialPay:c.partialPay}),u==="dashboard"&&l.jsx(dh,{expenses:c.expenses,persons:c.persons,currencies:c.currencies,convertToKRW:c.convertToKRW,totalBudget:o?.totalBudget})]})}),g&&l.jsx(mh,{currencies:c.currencies,onUpdateRate:c.updateCurrencyRate,onClose:()=>j(!1)}),h&&l.jsx(fh,{onClose:()=>N(!1)}),S&&l.jsx(hh,{onClose:()=>w(!1),deadline:o?.settlementDeadline,onUpdateDeadline:c.updateDeadline}),l.jsx(gh,{tabs:Ui,activeTab:u,onTabChange:f,badges:{settlement:b.length}})]})}function L0(){const{currentTrip:c,setCurrentTrip:o}=Li(),[d,u]=m.useState("participants"),[f,g]=m.useState(!1),[j,h]=m.useState(!1),[N,S]=m.useState(!1),w=xx(),A=w.calculateSettlements(),{state:b,resolveConflict:v}=nh(),{showToast:D}=oh(),{deadlineText:x}=xh({tripId:c?.id||"",deadline:c?.settlementDeadline,settlements:A,persons:w.persons,onUpdateDeadline:w.updateDeadline}),y=()=>{o(null)},T=()=>{c?.inviteCode&&(navigator.clipboard.writeText(c.inviteCode),D({type:"success",title:"  ",message:c.inviteCode}))};return w.loading?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:"  ..."})]}):l.jsxs("div",{className:"app",children:[l.jsx("header",{className:"app-header",children:l.jsxs("div",{className:"header-content",children:[l.jsx("button",{className:"btn-back",onClick:y,children:" "}),l.jsxs("div",{className:"header-title",children:[l.jsx("h1",{children:c?.name}),l.jsxs("div",{className:"header-badges",children:[l.jsx(ph,{startDate:c?.startDate,endDate:c?.endDate}),x&&l.jsx("span",{className:"deadline-badge",children:x}),l.jsxs("button",{className:"invite-code-btn",onClick:T,children:[" ",c?.inviteCode]})]})]}),l.jsxs("div",{className:"header-actions",children:[l.jsx(Yi,{}),l.jsx("button",{className:"btn-header",onClick:()=>h(!0),title:" ","data-tooltip":" ",children:""}),l.jsx("button",{className:"btn-header",onClick:()=>g(!0),title:" ","data-tooltip":" ",children:""}),l.jsx("button",{className:"btn-header",onClick:()=>S(!0),title:"","data-tooltip":"",children:""})]})]})}),l.jsx("nav",{className:"tab-nav hidden md:flex",children:Ui.map(k=>l.jsxs("button",{className:`tab-btn ${d===k.id?"active":""}`,onClick:()=>u(k.id),children:[l.jsx("span",{className:"tab-icon",children:k.icon}),l.jsx("span",{className:"tab-label",children:k.label}),k.id==="settlement"&&A.length>0&&l.jsx("span",{className:"tab-badge",children:A.length})]},k.id))}),l.jsx("main",{className:"app-main",children:l.jsxs("div",{className:"tab-content",children:[d==="participants"&&l.jsx(ih,{persons:w.persons,expenses:w.expenses,onAddPerson:w.addPerson,onRemovePerson:w.removePerson,onUpdatePerson:w.updatePerson}),d==="expenses"&&l.jsx(ch,{persons:w.persons,expenses:w.expenses,currencies:w.currencies,onAddExpense:w.addExpense,onRemoveExpense:w.removeExpense,onUpdateExpense:w.updateExpense,onUploadReceipt:w.uploadReceipt,convertToKRW:w.convertToKRW,getExpensesByCategory:w.getExpensesByCategory,getExpensesByDate:w.getExpensesByDate,getExpensesByPerson:w.getExpensesByPerson}),d==="settlement"&&l.jsx(uh,{persons:w.persons,settlements:A,expenses:w.expenses,currencies:w.currencies,getTotalByPerson:w.getTotalByPerson,convertToKRW:w.convertToKRW,onMarkComplete:w.markSettlementComplete,onMarkIncomplete:w.markSettlementIncomplete,onPartialPay:w.partialPay}),d==="dashboard"&&l.jsx(dh,{expenses:w.expenses,persons:w.persons,currencies:w.currencies,convertToKRW:w.convertToKRW,totalBudget:c?.totalBudget})]})}),f&&l.jsx(mh,{currencies:w.currencies,onUpdateRate:w.updateCurrencyRate,onClose:()=>g(!1)}),j&&l.jsx(fh,{onClose:()=>h(!1)}),N&&l.jsx(hh,{onClose:()=>S(!1),deadline:c?.settlementDeadline,onUpdateDeadline:w.updateDeadline}),b.conflicts.length>0&&l.jsx(U0,{conflicts:b.conflicts,onResolve:v,onClose:()=>{}}),l.jsx(gh,{tabs:Ui,activeTab:d,onTabChange:u,badges:{settlement:A.length}})]})}function q0(){const{user:c,loading:o}=hs(),{currentTrip:d}=Li();return o?l.jsxs("div",{className:"loading-container",children:[l.jsx("div",{className:"loading-spinner"}),l.jsx("p",{children:" ..."})]}):c?d?l.jsx(L0,{}):l.jsx(Lx,{}):l.jsx(_x,{})}function Y0(){return l.jsx(H0,{})}function G0(){const{isDemoMode:c,enableDemoMode:o}=Hi();return c?l.jsx(Y0,{}):Aa?l.jsx(ix,{children:l.jsx(ox,{children:l.jsx(q0,{})})}):l.jsx(S0,{onEnableDemoMode:o})}function Q0(){return m.useEffect(()=>{E0()},[]),l.jsx(C0,{children:l.jsx(ux,{children:l.jsx(dx,{children:l.jsx(g0,{children:l.jsx(sx,{children:l.jsx(G0,{})})})})})})}ax.createRoot(document.getElementById("root")).render(l.jsx(m.StrictMode,{children:l.jsx(Q0,{})}));
